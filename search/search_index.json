{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Documentation # Ce document contient la documentation de l'extension Cadastre pour le logiciel QGIS ainsi que la documentation du module Cadastre pour Lizmap . Description # L'extension Cadastre a \u00e9t\u00e9 con\u00e7u pour faciliter l'utilisation des donn\u00e9es cadastrales dans QGIS. Plusieurs modules aident l'utilisateur \u00e0 importer des donn\u00e9es, les afficher dans QGIS, faire des recherches et imprimer les relev\u00e9s : L' import de donn\u00e9es cadastrales , MAJIC et EDIGEO, dans une base de donn\u00e9es PostgreSQL/PostGIS ou Sqlite/Spatialite . Un module de chargement permet d'ajouter automatiquement l'ensemble des couches cadastrales dans QGIS, avec la possibilit\u00e9 de choisir le style appliqu\u00e9. Un panneau de recherche offre la possibilit\u00e9 de rechercher des parcelles par adresse, propri\u00e9taire ou par situation (commune, section) et de naviguer vers ces parcelles cadastrales. Un outil d'identification permet d'afficher les donn\u00e9es li\u00e9es \u00e0 une parcelle en cliquant sur le polygone repr\u00e9sentant la parcelle. Il est possible enfin d'exporter les donn\u00e9es sous forme de relev\u00e9s parcellaires et de relev\u00e9s de propri\u00e9t\u00e9 . Pr\u00e9requis # De pr\u00e9f\u00e9rence, QGIS LTR 3.10, ou \u00e0 d\u00e9faut QGIS 3.4 PostgreSQL : \u2265 9.6 + PostGIS \u2265 1.5 et < 3.x Spatialite : 4.3.0 Financeurs # La r\u00e9alisation de l'extension Cadastre a \u00e9t\u00e9 financ\u00e9e par : L' Union Europ\u00e9enne Le Fonds Europ\u00e9en de D\u00e9veloppement R\u00e9gional de Picardie Le Conseil R\u00e9gional de Picardie L' Agence de D\u00e9veloppement et d'Urbanisme du Grand Ami\u00e9nois (ADUGA) Les \u00e9volutions 2020 ont \u00e9t\u00e9 soutenues par : Le Minist\u00e8re de la Transition \u00c9cologie L'association ASA de France La Communaut\u00e9 d'Agglom\u00e9ration du Grand-Narbonne Les Agences d'Urbanisme de Bretagne et autres : AGAM, AUSB, ADUGA, AUDAT, AUD Clermont M\u00e9tropole, AGAPE Lorraine Nord, Boulogne D\u00e9veloppement Le Conseil D\u00e9partemental de Meurthe et Moselle Les structures suivantes ont aid\u00e9 3Liz pour la maintenance ou l'ajout de fonctionnalit\u00e9s: L' ADUGA : maintenance pour les nouveaux mill\u00e9simes La Ville de Meg\u00e8ve : migration du plugin vers QGIS 3 La Communaut\u00e9 d'Agglom\u00e9ration du Soissonnais : am\u00e9lioration de la recherche et ajout d'informations sur les fiches parcellaires Le Conseil d\u00e9partemental du Gard : ajout d'informations dans la fiche parcellaire La M\u00e9tropole de Rennes : ajout des supports 2019 et 2020 des mill\u00e9simes MAJIC le Minist\u00e8re de la Transition \u00c9cologique : d\u00e9tails sur les propri\u00e9taires (indivisions) Les \u00e9volutions 2021 ont \u00e9t\u00e9 soutenues par : La M\u00e9tropole de Rennes : ajout du support MAJIC 2021 La M\u00e9tropole de Brest : enrichissement de la recherche de propri\u00e9taires (par nom d'usage, par nom de naissance, par commune) La soci\u00e9t\u00e9 \u00c9l\u00e9ments pour le t\u00e9l\u00e9chargeur \u00c9dig\u00e9o La M\u00e9tropole de Clermont-Ferrand : maintenance sur l'extension, travail exploratoire sur le remplacement d'ancien code concernant le DBManager et am\u00e9lioration du code","title":"Accueil"},{"location":"#documentation","text":"Ce document contient la documentation de l'extension Cadastre pour le logiciel QGIS ainsi que la documentation du module Cadastre pour Lizmap .","title":"Documentation"},{"location":"#description","text":"L'extension Cadastre a \u00e9t\u00e9 con\u00e7u pour faciliter l'utilisation des donn\u00e9es cadastrales dans QGIS. Plusieurs modules aident l'utilisateur \u00e0 importer des donn\u00e9es, les afficher dans QGIS, faire des recherches et imprimer les relev\u00e9s : L' import de donn\u00e9es cadastrales , MAJIC et EDIGEO, dans une base de donn\u00e9es PostgreSQL/PostGIS ou Sqlite/Spatialite . Un module de chargement permet d'ajouter automatiquement l'ensemble des couches cadastrales dans QGIS, avec la possibilit\u00e9 de choisir le style appliqu\u00e9. Un panneau de recherche offre la possibilit\u00e9 de rechercher des parcelles par adresse, propri\u00e9taire ou par situation (commune, section) et de naviguer vers ces parcelles cadastrales. Un outil d'identification permet d'afficher les donn\u00e9es li\u00e9es \u00e0 une parcelle en cliquant sur le polygone repr\u00e9sentant la parcelle. Il est possible enfin d'exporter les donn\u00e9es sous forme de relev\u00e9s parcellaires et de relev\u00e9s de propri\u00e9t\u00e9 .","title":"Description"},{"location":"#prerequis","text":"De pr\u00e9f\u00e9rence, QGIS LTR 3.10, ou \u00e0 d\u00e9faut QGIS 3.4 PostgreSQL : \u2265 9.6 + PostGIS \u2265 1.5 et < 3.x Spatialite : 4.3.0","title":"Pr\u00e9requis"},{"location":"#financeurs","text":"La r\u00e9alisation de l'extension Cadastre a \u00e9t\u00e9 financ\u00e9e par : L' Union Europ\u00e9enne Le Fonds Europ\u00e9en de D\u00e9veloppement R\u00e9gional de Picardie Le Conseil R\u00e9gional de Picardie L' Agence de D\u00e9veloppement et d'Urbanisme du Grand Ami\u00e9nois (ADUGA) Les \u00e9volutions 2020 ont \u00e9t\u00e9 soutenues par : Le Minist\u00e8re de la Transition \u00c9cologie L'association ASA de France La Communaut\u00e9 d'Agglom\u00e9ration du Grand-Narbonne Les Agences d'Urbanisme de Bretagne et autres : AGAM, AUSB, ADUGA, AUDAT, AUD Clermont M\u00e9tropole, AGAPE Lorraine Nord, Boulogne D\u00e9veloppement Le Conseil D\u00e9partemental de Meurthe et Moselle Les structures suivantes ont aid\u00e9 3Liz pour la maintenance ou l'ajout de fonctionnalit\u00e9s: L' ADUGA : maintenance pour les nouveaux mill\u00e9simes La Ville de Meg\u00e8ve : migration du plugin vers QGIS 3 La Communaut\u00e9 d'Agglom\u00e9ration du Soissonnais : am\u00e9lioration de la recherche et ajout d'informations sur les fiches parcellaires Le Conseil d\u00e9partemental du Gard : ajout d'informations dans la fiche parcellaire La M\u00e9tropole de Rennes : ajout des supports 2019 et 2020 des mill\u00e9simes MAJIC le Minist\u00e8re de la Transition \u00c9cologique : d\u00e9tails sur les propri\u00e9taires (indivisions) Les \u00e9volutions 2021 ont \u00e9t\u00e9 soutenues par : La M\u00e9tropole de Rennes : ajout du support MAJIC 2021 La M\u00e9tropole de Brest : enrichissement de la recherche de propri\u00e9taires (par nom d'usage, par nom de naissance, par commune) La soci\u00e9t\u00e9 \u00c9l\u00e9ments pour le t\u00e9l\u00e9chargeur \u00c9dig\u00e9o La M\u00e9tropole de Clermont-Ferrand : maintenance sur l'extension, travail exploratoire sur le remplacement d'ancien code concernant le DBManager et am\u00e9lioration du code","title":"Financeurs"},{"location":"CHANGELOG/","text":"Changelog # Unreleased # Ajout des noms courts sur les couches et les groupes pour rendre le projet valide par d\u00e9faut lors d'une publication sur Lizmap 1.13.5 - 2021-12-14 # Am\u00e9lioration du message d'erreur sur le fichier n'est pas \u00eatre d\u00e9compress\u00e9, ticket #339 Correction de la table commune_majic pour les mill\u00e9simes 2019 \u00e0 2021, ticket #333 1.13.4 - 2021-12-06 # Ajout du financeur de la m\u00e9tropole de Clermont-Ferrand Correction d'une r\u00e9gression suite \u00e0 la version 1.13.3 sur les champs *_bipevla 1.13.3 - 2021-11-18 # Corrections orthographiques Correction sur les \"Locaux : Informations d\u00e9taill\u00e9es\" Correction des exports PDF depuis le panneau de recherche Am\u00e9lioration du message d'erreur s'il n'y a pas assez de m\u00e9moire sur l'ordinateur Am\u00e9lioration de la documentation concernant les param\u00e8tres au niveau global de l'extension 1.13.2 - 2021-08-25 # Mise \u00e0 jour de https://docs.3liz.org/QgisCadastrePlugin/ pour les financeurs de l'extension Correction d'une erreur si l'extension est utilis\u00e9e pour la premi\u00e8re fois Correction d'une erreur possible pour ouvrir les fichiers en UTF-8 par d\u00e9faut 1.13.1 - 2021-08-10 # Correction d'un chemin dans le script standalone concernant l'export 1.13.0 - 2021-08-10 # Ajout du support MAJIC 2021 (Contribution de Ma\u00ebl Reboux) Refactorisation du code interne \u00e0 l'extension Mise \u00e0 jour de la documentation https://docs.3liz.org/QgisCadastrePlugin/ 1.12.1 - 2021-06-24 # Correction du chargement de l'extension avec QGIS < 3.10 1.12.0 - 2021-06-21 # Correction de l'export propri\u00e9taire \u00e0 une commune Mise \u00e0 jour de la documentation sur le module Lizmap 1.11.1 - 2021-06-01 # Sauvegarde et restoration des param\u00e8tres de la derni\u00e8re base utilis\u00e9e dans l'interface graphique 1.11.0 - 2021-05-21 # Correction d'un espace dans l'adresse dans les propri\u00e9t\u00e9s baties, non baties Correction d'une erreur SQL lors de la consultation des infos parcelle sur QGIS 3.16 bureautique et serveur Ajout du support QGIS 3.16 Ajout d'un bouton pour ouvrir l'aide depuis le menu principal d'aide de QGIS Ajout de la recherche d'un propri\u00e9taire par nom d'usage ou de naissance par ville Ajout d'un t\u00e9l\u00e9chargeur Edig\u00e9o communal dans la boite \u00e0 outils Processing Documentation https://docs.3liz.org/QgisCadastrePlugin/ Mise de la documentation au format MkDocs Int\u00e9gration de la documentation du module Lizmap Ajout de la documentation automatique concernant les traitements Processing Ajout de la documentation concernant la base de donn\u00e9es avec Sch\u00e9maSpy Ajout d'une infrastructure de tests 1.10.2 - 2020-12-10 # Correction sur la documentation Ajout d'une table de mati\u00e8res sur https://docs.3liz.org/QgisCadastrePlugin/ Afficher un message dans les logs si un fichier SQLite est manquant Pr\u00e9venir l'utilisateur sur les fichiers bz2 lors de l'import des fichiers \u00c9dig\u00e9o. 1.10.1 - 2020-11-05 # Ajout de la documentation de la base de donn\u00e9es sur https://docs.3liz.org/QgisCadastrePlugin/ Petites corrections sur la publication de l'extension 1.10.0 - 2020-11-04 # Import - Optimisation de l'import Spatialite et de l'affichage du temps pass\u00e9 Ajout de l'extraction de d\u00e9tails sur les propri\u00e9taires (indivisions) Widget \"Outils de Recherche\" : Ajout du bouton Infos parcelle Dialogue \"infos parcelle\" : Ajout des actions imprimer / copier /sauvegarder des infos des onglets R\u00e9vision barre d'outils (position actions) et r\u00e9\u00e9criture code menu / barre d'outils Fix - bug connexion (relev\u00e9 parcellaire, premi\u00e8re instanciation) 1.9.0 - 2020-09-07 # Documentation Support de QGIS 3.10 LTR #240 Pr\u00e9cisions sur les versions PostgreSQL et PostGIS support\u00e9es Support du mill\u00e9sime MAJIC 2020 #239 Am\u00e9liorations et corrections Suppression des doublons de communes et de sections dans les donn\u00e9es EDIGEO #196 Unit\u00e9s fonci\u00e8res : suppression des enregistrements sans comptes communaux #221 Correction d'un bogue dans l'affichage des informations d'une parcelle si le nom de la voie est nul #207 Correction d'un bogue affectant le chargement de la couche des parcelles si on utilise du filtrage sur le code de commune #229 Maintenance sur le code Python 1.8.1 - 2019-10-21 # Corrections de bugs essentiellement Import - EDIGEO: am\u00e9lioration des performances geo_batiment_parcelle Import - MAJIC: correction bug d'encodage Import MAJIC - garder vexen pour compatibilit\u00e9 Spatialite Spatialite - Correction des identifiants parcelle, voie et local00 dans la table local10 Fiche parcellaire - r\u00e9sum\u00e9: ajout de coalesce sur l'adresse [BUGFIX] Use of QgsMapLayer.VectorLayer in getLayerFromLegendByTableProps suppression de code sp\u00e9cifique QGIS 2 Cr\u00e9ation couche parcelle_info OK 1.8.0 - 2019-09-20 # IMPORTANT \u00c0 partir de cette version seule la version QGIS LTR sera support\u00e9e. Pour cette version il s'agit de la version 3.4.x Nouveaut\u00e9s: Prise en charge des \u00e9volutions MAJIC 2019 (voir #192 pour les d\u00e9tails). Noter la cr\u00e9ation de 2 nouvelles tables. Pr\u00e9cisions sur les versions QGIS, PostgreSQL / PostGIS et Spatialite support\u00e9es (#197) Mise \u00e0 jour de la documentation de la structure de la base de donn\u00e9es (#204) 1.7.1 - 2019-06-06 # Refactorize code for server and Qgis 3+ Ajouts et mises \u00e0 jour de tables domaine Correction valeur compte communal Ajout inspireid Am\u00e9lioration de plugin Server Nouvelle table de nomenclature natvoi Correction identifiants trim code de nature de voie [Serveur] Add GetCapabilities method to server CADASTRE service Creation d'un provider QgsProcessing 1.7.0 # Fiche parcellaire - Ajout des informations des propri\u00e9taires, subdivisions et locaux Fiche parcelle - Ajout de la surface spatiale b\u00e2tie Export (version QGIS 2): Ajout d'un script python pour exporter les relev\u00e9s PDF via ligne de commande Fix - G\u00e9n\u00e9ral: Am\u00e9lioration de la r\u00e9cup\u00e9ration d'informations sur les couches (h\u00f4te, base de donn\u00e9es, etc.) Fix - Import: Suppression de table temporaire ll si besoin Fix - Export: relev\u00e9 de propri\u00e9t\u00e9: d\u00e9doublonnage des comptes communaux export\u00e9s en PDF Fix - Correction d'un bug d'encodage Divers - Ajout des derniers financeurs dans le dialogue \"A propos\" 1.6.2 # G\u00e9n\u00e9ral - suppression de code inutile suite \u00e0 la migration QGIS3 Import - Correction de parcelles en doublons d\u00fb au lien avec geo_subdsect Export PDF - Correction d'un bug et restauration de l'affichage des propri\u00e9taires 1.6.1 # Correction de bug sur l'interrogation de propri\u00e9taire suite \u00e0 la gestion des dates en texte Correction d'un bug d'encodage sur message d'erreur de requ\u00eate SQL Import - Utilisation d'entiers longs pour les surfaces de parcelle_info (corrige le bug pour les tr\u00e8s grandes parcelles) Import - Ajout du support du mill\u00e9sime 2018 1.6.0 # Compatibilit\u00e9 du plugin avec QGIS 3. Les version compatibles avec QGIS 2 seront des versions de correction uniquement, avec un num\u00e9ro en 1.5.* 1.5.2 # Import - Transformation des champs date en texte pour le MAJIC, par respect de la donn\u00e9e source Correction d'un bug de la 1.5.1 avec QFileDialog, QFileInfo et BaseError manquant 1.5.1 # Import - MAJIC : correction de bug si dates mauvaises (30 f\u00e9v par ex) Import - Support partiel des donn\u00e9es EDIGEO en projection IGNF Import - Correction d'un bug de non remplissage des parcelles si correspondance geo_subdsect manquant Import - EDIGEO : conversion en date des champs de geo_subdsect seulement si format correct #120 1.5.0 # Chargement - Ajout de couches via requ\u00eate SQL Import - Ajout de la nomenclature pour ccocac Import - Correction sur la table pivot geo_batiment_parcelle: restriction par intersection Rechercher - D\u00e9placement de la recherche d'adresse sous celle par parcelle Chargement - correction d'un bug sur l'ajout dans les groupes Cadastre Import - Ajout du support de MAJIC 2017 Recherche - Support de l'autocompl\u00e9tion pour les adresses et les propri\u00e9taires Recherche - Int\u00e9gration des adresses dans la recherche de lieux Import - Correction du bug de r\u00e9cup\u00e9ration des propri\u00e9t\u00e9s b\u00e2ties Import/Identification - contournement du bug d'encodage sur requ\u00eate pour QGIS 2.18.10 et > Identification - correction du bug sur chargement de projet QGIS Import - Majic : import des propri\u00e9taires si et seulement si dnupro est non vide Import - Lieudits: utilisation de tous les champs tex Recherche - R\u00e9application de l'ordre dans les listes d\u00e9roulantes (sections, parcelles) BDD - Possibilit\u00e9 de se connecter avec un connexion utilisant un service PostgreSQL 1.4.1 # Import/Chargement - correction de bug pour Spatialite sur g\u00e9n\u00e9ration parcelle_info 1.4.0 # Menu - Suppression du menu Cadastre et d\u00e9placement dans le menu Extensions Barre d'outil - Modification de l'ic\u00f4ne d'identification (merci @pasqual ) Structure bdd - G\u00e9n\u00e9ralisation des codes d\u00e9partements et direction dans les identifiants Structure bdd - Parcelles: consolidation des infos propri\u00e9taires dans une nouvelle table parcelle_info Import - Correction d'un bug de remplissage de geo_sym si ptcanv_id.sym est NULL Import - MAJIC: Filtrage des donn\u00e9es import\u00e9es selon d\u00e9partement et direction: on peut utiliser le fichier FANTOIR national Import - Ajout du support de MAJIC 2016 Import - Edigeo : am\u00e9lioration de la jointure de geo_parcelle ave geo_subdsect Import - Correction des doublons sur les parcelles (dus au lien geo_subdsect) Import - Edigeo: am\u00e9lioration des performances pour tpoint, tline, tsurf Import - Augmentation de la limite max pour le code direction - fixes #94 Import - Utilisation directe des fichiers sources sans copie pr\u00e9alable Import - Suppression des contraintes de taille dans les champs Import - D\u00e9placement des scripts SQL d'import et nettoyage Import - Fantoir recommand\u00e9 lors de l'import MAJIC && lien de t\u00e9l\u00e9chargement ajout\u00e9 Import - Correction des parcelles dupliqu\u00e9es si plusieurs sous-sections Import - correction du bug emp\u00eachant la cr\u00e9ation de base sqlite sous 2.16 - #83 Chargement - Ajout du filtre par expression sur les communes (exp\u00e9rimental) Chargement - possibilit\u00e9 de charger seulement les couches principales Chargement - S\u00e9paration des \u00e9tiquettes et des donn\u00e9es en groupes & d\u00e9sactivation des couches mineures Chargement - Mise \u00e0 jour et am\u00e9lioration des styles Chargement - Correction de bug sur QgsMapLayer non d\u00e9fini Chargement - Styles : masquage de la couche Tron\u00e7ons de routes aux petites \u00e9chelles Export - Ajout d'un nouveau menu pour exporter la vue courante en PDF Export - ajout d'une carte en 1\u00e8re page pour le relev\u00e9 parcellaire Export - Ouverture automatique du r\u00e9pertoire apr\u00e8s export PDF multiple Recherche - La recherche par commune et section utilise le lot pour \u00e9viter les doublons si plusieurs d\u00e9partements Serveur - Ajout de la capacit\u00e9 \"server\" pour le plugin 1.3.0 # Import - MAJIC : support du mill\u00e9sime 2015. La structure a \u00e9t\u00e9 un peu modifi\u00e9e. Il faut r\u00e9aliser l'import dans un nouveau sch\u00e9ma PostGreSQL ou une nouvelle base de donn\u00e9es Spatialite. Un script de migration de la structure est disponible pour PostGreSQL pour ceux qui pr\u00e9f\u00e8rent conserver le sch\u00e9ma actuel (faites une sauvegarde avant !) : /.qgis2/python/plugins/cadastre/scripts/plugin/updates/update_structure_postgis_from_1.2.0_to_1.3.0.sql Import - Ajout d'un syst\u00e8me de cr\u00e9ation des tables manquantes ( pour les mont\u00e9es de version ) Edigeo - Ajout des objets TRONROUTE dans la table geo_tronroute Import - \u00c9viter l'import des parcelles EDIGEO avec un idu NULL Plugin - Suppression de la contrainte de version maximum de QGIS 1.2.0 # Import - Am\u00e9lioration des performances d'imports pour Spatialite Import - Ajout d'une option pour activer/d\u00e9sactiver la validation des g\u00e9om\u00e9tries Import - Suppression de l'outil de r\u00e9paration des multipolygones sur une bdd d\u00e9ja import\u00e9e (phase de transition termin\u00e9e ) Interface - pour l'interface Cadastre, ajout des boutons WMS/WFS - fixes #53 Export - Debogage des exports PDF vides pour la 2.8 - fixes #60 Identification parcelle - am\u00e9lioration interne de l'outil (pas visible dans l'interface) Import - Prise en compte des fichiers MAJIC sans contenus dans les premi\u00e8res lignes 1.1.1 # Ajout de la compatibilit\u00e9 avec QGIS 2.8 1.1.0 # Options - Ajout du menu Vue/D\u00e9corations dans l'interface Cadastre Chargement - La couche Unit\u00e9s fonci\u00e8res est d\u00e9coch\u00e9e par d\u00e9faut Import - Ajout des scripts pyogr pour compatibilit\u00e9 QGIS 2.6 Ajout d'une boite de dialogue d'information lors du 1er chargement. Visible via le menu Cadastre > Notes de version Import/Recherche/Export - Modification du lien entre les parcelles EDIGEO et MAJIC (m\u00eame identifiant unique pour les 2) Import - exhaustivit\u00e9 des donn\u00e9es de propri\u00e9taire MAJIC - fix #47 Import - Conserver l'orientation des symboles lors d'imports successifs - fix #46 Import - Correction des g\u00e9om\u00e9tries invalides - fix #43 Import - Correction des multipolygones sous Windows - fixes #44 Info parcelle - option de filtre commune pour le relev\u00e9 de propri\u00e9t\u00e9 - fix #42 Chargement - Ajout des TRONROUTE_ID pour les \u00e9tiquettes des noms voies - bug #40 Chargement - Suppression des \u00e9tiquettes abb\u00e9rantes - fix #41 Import - Ajout des unit\u00e9s fonci\u00e8res pour PostGIS (refonte de la requ\u00eate) Import - MAJIC : ajout de la compatibilit\u00e9 des fichiers 2014 Import - EDIGEO : ajout de la table boulon_id Chargement - correction du bug #38 : minidump sous Windows 1.0.0 # Import - d\u00e9bogage import PostGreSQL sous Windows Recherche - Meilleure gestion de la d\u00e9sactivation des modules de recherche Import - MAJIC : possibilit\u00e9 de lancer l'import m\u00eame si fichiers MAJIC manquants Import - V\u00e9rifications sur les donn\u00e9es MAJIC avant import - bug #37 Import - Meilleure gestion des chemins des fichiers sources Import - Cr\u00e9ation de bdd spatialite diff\u00e9rente selon la version de spatialite - bug #30 Export - D\u00e9bogage de l'export PDF pour QGIS 2.4 - bug #36 Import : MAJIC - arr\u00eat de l'import si aucun fichier trouv\u00e9 Import - Modifications mineures d'interface Import - meilleure gestion des imports EDIGEO via ogr2ogr.py au lieu de ogr2ogr.exe (compatibilit\u00e9 MAC + d\u00e9tection des erreurs) 0.9.9 # Import - correction de certaines erreurs d'import des MULTIPOLYGONES (PostGreSQL et Spatialite) 0.9.8.1 # Export - debug : suppression des 'print' dans le code 0.9.8 # Log d\u00e9taill\u00e9 : https://github.com/3liz/QgisCadastrePlugin/compare/0.9.7...0.9.8 Export des relev\u00e9s - am\u00e9liorations de mises en forme des donn\u00e9es Export - propri\u00e9taires : ajout de l'\u00e9poux pour les femmes mari\u00e9es EX: MME DURAND/Sophie Yvette EP DUPONT Jean Export - propri\u00e9taires : d\u00e9placement des dates et lieu de naissance \u00e0 droite Export - Suppression des z\u00e9ros au d\u00e9but du num\u00e9ro de plan et de voirie Export - prop. baties : Suppression du code commune au d\u00e9but du num\u00e9ro INVAR Export - Sommes prop. baties : Ajout de z\u00e9ros si valeurs nulles (au lieu de cases vides) Export - prop. non baties : S\u00e9paration des HA A CA pour la contenance Export - prop. non baties : Calcul de la fraction exo si applicable Export - Sommes prop. non baties : Ajout de la somme des contenances Export - Pied de page : Ajout de la mention \"Ce document est donn\u00e9 \u00e0 titre indicatif...\" Export - Suppression de la mention \"Exp\u00e9rimental\" Import - Import des MULTI-POLYGONES et correction de donn\u00e9es existantes - bug #29 0.9.7 # Log d\u00e9taill\u00e9 : https://github.com/3liz/QgisCadastrePlugin/compare/0.9.6...0.9.7 Documentation - ajout des liens vers la documentation en ligne - bug #3 Export - recup\u00e9ration infos parcelles : ajout du filtre par d\u00e9partement - bug #27 Export - correction du pourcentage exoneration pour les propri\u00e9t\u00e9s non baties - bug #26 Import - validation pr\u00e9alable des entr\u00e9es du formulaire d'import - bug #25 Chargement - ajout des chemins SVG cadastre sans \u00e9craser les pr\u00e9c\u00e9dents - bug #19 Identification - debogage outil si Parcelles n'est pas la couche active Export - nettoyage du nom du PDF export\u00e9 pour compatibilit\u00e9 Windows - bug #23 Import - sup contrainte de type sur surface des parcelles - bug #20 Import - suppression de la contrainte de longueur de champ pour l'attribut tex Chargement - gestion d'erreur si pas de table trouv\u00e9e dans la bdd Recherche - correction largeur listes d\u00e9roulantes (windows) - bug #22 Export - ouverture des PDF compatible freeBSD - bug #21 0.9.6 # Log d\u00e9taill\u00e9 : https://github.com/3liz/QgisCadastrePlugin/compare/0.9.5...0.9.6 Import - actualisation liste des tar.bz2 apr\u00e8s d\u00e9compression de zip Documentation - mise \u00e0 jour Recherche/export - meilleurs r\u00e9sultats si fantoir non import\u00e9 - bug #18 Export multiple - barre de progression et ouverture du dossier contenant Export - optimisation - bug #2 Chargement - r\u00e9utilisation du groupe Cadastre si pr\u00e9sent - bug #14 Identification - r\u00e9initialisation de l'outil identifier au chargement Spatialite - debogage base de donn\u00e9es si chemin contient des espaces - bug #17 Recherche - adresse/propri\u00e9taire : gestion des apostrophes - bug #12 Import - remplacement CREATE TABLE IF NOT EXISTS - bug #13 Meilleur comportement des outils de recherche sur ouverture d'un (nouveau) projet 0.9.5 # Chargement - bug #8: pas d'erreur si pr\u00e9sence de couches plugin OpenLayers Recherche/Identification - r\u00e9activation des outils sur chargement d'un projet Cadastre - #9 Recherche - Lieux : Liste des sections ordonn\u00e9es par code Import - correction bug Spatialite import relations (*.vec) - bug #7 Import - Gestion des erreurs de suppression de fichier apr\u00e8s extraction - bug #5 Import - modifications des scripts pour gestion arrondissements (ex: Marseille) 0.9.4 # Import - bouton Cr\u00e9er une base Spatialite gris\u00e9 si aucune connection dans QGIS 0.9.3 # Documentation - ajout d'une documentation (avec copies d'\u00e9cran) Chargement - remplacement du panneau par une fen\u00eatre Configurer - ajout d'un option pour le type de stockage temporaire de Spatialite Import - spatialite : remove disablespatialindex Import - Am\u00e9lioration des imports cons\u00e9cutifs (indexes, erreurs spatialites, etc.) Majic - import r\u00e9cursif G\u00e9n\u00e9ral - ajout d'un menu d'aide et r\u00e9daction de l'aide Import - restriction des imports \u00e0 2012 et 2013 Export - am\u00e9lioration des calculs des sommes A propos - correction coquille Recherche/Export - gestion des propri\u00e9taires sur plusieurs communes About - ajout du lien vers le d\u00e9p\u00f4t Github A propos - modification de l'ordre des financeurs 0.9.2 # Import - suppression des indexes avant ajout Majic incr\u00e9mental G\u00e9n\u00e9ral - r\u00e9daction du README et metadata Import - am\u00e9lioration de l'import Spatialite A propos - ajout du remerciement aux auteurs d'OpenCadastre G\u00e9n\u00e9ral - affichage de la fen\u00eatre 'A propos' \u00e0 la 1\u00e8re utilisation Option - ajout de l'aide pour changer d'interface Import - am\u00e9lioration des scripts Import - La Direction est bloqu\u00e9e : entier entre 0 et 5 Chargement - renommage des couches && fermeture des l\u00e9gendes Recherche/Identification - d\u00e9sactivation des outils n\u00e9cessitant MAJIC si pas de donn\u00e9es 0.9.1 # Chargement - ajout du style Orthophoto Import - modification interface du choix du type de bdd Import - les fichiers EDIGEO non zip/tar.bz2 sont bien pris en compte Import - Ajout d'un bouton pour cr\u00e9er une base de donn\u00e9es Spatialite vide Toolbar - Ajout import/charger/recherche/about + modification ic\u00f4ne Styles - Classique : am\u00e9lioration tsurf 0.9.0 # Correction de r\u00e9gression de 0.8.9 : indentification parcelle et recherche propri\u00e9taire 0.8.9 # Am\u00e9lioration du support Spatialite : import, recherche, export General - d\u00e9sactivation Spatialite si pyspatialite non pr\u00e9sent 0.8.8 # Import - ajout d'une option pour configurer le nombre de ligne INSERT max Propri\u00e9taires - debug affichage vide pour les personnes morales Recherche - ajout des stopwords pour les natvoi Indentification parcelle - textes en lecture seule + code section || dnupla Import majic - V\u00e9rfication unicit\u00e9 des lotslocaux 0.8.7 # Export - changement du calcul du revenu cadastral non bati + num\u00e9ro voirie Import - possibilit\u00e9 d'importer un fichier MAJIC seul Import - Ajout des contraintes \u00e0 la fin d'un import MAJIC seul Import - modification mineure nomenclature EDIGEO Import - Compatibilit\u00e9 avec les fichiers MAJIC 2013 Import MAJIC - ajout de quelques colonnes (bati, nbat) Export - Calcul des sommes pour bati et nbat Recherche/export - ajout du lieu et date de naissance pour les propri\u00e9taires Chargement - Cr\u00e9ation d'un groupe 'Cadastre' et chargement des couches dans ce groupe Chargement - mise \u00e0 jour auto des listes d\u00e9roulantes suite \u00e0 un import 0.8.6 # Recherche/Export - Ajout ccocom dans comptecommunal (d\u00e9doublonnage) Import - MAJI : suppression des caract\u00e8res non imprimables et de contr\u00f4le 0.8.5 # Import - debug utilisation m\u00e9moire lors de la leture des fichiers majic volumineux Recherche - suppression du bug si ouverture panneau avec couches hors cadastre Recherche/Indenfitication - Correction du Zoom/Centrer si reprojection \u00e0 la vol\u00e9e Recherche - adaptation remplissage table voie pour g\u00e9rer le multi-commune 0.8.4 # Import - Modification dynamique de la projection des tables edigeo Recherche - Am\u00e9lioration recherche d'adresse via table voie (fantoir) Chargement - utilisation de Times New Roman pour les \u00e9tiquettes 0.8.3 # Import - majic: suppressions de caract\u00e8res \\x00 Import - debug Windows sur chemins vers scripts contraintes 0.8.2 # Import - debug du nom du sch\u00e9ma \"a\" pr\u00e9c\u00e9demment \u00e9crit en dur (r\u00e9gression 0.8.1) Import - utilisation du serial pour geo_commune, geo_parcelle et geo_section : \u00e9vite les erreurs de r\u00e9tablissement des cl\u00e9s primaires 0.8.1 # Import - possibilit\u00e9 d'import vers une base de donn\u00e9es distante Import - possibilit\u00e9 d'importer en plusieurs passes","title":"Changelog"},{"location":"CHANGELOG/#changelog","text":"","title":"Changelog"},{"location":"CHANGELOG/#unreleased","text":"Ajout des noms courts sur les couches et les groupes pour rendre le projet valide par d\u00e9faut lors d'une publication sur Lizmap","title":"Unreleased"},{"location":"CHANGELOG/#1135-2021-12-14","text":"Am\u00e9lioration du message d'erreur sur le fichier n'est pas \u00eatre d\u00e9compress\u00e9, ticket #339 Correction de la table commune_majic pour les mill\u00e9simes 2019 \u00e0 2021, ticket #333","title":"1.13.5 - 2021-12-14"},{"location":"CHANGELOG/#1134-2021-12-06","text":"Ajout du financeur de la m\u00e9tropole de Clermont-Ferrand Correction d'une r\u00e9gression suite \u00e0 la version 1.13.3 sur les champs *_bipevla","title":"1.13.4 - 2021-12-06"},{"location":"CHANGELOG/#1133-2021-11-18","text":"Corrections orthographiques Correction sur les \"Locaux : Informations d\u00e9taill\u00e9es\" Correction des exports PDF depuis le panneau de recherche Am\u00e9lioration du message d'erreur s'il n'y a pas assez de m\u00e9moire sur l'ordinateur Am\u00e9lioration de la documentation concernant les param\u00e8tres au niveau global de l'extension","title":"1.13.3 - 2021-11-18"},{"location":"CHANGELOG/#1132-2021-08-25","text":"Mise \u00e0 jour de https://docs.3liz.org/QgisCadastrePlugin/ pour les financeurs de l'extension Correction d'une erreur si l'extension est utilis\u00e9e pour la premi\u00e8re fois Correction d'une erreur possible pour ouvrir les fichiers en UTF-8 par d\u00e9faut","title":"1.13.2 - 2021-08-25"},{"location":"CHANGELOG/#1131-2021-08-10","text":"Correction d'un chemin dans le script standalone concernant l'export","title":"1.13.1 - 2021-08-10"},{"location":"CHANGELOG/#1130-2021-08-10","text":"Ajout du support MAJIC 2021 (Contribution de Ma\u00ebl Reboux) Refactorisation du code interne \u00e0 l'extension Mise \u00e0 jour de la documentation https://docs.3liz.org/QgisCadastrePlugin/","title":"1.13.0 - 2021-08-10"},{"location":"CHANGELOG/#1121-2021-06-24","text":"Correction du chargement de l'extension avec QGIS < 3.10","title":"1.12.1 - 2021-06-24"},{"location":"CHANGELOG/#1120-2021-06-21","text":"Correction de l'export propri\u00e9taire \u00e0 une commune Mise \u00e0 jour de la documentation sur le module Lizmap","title":"1.12.0 - 2021-06-21"},{"location":"CHANGELOG/#1111-2021-06-01","text":"Sauvegarde et restoration des param\u00e8tres de la derni\u00e8re base utilis\u00e9e dans l'interface graphique","title":"1.11.1 - 2021-06-01"},{"location":"CHANGELOG/#1110-2021-05-21","text":"Correction d'un espace dans l'adresse dans les propri\u00e9t\u00e9s baties, non baties Correction d'une erreur SQL lors de la consultation des infos parcelle sur QGIS 3.16 bureautique et serveur Ajout du support QGIS 3.16 Ajout d'un bouton pour ouvrir l'aide depuis le menu principal d'aide de QGIS Ajout de la recherche d'un propri\u00e9taire par nom d'usage ou de naissance par ville Ajout d'un t\u00e9l\u00e9chargeur Edig\u00e9o communal dans la boite \u00e0 outils Processing Documentation https://docs.3liz.org/QgisCadastrePlugin/ Mise de la documentation au format MkDocs Int\u00e9gration de la documentation du module Lizmap Ajout de la documentation automatique concernant les traitements Processing Ajout de la documentation concernant la base de donn\u00e9es avec Sch\u00e9maSpy Ajout d'une infrastructure de tests","title":"1.11.0 - 2021-05-21"},{"location":"CHANGELOG/#1102-2020-12-10","text":"Correction sur la documentation Ajout d'une table de mati\u00e8res sur https://docs.3liz.org/QgisCadastrePlugin/ Afficher un message dans les logs si un fichier SQLite est manquant Pr\u00e9venir l'utilisateur sur les fichiers bz2 lors de l'import des fichiers \u00c9dig\u00e9o.","title":"1.10.2 - 2020-12-10"},{"location":"CHANGELOG/#1101-2020-11-05","text":"Ajout de la documentation de la base de donn\u00e9es sur https://docs.3liz.org/QgisCadastrePlugin/ Petites corrections sur la publication de l'extension","title":"1.10.1 - 2020-11-05"},{"location":"CHANGELOG/#1100-2020-11-04","text":"Import - Optimisation de l'import Spatialite et de l'affichage du temps pass\u00e9 Ajout de l'extraction de d\u00e9tails sur les propri\u00e9taires (indivisions) Widget \"Outils de Recherche\" : Ajout du bouton Infos parcelle Dialogue \"infos parcelle\" : Ajout des actions imprimer / copier /sauvegarder des infos des onglets R\u00e9vision barre d'outils (position actions) et r\u00e9\u00e9criture code menu / barre d'outils Fix - bug connexion (relev\u00e9 parcellaire, premi\u00e8re instanciation)","title":"1.10.0 - 2020-11-04"},{"location":"CHANGELOG/#190-2020-09-07","text":"Documentation Support de QGIS 3.10 LTR #240 Pr\u00e9cisions sur les versions PostgreSQL et PostGIS support\u00e9es Support du mill\u00e9sime MAJIC 2020 #239 Am\u00e9liorations et corrections Suppression des doublons de communes et de sections dans les donn\u00e9es EDIGEO #196 Unit\u00e9s fonci\u00e8res : suppression des enregistrements sans comptes communaux #221 Correction d'un bogue dans l'affichage des informations d'une parcelle si le nom de la voie est nul #207 Correction d'un bogue affectant le chargement de la couche des parcelles si on utilise du filtrage sur le code de commune #229 Maintenance sur le code Python","title":"1.9.0 - 2020-09-07"},{"location":"CHANGELOG/#181-2019-10-21","text":"Corrections de bugs essentiellement Import - EDIGEO: am\u00e9lioration des performances geo_batiment_parcelle Import - MAJIC: correction bug d'encodage Import MAJIC - garder vexen pour compatibilit\u00e9 Spatialite Spatialite - Correction des identifiants parcelle, voie et local00 dans la table local10 Fiche parcellaire - r\u00e9sum\u00e9: ajout de coalesce sur l'adresse [BUGFIX] Use of QgsMapLayer.VectorLayer in getLayerFromLegendByTableProps suppression de code sp\u00e9cifique QGIS 2 Cr\u00e9ation couche parcelle_info OK","title":"1.8.1 - 2019-10-21"},{"location":"CHANGELOG/#180-2019-09-20","text":"IMPORTANT \u00c0 partir de cette version seule la version QGIS LTR sera support\u00e9e. Pour cette version il s'agit de la version 3.4.x Nouveaut\u00e9s: Prise en charge des \u00e9volutions MAJIC 2019 (voir #192 pour les d\u00e9tails). Noter la cr\u00e9ation de 2 nouvelles tables. Pr\u00e9cisions sur les versions QGIS, PostgreSQL / PostGIS et Spatialite support\u00e9es (#197) Mise \u00e0 jour de la documentation de la structure de la base de donn\u00e9es (#204)","title":"1.8.0 - 2019-09-20"},{"location":"CHANGELOG/#171-2019-06-06","text":"Refactorize code for server and Qgis 3+ Ajouts et mises \u00e0 jour de tables domaine Correction valeur compte communal Ajout inspireid Am\u00e9lioration de plugin Server Nouvelle table de nomenclature natvoi Correction identifiants trim code de nature de voie [Serveur] Add GetCapabilities method to server CADASTRE service Creation d'un provider QgsProcessing","title":"1.7.1 - 2019-06-06"},{"location":"CHANGELOG/#170","text":"Fiche parcellaire - Ajout des informations des propri\u00e9taires, subdivisions et locaux Fiche parcelle - Ajout de la surface spatiale b\u00e2tie Export (version QGIS 2): Ajout d'un script python pour exporter les relev\u00e9s PDF via ligne de commande Fix - G\u00e9n\u00e9ral: Am\u00e9lioration de la r\u00e9cup\u00e9ration d'informations sur les couches (h\u00f4te, base de donn\u00e9es, etc.) Fix - Import: Suppression de table temporaire ll si besoin Fix - Export: relev\u00e9 de propri\u00e9t\u00e9: d\u00e9doublonnage des comptes communaux export\u00e9s en PDF Fix - Correction d'un bug d'encodage Divers - Ajout des derniers financeurs dans le dialogue \"A propos\"","title":"1.7.0"},{"location":"CHANGELOG/#162","text":"G\u00e9n\u00e9ral - suppression de code inutile suite \u00e0 la migration QGIS3 Import - Correction de parcelles en doublons d\u00fb au lien avec geo_subdsect Export PDF - Correction d'un bug et restauration de l'affichage des propri\u00e9taires","title":"1.6.2"},{"location":"CHANGELOG/#161","text":"Correction de bug sur l'interrogation de propri\u00e9taire suite \u00e0 la gestion des dates en texte Correction d'un bug d'encodage sur message d'erreur de requ\u00eate SQL Import - Utilisation d'entiers longs pour les surfaces de parcelle_info (corrige le bug pour les tr\u00e8s grandes parcelles) Import - Ajout du support du mill\u00e9sime 2018","title":"1.6.1"},{"location":"CHANGELOG/#160","text":"Compatibilit\u00e9 du plugin avec QGIS 3. Les version compatibles avec QGIS 2 seront des versions de correction uniquement, avec un num\u00e9ro en 1.5.*","title":"1.6.0"},{"location":"CHANGELOG/#152","text":"Import - Transformation des champs date en texte pour le MAJIC, par respect de la donn\u00e9e source Correction d'un bug de la 1.5.1 avec QFileDialog, QFileInfo et BaseError manquant","title":"1.5.2"},{"location":"CHANGELOG/#151","text":"Import - MAJIC : correction de bug si dates mauvaises (30 f\u00e9v par ex) Import - Support partiel des donn\u00e9es EDIGEO en projection IGNF Import - Correction d'un bug de non remplissage des parcelles si correspondance geo_subdsect manquant Import - EDIGEO : conversion en date des champs de geo_subdsect seulement si format correct #120","title":"1.5.1"},{"location":"CHANGELOG/#150","text":"Chargement - Ajout de couches via requ\u00eate SQL Import - Ajout de la nomenclature pour ccocac Import - Correction sur la table pivot geo_batiment_parcelle: restriction par intersection Rechercher - D\u00e9placement de la recherche d'adresse sous celle par parcelle Chargement - correction d'un bug sur l'ajout dans les groupes Cadastre Import - Ajout du support de MAJIC 2017 Recherche - Support de l'autocompl\u00e9tion pour les adresses et les propri\u00e9taires Recherche - Int\u00e9gration des adresses dans la recherche de lieux Import - Correction du bug de r\u00e9cup\u00e9ration des propri\u00e9t\u00e9s b\u00e2ties Import/Identification - contournement du bug d'encodage sur requ\u00eate pour QGIS 2.18.10 et > Identification - correction du bug sur chargement de projet QGIS Import - Majic : import des propri\u00e9taires si et seulement si dnupro est non vide Import - Lieudits: utilisation de tous les champs tex Recherche - R\u00e9application de l'ordre dans les listes d\u00e9roulantes (sections, parcelles) BDD - Possibilit\u00e9 de se connecter avec un connexion utilisant un service PostgreSQL","title":"1.5.0"},{"location":"CHANGELOG/#141","text":"Import/Chargement - correction de bug pour Spatialite sur g\u00e9n\u00e9ration parcelle_info","title":"1.4.1"},{"location":"CHANGELOG/#140","text":"Menu - Suppression du menu Cadastre et d\u00e9placement dans le menu Extensions Barre d'outil - Modification de l'ic\u00f4ne d'identification (merci @pasqual ) Structure bdd - G\u00e9n\u00e9ralisation des codes d\u00e9partements et direction dans les identifiants Structure bdd - Parcelles: consolidation des infos propri\u00e9taires dans une nouvelle table parcelle_info Import - Correction d'un bug de remplissage de geo_sym si ptcanv_id.sym est NULL Import - MAJIC: Filtrage des donn\u00e9es import\u00e9es selon d\u00e9partement et direction: on peut utiliser le fichier FANTOIR national Import - Ajout du support de MAJIC 2016 Import - Edigeo : am\u00e9lioration de la jointure de geo_parcelle ave geo_subdsect Import - Correction des doublons sur les parcelles (dus au lien geo_subdsect) Import - Edigeo: am\u00e9lioration des performances pour tpoint, tline, tsurf Import - Augmentation de la limite max pour le code direction - fixes #94 Import - Utilisation directe des fichiers sources sans copie pr\u00e9alable Import - Suppression des contraintes de taille dans les champs Import - D\u00e9placement des scripts SQL d'import et nettoyage Import - Fantoir recommand\u00e9 lors de l'import MAJIC && lien de t\u00e9l\u00e9chargement ajout\u00e9 Import - Correction des parcelles dupliqu\u00e9es si plusieurs sous-sections Import - correction du bug emp\u00eachant la cr\u00e9ation de base sqlite sous 2.16 - #83 Chargement - Ajout du filtre par expression sur les communes (exp\u00e9rimental) Chargement - possibilit\u00e9 de charger seulement les couches principales Chargement - S\u00e9paration des \u00e9tiquettes et des donn\u00e9es en groupes & d\u00e9sactivation des couches mineures Chargement - Mise \u00e0 jour et am\u00e9lioration des styles Chargement - Correction de bug sur QgsMapLayer non d\u00e9fini Chargement - Styles : masquage de la couche Tron\u00e7ons de routes aux petites \u00e9chelles Export - Ajout d'un nouveau menu pour exporter la vue courante en PDF Export - ajout d'une carte en 1\u00e8re page pour le relev\u00e9 parcellaire Export - Ouverture automatique du r\u00e9pertoire apr\u00e8s export PDF multiple Recherche - La recherche par commune et section utilise le lot pour \u00e9viter les doublons si plusieurs d\u00e9partements Serveur - Ajout de la capacit\u00e9 \"server\" pour le plugin","title":"1.4.0"},{"location":"CHANGELOG/#130","text":"Import - MAJIC : support du mill\u00e9sime 2015. La structure a \u00e9t\u00e9 un peu modifi\u00e9e. Il faut r\u00e9aliser l'import dans un nouveau sch\u00e9ma PostGreSQL ou une nouvelle base de donn\u00e9es Spatialite. Un script de migration de la structure est disponible pour PostGreSQL pour ceux qui pr\u00e9f\u00e8rent conserver le sch\u00e9ma actuel (faites une sauvegarde avant !) : /.qgis2/python/plugins/cadastre/scripts/plugin/updates/update_structure_postgis_from_1.2.0_to_1.3.0.sql Import - Ajout d'un syst\u00e8me de cr\u00e9ation des tables manquantes ( pour les mont\u00e9es de version ) Edigeo - Ajout des objets TRONROUTE dans la table geo_tronroute Import - \u00c9viter l'import des parcelles EDIGEO avec un idu NULL Plugin - Suppression de la contrainte de version maximum de QGIS","title":"1.3.0"},{"location":"CHANGELOG/#120","text":"Import - Am\u00e9lioration des performances d'imports pour Spatialite Import - Ajout d'une option pour activer/d\u00e9sactiver la validation des g\u00e9om\u00e9tries Import - Suppression de l'outil de r\u00e9paration des multipolygones sur une bdd d\u00e9ja import\u00e9e (phase de transition termin\u00e9e ) Interface - pour l'interface Cadastre, ajout des boutons WMS/WFS - fixes #53 Export - Debogage des exports PDF vides pour la 2.8 - fixes #60 Identification parcelle - am\u00e9lioration interne de l'outil (pas visible dans l'interface) Import - Prise en compte des fichiers MAJIC sans contenus dans les premi\u00e8res lignes","title":"1.2.0"},{"location":"CHANGELOG/#111","text":"Ajout de la compatibilit\u00e9 avec QGIS 2.8","title":"1.1.1"},{"location":"CHANGELOG/#110","text":"Options - Ajout du menu Vue/D\u00e9corations dans l'interface Cadastre Chargement - La couche Unit\u00e9s fonci\u00e8res est d\u00e9coch\u00e9e par d\u00e9faut Import - Ajout des scripts pyogr pour compatibilit\u00e9 QGIS 2.6 Ajout d'une boite de dialogue d'information lors du 1er chargement. Visible via le menu Cadastre > Notes de version Import/Recherche/Export - Modification du lien entre les parcelles EDIGEO et MAJIC (m\u00eame identifiant unique pour les 2) Import - exhaustivit\u00e9 des donn\u00e9es de propri\u00e9taire MAJIC - fix #47 Import - Conserver l'orientation des symboles lors d'imports successifs - fix #46 Import - Correction des g\u00e9om\u00e9tries invalides - fix #43 Import - Correction des multipolygones sous Windows - fixes #44 Info parcelle - option de filtre commune pour le relev\u00e9 de propri\u00e9t\u00e9 - fix #42 Chargement - Ajout des TRONROUTE_ID pour les \u00e9tiquettes des noms voies - bug #40 Chargement - Suppression des \u00e9tiquettes abb\u00e9rantes - fix #41 Import - Ajout des unit\u00e9s fonci\u00e8res pour PostGIS (refonte de la requ\u00eate) Import - MAJIC : ajout de la compatibilit\u00e9 des fichiers 2014 Import - EDIGEO : ajout de la table boulon_id Chargement - correction du bug #38 : minidump sous Windows","title":"1.1.0"},{"location":"CHANGELOG/#100","text":"Import - d\u00e9bogage import PostGreSQL sous Windows Recherche - Meilleure gestion de la d\u00e9sactivation des modules de recherche Import - MAJIC : possibilit\u00e9 de lancer l'import m\u00eame si fichiers MAJIC manquants Import - V\u00e9rifications sur les donn\u00e9es MAJIC avant import - bug #37 Import - Meilleure gestion des chemins des fichiers sources Import - Cr\u00e9ation de bdd spatialite diff\u00e9rente selon la version de spatialite - bug #30 Export - D\u00e9bogage de l'export PDF pour QGIS 2.4 - bug #36 Import : MAJIC - arr\u00eat de l'import si aucun fichier trouv\u00e9 Import - Modifications mineures d'interface Import - meilleure gestion des imports EDIGEO via ogr2ogr.py au lieu de ogr2ogr.exe (compatibilit\u00e9 MAC + d\u00e9tection des erreurs)","title":"1.0.0"},{"location":"CHANGELOG/#099","text":"Import - correction de certaines erreurs d'import des MULTIPOLYGONES (PostGreSQL et Spatialite)","title":"0.9.9"},{"location":"CHANGELOG/#0981","text":"Export - debug : suppression des 'print' dans le code","title":"0.9.8.1"},{"location":"CHANGELOG/#098","text":"Log d\u00e9taill\u00e9 : https://github.com/3liz/QgisCadastrePlugin/compare/0.9.7...0.9.8 Export des relev\u00e9s - am\u00e9liorations de mises en forme des donn\u00e9es Export - propri\u00e9taires : ajout de l'\u00e9poux pour les femmes mari\u00e9es EX: MME DURAND/Sophie Yvette EP DUPONT Jean Export - propri\u00e9taires : d\u00e9placement des dates et lieu de naissance \u00e0 droite Export - Suppression des z\u00e9ros au d\u00e9but du num\u00e9ro de plan et de voirie Export - prop. baties : Suppression du code commune au d\u00e9but du num\u00e9ro INVAR Export - Sommes prop. baties : Ajout de z\u00e9ros si valeurs nulles (au lieu de cases vides) Export - prop. non baties : S\u00e9paration des HA A CA pour la contenance Export - prop. non baties : Calcul de la fraction exo si applicable Export - Sommes prop. non baties : Ajout de la somme des contenances Export - Pied de page : Ajout de la mention \"Ce document est donn\u00e9 \u00e0 titre indicatif...\" Export - Suppression de la mention \"Exp\u00e9rimental\" Import - Import des MULTI-POLYGONES et correction de donn\u00e9es existantes - bug #29","title":"0.9.8"},{"location":"CHANGELOG/#097","text":"Log d\u00e9taill\u00e9 : https://github.com/3liz/QgisCadastrePlugin/compare/0.9.6...0.9.7 Documentation - ajout des liens vers la documentation en ligne - bug #3 Export - recup\u00e9ration infos parcelles : ajout du filtre par d\u00e9partement - bug #27 Export - correction du pourcentage exoneration pour les propri\u00e9t\u00e9s non baties - bug #26 Import - validation pr\u00e9alable des entr\u00e9es du formulaire d'import - bug #25 Chargement - ajout des chemins SVG cadastre sans \u00e9craser les pr\u00e9c\u00e9dents - bug #19 Identification - debogage outil si Parcelles n'est pas la couche active Export - nettoyage du nom du PDF export\u00e9 pour compatibilit\u00e9 Windows - bug #23 Import - sup contrainte de type sur surface des parcelles - bug #20 Import - suppression de la contrainte de longueur de champ pour l'attribut tex Chargement - gestion d'erreur si pas de table trouv\u00e9e dans la bdd Recherche - correction largeur listes d\u00e9roulantes (windows) - bug #22 Export - ouverture des PDF compatible freeBSD - bug #21","title":"0.9.7"},{"location":"CHANGELOG/#096","text":"Log d\u00e9taill\u00e9 : https://github.com/3liz/QgisCadastrePlugin/compare/0.9.5...0.9.6 Import - actualisation liste des tar.bz2 apr\u00e8s d\u00e9compression de zip Documentation - mise \u00e0 jour Recherche/export - meilleurs r\u00e9sultats si fantoir non import\u00e9 - bug #18 Export multiple - barre de progression et ouverture du dossier contenant Export - optimisation - bug #2 Chargement - r\u00e9utilisation du groupe Cadastre si pr\u00e9sent - bug #14 Identification - r\u00e9initialisation de l'outil identifier au chargement Spatialite - debogage base de donn\u00e9es si chemin contient des espaces - bug #17 Recherche - adresse/propri\u00e9taire : gestion des apostrophes - bug #12 Import - remplacement CREATE TABLE IF NOT EXISTS - bug #13 Meilleur comportement des outils de recherche sur ouverture d'un (nouveau) projet","title":"0.9.6"},{"location":"CHANGELOG/#095","text":"Chargement - bug #8: pas d'erreur si pr\u00e9sence de couches plugin OpenLayers Recherche/Identification - r\u00e9activation des outils sur chargement d'un projet Cadastre - #9 Recherche - Lieux : Liste des sections ordonn\u00e9es par code Import - correction bug Spatialite import relations (*.vec) - bug #7 Import - Gestion des erreurs de suppression de fichier apr\u00e8s extraction - bug #5 Import - modifications des scripts pour gestion arrondissements (ex: Marseille)","title":"0.9.5"},{"location":"CHANGELOG/#094","text":"Import - bouton Cr\u00e9er une base Spatialite gris\u00e9 si aucune connection dans QGIS","title":"0.9.4"},{"location":"CHANGELOG/#093","text":"Documentation - ajout d'une documentation (avec copies d'\u00e9cran) Chargement - remplacement du panneau par une fen\u00eatre Configurer - ajout d'un option pour le type de stockage temporaire de Spatialite Import - spatialite : remove disablespatialindex Import - Am\u00e9lioration des imports cons\u00e9cutifs (indexes, erreurs spatialites, etc.) Majic - import r\u00e9cursif G\u00e9n\u00e9ral - ajout d'un menu d'aide et r\u00e9daction de l'aide Import - restriction des imports \u00e0 2012 et 2013 Export - am\u00e9lioration des calculs des sommes A propos - correction coquille Recherche/Export - gestion des propri\u00e9taires sur plusieurs communes About - ajout du lien vers le d\u00e9p\u00f4t Github A propos - modification de l'ordre des financeurs","title":"0.9.3"},{"location":"CHANGELOG/#092","text":"Import - suppression des indexes avant ajout Majic incr\u00e9mental G\u00e9n\u00e9ral - r\u00e9daction du README et metadata Import - am\u00e9lioration de l'import Spatialite A propos - ajout du remerciement aux auteurs d'OpenCadastre G\u00e9n\u00e9ral - affichage de la fen\u00eatre 'A propos' \u00e0 la 1\u00e8re utilisation Option - ajout de l'aide pour changer d'interface Import - am\u00e9lioration des scripts Import - La Direction est bloqu\u00e9e : entier entre 0 et 5 Chargement - renommage des couches && fermeture des l\u00e9gendes Recherche/Identification - d\u00e9sactivation des outils n\u00e9cessitant MAJIC si pas de donn\u00e9es","title":"0.9.2"},{"location":"CHANGELOG/#091","text":"Chargement - ajout du style Orthophoto Import - modification interface du choix du type de bdd Import - les fichiers EDIGEO non zip/tar.bz2 sont bien pris en compte Import - Ajout d'un bouton pour cr\u00e9er une base de donn\u00e9es Spatialite vide Toolbar - Ajout import/charger/recherche/about + modification ic\u00f4ne Styles - Classique : am\u00e9lioration tsurf","title":"0.9.1"},{"location":"CHANGELOG/#090","text":"Correction de r\u00e9gression de 0.8.9 : indentification parcelle et recherche propri\u00e9taire","title":"0.9.0"},{"location":"CHANGELOG/#089","text":"Am\u00e9lioration du support Spatialite : import, recherche, export General - d\u00e9sactivation Spatialite si pyspatialite non pr\u00e9sent","title":"0.8.9"},{"location":"CHANGELOG/#088","text":"Import - ajout d'une option pour configurer le nombre de ligne INSERT max Propri\u00e9taires - debug affichage vide pour les personnes morales Recherche - ajout des stopwords pour les natvoi Indentification parcelle - textes en lecture seule + code section || dnupla Import majic - V\u00e9rfication unicit\u00e9 des lotslocaux","title":"0.8.8"},{"location":"CHANGELOG/#087","text":"Export - changement du calcul du revenu cadastral non bati + num\u00e9ro voirie Import - possibilit\u00e9 d'importer un fichier MAJIC seul Import - Ajout des contraintes \u00e0 la fin d'un import MAJIC seul Import - modification mineure nomenclature EDIGEO Import - Compatibilit\u00e9 avec les fichiers MAJIC 2013 Import MAJIC - ajout de quelques colonnes (bati, nbat) Export - Calcul des sommes pour bati et nbat Recherche/export - ajout du lieu et date de naissance pour les propri\u00e9taires Chargement - Cr\u00e9ation d'un groupe 'Cadastre' et chargement des couches dans ce groupe Chargement - mise \u00e0 jour auto des listes d\u00e9roulantes suite \u00e0 un import","title":"0.8.7"},{"location":"CHANGELOG/#086","text":"Recherche/Export - Ajout ccocom dans comptecommunal (d\u00e9doublonnage) Import - MAJI : suppression des caract\u00e8res non imprimables et de contr\u00f4le","title":"0.8.6"},{"location":"CHANGELOG/#085","text":"Import - debug utilisation m\u00e9moire lors de la leture des fichiers majic volumineux Recherche - suppression du bug si ouverture panneau avec couches hors cadastre Recherche/Indenfitication - Correction du Zoom/Centrer si reprojection \u00e0 la vol\u00e9e Recherche - adaptation remplissage table voie pour g\u00e9rer le multi-commune","title":"0.8.5"},{"location":"CHANGELOG/#084","text":"Import - Modification dynamique de la projection des tables edigeo Recherche - Am\u00e9lioration recherche d'adresse via table voie (fantoir) Chargement - utilisation de Times New Roman pour les \u00e9tiquettes","title":"0.8.4"},{"location":"CHANGELOG/#083","text":"Import - majic: suppressions de caract\u00e8res \\x00 Import - debug Windows sur chemins vers scripts contraintes","title":"0.8.3"},{"location":"CHANGELOG/#082","text":"Import - debug du nom du sch\u00e9ma \"a\" pr\u00e9c\u00e9demment \u00e9crit en dur (r\u00e9gression 0.8.1) Import - utilisation du serial pour geo_commune, geo_parcelle et geo_section : \u00e9vite les erreurs de r\u00e9tablissement des cl\u00e9s primaires","title":"0.8.2"},{"location":"CHANGELOG/#081","text":"Import - possibilit\u00e9 d'import vers une base de donn\u00e9es distante Import - possibilit\u00e9 d'importer en plusieurs passes","title":"0.8.1"},{"location":"CONTRIBUTING/","text":"Contribution # Le projet est h\u00e9berg\u00e9 sur GitHub Visiter GitHub Code # Les tests unitaires sont en cours. 1 2 pip install -r requirements/dev.txt flake8 La variable d'environnement CI=true permet d'\u00e9viter certaines QMessageBox. Run tests in Docker 1 2 3 4 5 6 7 8 make start_tests make run_tests # Run a custom pattern cd .docker/ && ./exec_tests.sh test_*.py make stop_tests # All in one, but slower make tests In your QGIS Desktop itself Open the QGIS console 1 2 3 4 5 from qgis.utils import plugins plugins [ 'cadastre' ] . run_tests () # Custom pattern plugins [ 'cadastre' ] . run_tests ( 'test_*.py' ) In your IDE, with linked QGIS library Setup your QGIS_PREFIX_PATH etc Right-click on a test and launch it Documentation # La documentation utilise MkDocs avec Material : 1 2 pip install -r requirements/doc.txt mkdocs serve","title":"Contribution"},{"location":"CONTRIBUTING/#contribution","text":"Le projet est h\u00e9berg\u00e9 sur GitHub Visiter GitHub","title":"Contribution"},{"location":"CONTRIBUTING/#code","text":"Les tests unitaires sont en cours. 1 2 pip install -r requirements/dev.txt flake8 La variable d'environnement CI=true permet d'\u00e9viter certaines QMessageBox. Run tests in Docker 1 2 3 4 5 6 7 8 make start_tests make run_tests # Run a custom pattern cd .docker/ && ./exec_tests.sh test_*.py make stop_tests # All in one, but slower make tests In your QGIS Desktop itself Open the QGIS console 1 2 3 4 5 from qgis.utils import plugins plugins [ 'cadastre' ] . run_tests () # Custom pattern plugins [ 'cadastre' ] . run_tests ( 'test_*.py' ) In your IDE, with linked QGIS library Setup your QGIS_PREFIX_PATH etc Right-click on a test and launch it","title":"Code"},{"location":"CONTRIBUTING/#documentation","text":"La documentation utilise MkDocs avec Material : 1 2 pip install -r requirements/doc.txt mkdocs serve","title":"Documentation"},{"location":"changelog/","text":"Changelog # Unreleased # Ajout des noms courts sur les couches et les groupes pour rendre le projet valide par d\u00e9faut lors d'une publication sur Lizmap 1.13.5 - 2021-12-14 # Am\u00e9lioration du message d'erreur sur le fichier n'est pas \u00eatre d\u00e9compress\u00e9, ticket #339 Correction de la table commune_majic pour les mill\u00e9simes 2019 \u00e0 2021, ticket #333 1.13.4 - 2021-12-06 # Ajout du financeur de la m\u00e9tropole de Clermont-Ferrand Correction d'une r\u00e9gression suite \u00e0 la version 1.13.3 sur les champs *_bipevla 1.13.3 - 2021-11-18 # Corrections orthographiques Correction sur les \"Locaux : Informations d\u00e9taill\u00e9es\" Correction des exports PDF depuis le panneau de recherche Am\u00e9lioration du message d'erreur s'il n'y a pas assez de m\u00e9moire sur l'ordinateur Am\u00e9lioration de la documentation concernant les param\u00e8tres au niveau global de l'extension 1.13.2 - 2021-08-25 # Mise \u00e0 jour de https://docs.3liz.org/QgisCadastrePlugin/ pour les financeurs de l'extension Correction d'une erreur si l'extension est utilis\u00e9e pour la premi\u00e8re fois Correction d'une erreur possible pour ouvrir les fichiers en UTF-8 par d\u00e9faut 1.13.1 - 2021-08-10 # Correction d'un chemin dans le script standalone concernant l'export 1.13.0 - 2021-08-10 # Ajout du support MAJIC 2021 (Contribution de Ma\u00ebl Reboux) Refactorisation du code interne \u00e0 l'extension Mise \u00e0 jour de la documentation https://docs.3liz.org/QgisCadastrePlugin/ 1.12.1 - 2021-06-24 # Correction du chargement de l'extension avec QGIS < 3.10 1.12.0 - 2021-06-21 # Correction de l'export propri\u00e9taire \u00e0 une commune Mise \u00e0 jour de la documentation sur le module Lizmap 1.11.1 - 2021-06-01 # Sauvegarde et restoration des param\u00e8tres de la derni\u00e8re base utilis\u00e9e dans l'interface graphique 1.11.0 - 2021-05-21 # Correction d'un espace dans l'adresse dans les propri\u00e9t\u00e9s baties, non baties Correction d'une erreur SQL lors de la consultation des infos parcelle sur QGIS 3.16 bureautique et serveur Ajout du support QGIS 3.16 Ajout d'un bouton pour ouvrir l'aide depuis le menu principal d'aide de QGIS Ajout de la recherche d'un propri\u00e9taire par nom d'usage ou de naissance par ville Ajout d'un t\u00e9l\u00e9chargeur Edig\u00e9o communal dans la boite \u00e0 outils Processing Documentation https://docs.3liz.org/QgisCadastrePlugin/ Mise de la documentation au format MkDocs Int\u00e9gration de la documentation du module Lizmap Ajout de la documentation automatique concernant les traitements Processing Ajout de la documentation concernant la base de donn\u00e9es avec Sch\u00e9maSpy Ajout d'une infrastructure de tests 1.10.2 - 2020-12-10 # Correction sur la documentation Ajout d'une table de mati\u00e8res sur https://docs.3liz.org/QgisCadastrePlugin/ Afficher un message dans les logs si un fichier SQLite est manquant Pr\u00e9venir l'utilisateur sur les fichiers bz2 lors de l'import des fichiers \u00c9dig\u00e9o. 1.10.1 - 2020-11-05 # Ajout de la documentation de la base de donn\u00e9es sur https://docs.3liz.org/QgisCadastrePlugin/ Petites corrections sur la publication de l'extension 1.10.0 - 2020-11-04 # Import - Optimisation de l'import Spatialite et de l'affichage du temps pass\u00e9 Ajout de l'extraction de d\u00e9tails sur les propri\u00e9taires (indivisions) Widget \"Outils de Recherche\" : Ajout du bouton Infos parcelle Dialogue \"infos parcelle\" : Ajout des actions imprimer / copier /sauvegarder des infos des onglets R\u00e9vision barre d'outils (position actions) et r\u00e9\u00e9criture code menu / barre d'outils Fix - bug connexion (relev\u00e9 parcellaire, premi\u00e8re instanciation) 1.9.0 - 2020-09-07 # Documentation Support de QGIS 3.10 LTR #240 Pr\u00e9cisions sur les versions PostgreSQL et PostGIS support\u00e9es Support du mill\u00e9sime MAJIC 2020 #239 Am\u00e9liorations et corrections Suppression des doublons de communes et de sections dans les donn\u00e9es EDIGEO #196 Unit\u00e9s fonci\u00e8res : suppression des enregistrements sans comptes communaux #221 Correction d'un bogue dans l'affichage des informations d'une parcelle si le nom de la voie est nul #207 Correction d'un bogue affectant le chargement de la couche des parcelles si on utilise du filtrage sur le code de commune #229 Maintenance sur le code Python 1.8.1 - 2019-10-21 # Corrections de bugs essentiellement Import - EDIGEO: am\u00e9lioration des performances geo_batiment_parcelle Import - MAJIC: correction bug d'encodage Import MAJIC - garder vexen pour compatibilit\u00e9 Spatialite Spatialite - Correction des identifiants parcelle, voie et local00 dans la table local10 Fiche parcellaire - r\u00e9sum\u00e9: ajout de coalesce sur l'adresse [BUGFIX] Use of QgsMapLayer.VectorLayer in getLayerFromLegendByTableProps suppression de code sp\u00e9cifique QGIS 2 Cr\u00e9ation couche parcelle_info OK 1.8.0 - 2019-09-20 # IMPORTANT \u00c0 partir de cette version seule la version QGIS LTR sera support\u00e9e. Pour cette version il s'agit de la version 3.4.x Nouveaut\u00e9s: Prise en charge des \u00e9volutions MAJIC 2019 (voir #192 pour les d\u00e9tails). Noter la cr\u00e9ation de 2 nouvelles tables. Pr\u00e9cisions sur les versions QGIS, PostgreSQL / PostGIS et Spatialite support\u00e9es (#197) Mise \u00e0 jour de la documentation de la structure de la base de donn\u00e9es (#204) 1.7.1 - 2019-06-06 # Refactorize code for server and Qgis 3+ Ajouts et mises \u00e0 jour de tables domaine Correction valeur compte communal Ajout inspireid Am\u00e9lioration de plugin Server Nouvelle table de nomenclature natvoi Correction identifiants trim code de nature de voie [Serveur] Add GetCapabilities method to server CADASTRE service Creation d'un provider QgsProcessing 1.7.0 # Fiche parcellaire - Ajout des informations des propri\u00e9taires, subdivisions et locaux Fiche parcelle - Ajout de la surface spatiale b\u00e2tie Export (version QGIS 2): Ajout d'un script python pour exporter les relev\u00e9s PDF via ligne de commande Fix - G\u00e9n\u00e9ral: Am\u00e9lioration de la r\u00e9cup\u00e9ration d'informations sur les couches (h\u00f4te, base de donn\u00e9es, etc.) Fix - Import: Suppression de table temporaire ll si besoin Fix - Export: relev\u00e9 de propri\u00e9t\u00e9: d\u00e9doublonnage des comptes communaux export\u00e9s en PDF Fix - Correction d'un bug d'encodage Divers - Ajout des derniers financeurs dans le dialogue \"A propos\" 1.6.2 # G\u00e9n\u00e9ral - suppression de code inutile suite \u00e0 la migration QGIS3 Import - Correction de parcelles en doublons d\u00fb au lien avec geo_subdsect Export PDF - Correction d'un bug et restauration de l'affichage des propri\u00e9taires 1.6.1 # Correction de bug sur l'interrogation de propri\u00e9taire suite \u00e0 la gestion des dates en texte Correction d'un bug d'encodage sur message d'erreur de requ\u00eate SQL Import - Utilisation d'entiers longs pour les surfaces de parcelle_info (corrige le bug pour les tr\u00e8s grandes parcelles) Import - Ajout du support du mill\u00e9sime 2018 1.6.0 # Compatibilit\u00e9 du plugin avec QGIS 3. Les version compatibles avec QGIS 2 seront des versions de correction uniquement, avec un num\u00e9ro en 1.5.* 1.5.2 # Import - Transformation des champs date en texte pour le MAJIC, par respect de la donn\u00e9e source Correction d'un bug de la 1.5.1 avec QFileDialog, QFileInfo et BaseError manquant 1.5.1 # Import - MAJIC : correction de bug si dates mauvaises (30 f\u00e9v par ex) Import - Support partiel des donn\u00e9es EDIGEO en projection IGNF Import - Correction d'un bug de non remplissage des parcelles si correspondance geo_subdsect manquant Import - EDIGEO : conversion en date des champs de geo_subdsect seulement si format correct #120 1.5.0 # Chargement - Ajout de couches via requ\u00eate SQL Import - Ajout de la nomenclature pour ccocac Import - Correction sur la table pivot geo_batiment_parcelle: restriction par intersection Rechercher - D\u00e9placement de la recherche d'adresse sous celle par parcelle Chargement - correction d'un bug sur l'ajout dans les groupes Cadastre Import - Ajout du support de MAJIC 2017 Recherche - Support de l'autocompl\u00e9tion pour les adresses et les propri\u00e9taires Recherche - Int\u00e9gration des adresses dans la recherche de lieux Import - Correction du bug de r\u00e9cup\u00e9ration des propri\u00e9t\u00e9s b\u00e2ties Import/Identification - contournement du bug d'encodage sur requ\u00eate pour QGIS 2.18.10 et > Identification - correction du bug sur chargement de projet QGIS Import - Majic : import des propri\u00e9taires si et seulement si dnupro est non vide Import - Lieudits: utilisation de tous les champs tex Recherche - R\u00e9application de l'ordre dans les listes d\u00e9roulantes (sections, parcelles) BDD - Possibilit\u00e9 de se connecter avec un connexion utilisant un service PostgreSQL 1.4.1 # Import/Chargement - correction de bug pour Spatialite sur g\u00e9n\u00e9ration parcelle_info 1.4.0 # Menu - Suppression du menu Cadastre et d\u00e9placement dans le menu Extensions Barre d'outil - Modification de l'ic\u00f4ne d'identification (merci @pasqual ) Structure bdd - G\u00e9n\u00e9ralisation des codes d\u00e9partements et direction dans les identifiants Structure bdd - Parcelles: consolidation des infos propri\u00e9taires dans une nouvelle table parcelle_info Import - Correction d'un bug de remplissage de geo_sym si ptcanv_id.sym est NULL Import - MAJIC: Filtrage des donn\u00e9es import\u00e9es selon d\u00e9partement et direction: on peut utiliser le fichier FANTOIR national Import - Ajout du support de MAJIC 2016 Import - Edigeo : am\u00e9lioration de la jointure de geo_parcelle ave geo_subdsect Import - Correction des doublons sur les parcelles (dus au lien geo_subdsect) Import - Edigeo: am\u00e9lioration des performances pour tpoint, tline, tsurf Import - Augmentation de la limite max pour le code direction - fixes #94 Import - Utilisation directe des fichiers sources sans copie pr\u00e9alable Import - Suppression des contraintes de taille dans les champs Import - D\u00e9placement des scripts SQL d'import et nettoyage Import - Fantoir recommand\u00e9 lors de l'import MAJIC && lien de t\u00e9l\u00e9chargement ajout\u00e9 Import - Correction des parcelles dupliqu\u00e9es si plusieurs sous-sections Import - correction du bug emp\u00eachant la cr\u00e9ation de base sqlite sous 2.16 - #83 Chargement - Ajout du filtre par expression sur les communes (exp\u00e9rimental) Chargement - possibilit\u00e9 de charger seulement les couches principales Chargement - S\u00e9paration des \u00e9tiquettes et des donn\u00e9es en groupes & d\u00e9sactivation des couches mineures Chargement - Mise \u00e0 jour et am\u00e9lioration des styles Chargement - Correction de bug sur QgsMapLayer non d\u00e9fini Chargement - Styles : masquage de la couche Tron\u00e7ons de routes aux petites \u00e9chelles Export - Ajout d'un nouveau menu pour exporter la vue courante en PDF Export - ajout d'une carte en 1\u00e8re page pour le relev\u00e9 parcellaire Export - Ouverture automatique du r\u00e9pertoire apr\u00e8s export PDF multiple Recherche - La recherche par commune et section utilise le lot pour \u00e9viter les doublons si plusieurs d\u00e9partements Serveur - Ajout de la capacit\u00e9 \"server\" pour le plugin 1.3.0 # Import - MAJIC : support du mill\u00e9sime 2015. La structure a \u00e9t\u00e9 un peu modifi\u00e9e. Il faut r\u00e9aliser l'import dans un nouveau sch\u00e9ma PostGreSQL ou une nouvelle base de donn\u00e9es Spatialite. Un script de migration de la structure est disponible pour PostGreSQL pour ceux qui pr\u00e9f\u00e8rent conserver le sch\u00e9ma actuel (faites une sauvegarde avant !) : /.qgis2/python/plugins/cadastre/scripts/plugin/updates/update_structure_postgis_from_1.2.0_to_1.3.0.sql Import - Ajout d'un syst\u00e8me de cr\u00e9ation des tables manquantes ( pour les mont\u00e9es de version ) Edigeo - Ajout des objets TRONROUTE dans la table geo_tronroute Import - \u00c9viter l'import des parcelles EDIGEO avec un idu NULL Plugin - Suppression de la contrainte de version maximum de QGIS 1.2.0 # Import - Am\u00e9lioration des performances d'imports pour Spatialite Import - Ajout d'une option pour activer/d\u00e9sactiver la validation des g\u00e9om\u00e9tries Import - Suppression de l'outil de r\u00e9paration des multipolygones sur une bdd d\u00e9ja import\u00e9e (phase de transition termin\u00e9e ) Interface - pour l'interface Cadastre, ajout des boutons WMS/WFS - fixes #53 Export - Debogage des exports PDF vides pour la 2.8 - fixes #60 Identification parcelle - am\u00e9lioration interne de l'outil (pas visible dans l'interface) Import - Prise en compte des fichiers MAJIC sans contenus dans les premi\u00e8res lignes 1.1.1 # Ajout de la compatibilit\u00e9 avec QGIS 2.8 1.1.0 # Options - Ajout du menu Vue/D\u00e9corations dans l'interface Cadastre Chargement - La couche Unit\u00e9s fonci\u00e8res est d\u00e9coch\u00e9e par d\u00e9faut Import - Ajout des scripts pyogr pour compatibilit\u00e9 QGIS 2.6 Ajout d'une boite de dialogue d'information lors du 1er chargement. Visible via le menu Cadastre > Notes de version Import/Recherche/Export - Modification du lien entre les parcelles EDIGEO et MAJIC (m\u00eame identifiant unique pour les 2) Import - exhaustivit\u00e9 des donn\u00e9es de propri\u00e9taire MAJIC - fix #47 Import - Conserver l'orientation des symboles lors d'imports successifs - fix #46 Import - Correction des g\u00e9om\u00e9tries invalides - fix #43 Import - Correction des multipolygones sous Windows - fixes #44 Info parcelle - option de filtre commune pour le relev\u00e9 de propri\u00e9t\u00e9 - fix #42 Chargement - Ajout des TRONROUTE_ID pour les \u00e9tiquettes des noms voies - bug #40 Chargement - Suppression des \u00e9tiquettes abb\u00e9rantes - fix #41 Import - Ajout des unit\u00e9s fonci\u00e8res pour PostGIS (refonte de la requ\u00eate) Import - MAJIC : ajout de la compatibilit\u00e9 des fichiers 2014 Import - EDIGEO : ajout de la table boulon_id Chargement - correction du bug #38 : minidump sous Windows 1.0.0 # Import - d\u00e9bogage import PostGreSQL sous Windows Recherche - Meilleure gestion de la d\u00e9sactivation des modules de recherche Import - MAJIC : possibilit\u00e9 de lancer l'import m\u00eame si fichiers MAJIC manquants Import - V\u00e9rifications sur les donn\u00e9es MAJIC avant import - bug #37 Import - Meilleure gestion des chemins des fichiers sources Import - Cr\u00e9ation de bdd spatialite diff\u00e9rente selon la version de spatialite - bug #30 Export - D\u00e9bogage de l'export PDF pour QGIS 2.4 - bug #36 Import : MAJIC - arr\u00eat de l'import si aucun fichier trouv\u00e9 Import - Modifications mineures d'interface Import - meilleure gestion des imports EDIGEO via ogr2ogr.py au lieu de ogr2ogr.exe (compatibilit\u00e9 MAC + d\u00e9tection des erreurs) 0.9.9 # Import - correction de certaines erreurs d'import des MULTIPOLYGONES (PostGreSQL et Spatialite) 0.9.8.1 # Export - debug : suppression des 'print' dans le code 0.9.8 # Log d\u00e9taill\u00e9 : https://github.com/3liz/QgisCadastrePlugin/compare/0.9.7...0.9.8 Export des relev\u00e9s - am\u00e9liorations de mises en forme des donn\u00e9es Export - propri\u00e9taires : ajout de l'\u00e9poux pour les femmes mari\u00e9es EX: MME DURAND/Sophie Yvette EP DUPONT Jean Export - propri\u00e9taires : d\u00e9placement des dates et lieu de naissance \u00e0 droite Export - Suppression des z\u00e9ros au d\u00e9but du num\u00e9ro de plan et de voirie Export - prop. baties : Suppression du code commune au d\u00e9but du num\u00e9ro INVAR Export - Sommes prop. baties : Ajout de z\u00e9ros si valeurs nulles (au lieu de cases vides) Export - prop. non baties : S\u00e9paration des HA A CA pour la contenance Export - prop. non baties : Calcul de la fraction exo si applicable Export - Sommes prop. non baties : Ajout de la somme des contenances Export - Pied de page : Ajout de la mention \"Ce document est donn\u00e9 \u00e0 titre indicatif...\" Export - Suppression de la mention \"Exp\u00e9rimental\" Import - Import des MULTI-POLYGONES et correction de donn\u00e9es existantes - bug #29 0.9.7 # Log d\u00e9taill\u00e9 : https://github.com/3liz/QgisCadastrePlugin/compare/0.9.6...0.9.7 Documentation - ajout des liens vers la documentation en ligne - bug #3 Export - recup\u00e9ration infos parcelles : ajout du filtre par d\u00e9partement - bug #27 Export - correction du pourcentage exoneration pour les propri\u00e9t\u00e9s non baties - bug #26 Import - validation pr\u00e9alable des entr\u00e9es du formulaire d'import - bug #25 Chargement - ajout des chemins SVG cadastre sans \u00e9craser les pr\u00e9c\u00e9dents - bug #19 Identification - debogage outil si Parcelles n'est pas la couche active Export - nettoyage du nom du PDF export\u00e9 pour compatibilit\u00e9 Windows - bug #23 Import - sup contrainte de type sur surface des parcelles - bug #20 Import - suppression de la contrainte de longueur de champ pour l'attribut tex Chargement - gestion d'erreur si pas de table trouv\u00e9e dans la bdd Recherche - correction largeur listes d\u00e9roulantes (windows) - bug #22 Export - ouverture des PDF compatible freeBSD - bug #21 0.9.6 # Log d\u00e9taill\u00e9 : https://github.com/3liz/QgisCadastrePlugin/compare/0.9.5...0.9.6 Import - actualisation liste des tar.bz2 apr\u00e8s d\u00e9compression de zip Documentation - mise \u00e0 jour Recherche/export - meilleurs r\u00e9sultats si fantoir non import\u00e9 - bug #18 Export multiple - barre de progression et ouverture du dossier contenant Export - optimisation - bug #2 Chargement - r\u00e9utilisation du groupe Cadastre si pr\u00e9sent - bug #14 Identification - r\u00e9initialisation de l'outil identifier au chargement Spatialite - debogage base de donn\u00e9es si chemin contient des espaces - bug #17 Recherche - adresse/propri\u00e9taire : gestion des apostrophes - bug #12 Import - remplacement CREATE TABLE IF NOT EXISTS - bug #13 Meilleur comportement des outils de recherche sur ouverture d'un (nouveau) projet 0.9.5 # Chargement - bug #8: pas d'erreur si pr\u00e9sence de couches plugin OpenLayers Recherche/Identification - r\u00e9activation des outils sur chargement d'un projet Cadastre - #9 Recherche - Lieux : Liste des sections ordonn\u00e9es par code Import - correction bug Spatialite import relations (*.vec) - bug #7 Import - Gestion des erreurs de suppression de fichier apr\u00e8s extraction - bug #5 Import - modifications des scripts pour gestion arrondissements (ex: Marseille) 0.9.4 # Import - bouton Cr\u00e9er une base Spatialite gris\u00e9 si aucune connection dans QGIS 0.9.3 # Documentation - ajout d'une documentation (avec copies d'\u00e9cran) Chargement - remplacement du panneau par une fen\u00eatre Configurer - ajout d'un option pour le type de stockage temporaire de Spatialite Import - spatialite : remove disablespatialindex Import - Am\u00e9lioration des imports cons\u00e9cutifs (indexes, erreurs spatialites, etc.) Majic - import r\u00e9cursif G\u00e9n\u00e9ral - ajout d'un menu d'aide et r\u00e9daction de l'aide Import - restriction des imports \u00e0 2012 et 2013 Export - am\u00e9lioration des calculs des sommes A propos - correction coquille Recherche/Export - gestion des propri\u00e9taires sur plusieurs communes About - ajout du lien vers le d\u00e9p\u00f4t Github A propos - modification de l'ordre des financeurs 0.9.2 # Import - suppression des indexes avant ajout Majic incr\u00e9mental G\u00e9n\u00e9ral - r\u00e9daction du README et metadata Import - am\u00e9lioration de l'import Spatialite A propos - ajout du remerciement aux auteurs d'OpenCadastre G\u00e9n\u00e9ral - affichage de la fen\u00eatre 'A propos' \u00e0 la 1\u00e8re utilisation Option - ajout de l'aide pour changer d'interface Import - am\u00e9lioration des scripts Import - La Direction est bloqu\u00e9e : entier entre 0 et 5 Chargement - renommage des couches && fermeture des l\u00e9gendes Recherche/Identification - d\u00e9sactivation des outils n\u00e9cessitant MAJIC si pas de donn\u00e9es 0.9.1 # Chargement - ajout du style Orthophoto Import - modification interface du choix du type de bdd Import - les fichiers EDIGEO non zip/tar.bz2 sont bien pris en compte Import - Ajout d'un bouton pour cr\u00e9er une base de donn\u00e9es Spatialite vide Toolbar - Ajout import/charger/recherche/about + modification ic\u00f4ne Styles - Classique : am\u00e9lioration tsurf 0.9.0 # Correction de r\u00e9gression de 0.8.9 : indentification parcelle et recherche propri\u00e9taire 0.8.9 # Am\u00e9lioration du support Spatialite : import, recherche, export General - d\u00e9sactivation Spatialite si pyspatialite non pr\u00e9sent 0.8.8 # Import - ajout d'une option pour configurer le nombre de ligne INSERT max Propri\u00e9taires - debug affichage vide pour les personnes morales Recherche - ajout des stopwords pour les natvoi Indentification parcelle - textes en lecture seule + code section || dnupla Import majic - V\u00e9rfication unicit\u00e9 des lotslocaux 0.8.7 # Export - changement du calcul du revenu cadastral non bati + num\u00e9ro voirie Import - possibilit\u00e9 d'importer un fichier MAJIC seul Import - Ajout des contraintes \u00e0 la fin d'un import MAJIC seul Import - modification mineure nomenclature EDIGEO Import - Compatibilit\u00e9 avec les fichiers MAJIC 2013 Import MAJIC - ajout de quelques colonnes (bati, nbat) Export - Calcul des sommes pour bati et nbat Recherche/export - ajout du lieu et date de naissance pour les propri\u00e9taires Chargement - Cr\u00e9ation d'un groupe 'Cadastre' et chargement des couches dans ce groupe Chargement - mise \u00e0 jour auto des listes d\u00e9roulantes suite \u00e0 un import 0.8.6 # Recherche/Export - Ajout ccocom dans comptecommunal (d\u00e9doublonnage) Import - MAJI : suppression des caract\u00e8res non imprimables et de contr\u00f4le 0.8.5 # Import - debug utilisation m\u00e9moire lors de la leture des fichiers majic volumineux Recherche - suppression du bug si ouverture panneau avec couches hors cadastre Recherche/Indenfitication - Correction du Zoom/Centrer si reprojection \u00e0 la vol\u00e9e Recherche - adaptation remplissage table voie pour g\u00e9rer le multi-commune 0.8.4 # Import - Modification dynamique de la projection des tables edigeo Recherche - Am\u00e9lioration recherche d'adresse via table voie (fantoir) Chargement - utilisation de Times New Roman pour les \u00e9tiquettes 0.8.3 # Import - majic: suppressions de caract\u00e8res \\x00 Import - debug Windows sur chemins vers scripts contraintes 0.8.2 # Import - debug du nom du sch\u00e9ma \"a\" pr\u00e9c\u00e9demment \u00e9crit en dur (r\u00e9gression 0.8.1) Import - utilisation du serial pour geo_commune, geo_parcelle et geo_section : \u00e9vite les erreurs de r\u00e9tablissement des cl\u00e9s primaires 0.8.1 # Import - possibilit\u00e9 d'import vers une base de donn\u00e9es distante Import - possibilit\u00e9 d'importer en plusieurs passes","title":"Changelog"},{"location":"changelog/#changelog","text":"","title":"Changelog"},{"location":"changelog/#unreleased","text":"Ajout des noms courts sur les couches et les groupes pour rendre le projet valide par d\u00e9faut lors d'une publication sur Lizmap","title":"Unreleased"},{"location":"changelog/#1135-2021-12-14","text":"Am\u00e9lioration du message d'erreur sur le fichier n'est pas \u00eatre d\u00e9compress\u00e9, ticket #339 Correction de la table commune_majic pour les mill\u00e9simes 2019 \u00e0 2021, ticket #333","title":"1.13.5 - 2021-12-14"},{"location":"changelog/#1134-2021-12-06","text":"Ajout du financeur de la m\u00e9tropole de Clermont-Ferrand Correction d'une r\u00e9gression suite \u00e0 la version 1.13.3 sur les champs *_bipevla","title":"1.13.4 - 2021-12-06"},{"location":"changelog/#1133-2021-11-18","text":"Corrections orthographiques Correction sur les \"Locaux : Informations d\u00e9taill\u00e9es\" Correction des exports PDF depuis le panneau de recherche Am\u00e9lioration du message d'erreur s'il n'y a pas assez de m\u00e9moire sur l'ordinateur Am\u00e9lioration de la documentation concernant les param\u00e8tres au niveau global de l'extension","title":"1.13.3 - 2021-11-18"},{"location":"changelog/#1132-2021-08-25","text":"Mise \u00e0 jour de https://docs.3liz.org/QgisCadastrePlugin/ pour les financeurs de l'extension Correction d'une erreur si l'extension est utilis\u00e9e pour la premi\u00e8re fois Correction d'une erreur possible pour ouvrir les fichiers en UTF-8 par d\u00e9faut","title":"1.13.2 - 2021-08-25"},{"location":"changelog/#1131-2021-08-10","text":"Correction d'un chemin dans le script standalone concernant l'export","title":"1.13.1 - 2021-08-10"},{"location":"changelog/#1130-2021-08-10","text":"Ajout du support MAJIC 2021 (Contribution de Ma\u00ebl Reboux) Refactorisation du code interne \u00e0 l'extension Mise \u00e0 jour de la documentation https://docs.3liz.org/QgisCadastrePlugin/","title":"1.13.0 - 2021-08-10"},{"location":"changelog/#1121-2021-06-24","text":"Correction du chargement de l'extension avec QGIS < 3.10","title":"1.12.1 - 2021-06-24"},{"location":"changelog/#1120-2021-06-21","text":"Correction de l'export propri\u00e9taire \u00e0 une commune Mise \u00e0 jour de la documentation sur le module Lizmap","title":"1.12.0 - 2021-06-21"},{"location":"changelog/#1111-2021-06-01","text":"Sauvegarde et restoration des param\u00e8tres de la derni\u00e8re base utilis\u00e9e dans l'interface graphique","title":"1.11.1 - 2021-06-01"},{"location":"changelog/#1110-2021-05-21","text":"Correction d'un espace dans l'adresse dans les propri\u00e9t\u00e9s baties, non baties Correction d'une erreur SQL lors de la consultation des infos parcelle sur QGIS 3.16 bureautique et serveur Ajout du support QGIS 3.16 Ajout d'un bouton pour ouvrir l'aide depuis le menu principal d'aide de QGIS Ajout de la recherche d'un propri\u00e9taire par nom d'usage ou de naissance par ville Ajout d'un t\u00e9l\u00e9chargeur Edig\u00e9o communal dans la boite \u00e0 outils Processing Documentation https://docs.3liz.org/QgisCadastrePlugin/ Mise de la documentation au format MkDocs Int\u00e9gration de la documentation du module Lizmap Ajout de la documentation automatique concernant les traitements Processing Ajout de la documentation concernant la base de donn\u00e9es avec Sch\u00e9maSpy Ajout d'une infrastructure de tests","title":"1.11.0 - 2021-05-21"},{"location":"changelog/#1102-2020-12-10","text":"Correction sur la documentation Ajout d'une table de mati\u00e8res sur https://docs.3liz.org/QgisCadastrePlugin/ Afficher un message dans les logs si un fichier SQLite est manquant Pr\u00e9venir l'utilisateur sur les fichiers bz2 lors de l'import des fichiers \u00c9dig\u00e9o.","title":"1.10.2 - 2020-12-10"},{"location":"changelog/#1101-2020-11-05","text":"Ajout de la documentation de la base de donn\u00e9es sur https://docs.3liz.org/QgisCadastrePlugin/ Petites corrections sur la publication de l'extension","title":"1.10.1 - 2020-11-05"},{"location":"changelog/#1100-2020-11-04","text":"Import - Optimisation de l'import Spatialite et de l'affichage du temps pass\u00e9 Ajout de l'extraction de d\u00e9tails sur les propri\u00e9taires (indivisions) Widget \"Outils de Recherche\" : Ajout du bouton Infos parcelle Dialogue \"infos parcelle\" : Ajout des actions imprimer / copier /sauvegarder des infos des onglets R\u00e9vision barre d'outils (position actions) et r\u00e9\u00e9criture code menu / barre d'outils Fix - bug connexion (relev\u00e9 parcellaire, premi\u00e8re instanciation)","title":"1.10.0 - 2020-11-04"},{"location":"changelog/#190-2020-09-07","text":"Documentation Support de QGIS 3.10 LTR #240 Pr\u00e9cisions sur les versions PostgreSQL et PostGIS support\u00e9es Support du mill\u00e9sime MAJIC 2020 #239 Am\u00e9liorations et corrections Suppression des doublons de communes et de sections dans les donn\u00e9es EDIGEO #196 Unit\u00e9s fonci\u00e8res : suppression des enregistrements sans comptes communaux #221 Correction d'un bogue dans l'affichage des informations d'une parcelle si le nom de la voie est nul #207 Correction d'un bogue affectant le chargement de la couche des parcelles si on utilise du filtrage sur le code de commune #229 Maintenance sur le code Python","title":"1.9.0 - 2020-09-07"},{"location":"changelog/#181-2019-10-21","text":"Corrections de bugs essentiellement Import - EDIGEO: am\u00e9lioration des performances geo_batiment_parcelle Import - MAJIC: correction bug d'encodage Import MAJIC - garder vexen pour compatibilit\u00e9 Spatialite Spatialite - Correction des identifiants parcelle, voie et local00 dans la table local10 Fiche parcellaire - r\u00e9sum\u00e9: ajout de coalesce sur l'adresse [BUGFIX] Use of QgsMapLayer.VectorLayer in getLayerFromLegendByTableProps suppression de code sp\u00e9cifique QGIS 2 Cr\u00e9ation couche parcelle_info OK","title":"1.8.1 - 2019-10-21"},{"location":"changelog/#180-2019-09-20","text":"IMPORTANT \u00c0 partir de cette version seule la version QGIS LTR sera support\u00e9e. Pour cette version il s'agit de la version 3.4.x Nouveaut\u00e9s: Prise en charge des \u00e9volutions MAJIC 2019 (voir #192 pour les d\u00e9tails). Noter la cr\u00e9ation de 2 nouvelles tables. Pr\u00e9cisions sur les versions QGIS, PostgreSQL / PostGIS et Spatialite support\u00e9es (#197) Mise \u00e0 jour de la documentation de la structure de la base de donn\u00e9es (#204)","title":"1.8.0 - 2019-09-20"},{"location":"changelog/#171-2019-06-06","text":"Refactorize code for server and Qgis 3+ Ajouts et mises \u00e0 jour de tables domaine Correction valeur compte communal Ajout inspireid Am\u00e9lioration de plugin Server Nouvelle table de nomenclature natvoi Correction identifiants trim code de nature de voie [Serveur] Add GetCapabilities method to server CADASTRE service Creation d'un provider QgsProcessing","title":"1.7.1 - 2019-06-06"},{"location":"changelog/#170","text":"Fiche parcellaire - Ajout des informations des propri\u00e9taires, subdivisions et locaux Fiche parcelle - Ajout de la surface spatiale b\u00e2tie Export (version QGIS 2): Ajout d'un script python pour exporter les relev\u00e9s PDF via ligne de commande Fix - G\u00e9n\u00e9ral: Am\u00e9lioration de la r\u00e9cup\u00e9ration d'informations sur les couches (h\u00f4te, base de donn\u00e9es, etc.) Fix - Import: Suppression de table temporaire ll si besoin Fix - Export: relev\u00e9 de propri\u00e9t\u00e9: d\u00e9doublonnage des comptes communaux export\u00e9s en PDF Fix - Correction d'un bug d'encodage Divers - Ajout des derniers financeurs dans le dialogue \"A propos\"","title":"1.7.0"},{"location":"changelog/#162","text":"G\u00e9n\u00e9ral - suppression de code inutile suite \u00e0 la migration QGIS3 Import - Correction de parcelles en doublons d\u00fb au lien avec geo_subdsect Export PDF - Correction d'un bug et restauration de l'affichage des propri\u00e9taires","title":"1.6.2"},{"location":"changelog/#161","text":"Correction de bug sur l'interrogation de propri\u00e9taire suite \u00e0 la gestion des dates en texte Correction d'un bug d'encodage sur message d'erreur de requ\u00eate SQL Import - Utilisation d'entiers longs pour les surfaces de parcelle_info (corrige le bug pour les tr\u00e8s grandes parcelles) Import - Ajout du support du mill\u00e9sime 2018","title":"1.6.1"},{"location":"changelog/#160","text":"Compatibilit\u00e9 du plugin avec QGIS 3. Les version compatibles avec QGIS 2 seront des versions de correction uniquement, avec un num\u00e9ro en 1.5.*","title":"1.6.0"},{"location":"changelog/#152","text":"Import - Transformation des champs date en texte pour le MAJIC, par respect de la donn\u00e9e source Correction d'un bug de la 1.5.1 avec QFileDialog, QFileInfo et BaseError manquant","title":"1.5.2"},{"location":"changelog/#151","text":"Import - MAJIC : correction de bug si dates mauvaises (30 f\u00e9v par ex) Import - Support partiel des donn\u00e9es EDIGEO en projection IGNF Import - Correction d'un bug de non remplissage des parcelles si correspondance geo_subdsect manquant Import - EDIGEO : conversion en date des champs de geo_subdsect seulement si format correct #120","title":"1.5.1"},{"location":"changelog/#150","text":"Chargement - Ajout de couches via requ\u00eate SQL Import - Ajout de la nomenclature pour ccocac Import - Correction sur la table pivot geo_batiment_parcelle: restriction par intersection Rechercher - D\u00e9placement de la recherche d'adresse sous celle par parcelle Chargement - correction d'un bug sur l'ajout dans les groupes Cadastre Import - Ajout du support de MAJIC 2017 Recherche - Support de l'autocompl\u00e9tion pour les adresses et les propri\u00e9taires Recherche - Int\u00e9gration des adresses dans la recherche de lieux Import - Correction du bug de r\u00e9cup\u00e9ration des propri\u00e9t\u00e9s b\u00e2ties Import/Identification - contournement du bug d'encodage sur requ\u00eate pour QGIS 2.18.10 et > Identification - correction du bug sur chargement de projet QGIS Import - Majic : import des propri\u00e9taires si et seulement si dnupro est non vide Import - Lieudits: utilisation de tous les champs tex Recherche - R\u00e9application de l'ordre dans les listes d\u00e9roulantes (sections, parcelles) BDD - Possibilit\u00e9 de se connecter avec un connexion utilisant un service PostgreSQL","title":"1.5.0"},{"location":"changelog/#141","text":"Import/Chargement - correction de bug pour Spatialite sur g\u00e9n\u00e9ration parcelle_info","title":"1.4.1"},{"location":"changelog/#140","text":"Menu - Suppression du menu Cadastre et d\u00e9placement dans le menu Extensions Barre d'outil - Modification de l'ic\u00f4ne d'identification (merci @pasqual ) Structure bdd - G\u00e9n\u00e9ralisation des codes d\u00e9partements et direction dans les identifiants Structure bdd - Parcelles: consolidation des infos propri\u00e9taires dans une nouvelle table parcelle_info Import - Correction d'un bug de remplissage de geo_sym si ptcanv_id.sym est NULL Import - MAJIC: Filtrage des donn\u00e9es import\u00e9es selon d\u00e9partement et direction: on peut utiliser le fichier FANTOIR national Import - Ajout du support de MAJIC 2016 Import - Edigeo : am\u00e9lioration de la jointure de geo_parcelle ave geo_subdsect Import - Correction des doublons sur les parcelles (dus au lien geo_subdsect) Import - Edigeo: am\u00e9lioration des performances pour tpoint, tline, tsurf Import - Augmentation de la limite max pour le code direction - fixes #94 Import - Utilisation directe des fichiers sources sans copie pr\u00e9alable Import - Suppression des contraintes de taille dans les champs Import - D\u00e9placement des scripts SQL d'import et nettoyage Import - Fantoir recommand\u00e9 lors de l'import MAJIC && lien de t\u00e9l\u00e9chargement ajout\u00e9 Import - Correction des parcelles dupliqu\u00e9es si plusieurs sous-sections Import - correction du bug emp\u00eachant la cr\u00e9ation de base sqlite sous 2.16 - #83 Chargement - Ajout du filtre par expression sur les communes (exp\u00e9rimental) Chargement - possibilit\u00e9 de charger seulement les couches principales Chargement - S\u00e9paration des \u00e9tiquettes et des donn\u00e9es en groupes & d\u00e9sactivation des couches mineures Chargement - Mise \u00e0 jour et am\u00e9lioration des styles Chargement - Correction de bug sur QgsMapLayer non d\u00e9fini Chargement - Styles : masquage de la couche Tron\u00e7ons de routes aux petites \u00e9chelles Export - Ajout d'un nouveau menu pour exporter la vue courante en PDF Export - ajout d'une carte en 1\u00e8re page pour le relev\u00e9 parcellaire Export - Ouverture automatique du r\u00e9pertoire apr\u00e8s export PDF multiple Recherche - La recherche par commune et section utilise le lot pour \u00e9viter les doublons si plusieurs d\u00e9partements Serveur - Ajout de la capacit\u00e9 \"server\" pour le plugin","title":"1.4.0"},{"location":"changelog/#130","text":"Import - MAJIC : support du mill\u00e9sime 2015. La structure a \u00e9t\u00e9 un peu modifi\u00e9e. Il faut r\u00e9aliser l'import dans un nouveau sch\u00e9ma PostGreSQL ou une nouvelle base de donn\u00e9es Spatialite. Un script de migration de la structure est disponible pour PostGreSQL pour ceux qui pr\u00e9f\u00e8rent conserver le sch\u00e9ma actuel (faites une sauvegarde avant !) : /.qgis2/python/plugins/cadastre/scripts/plugin/updates/update_structure_postgis_from_1.2.0_to_1.3.0.sql Import - Ajout d'un syst\u00e8me de cr\u00e9ation des tables manquantes ( pour les mont\u00e9es de version ) Edigeo - Ajout des objets TRONROUTE dans la table geo_tronroute Import - \u00c9viter l'import des parcelles EDIGEO avec un idu NULL Plugin - Suppression de la contrainte de version maximum de QGIS","title":"1.3.0"},{"location":"changelog/#120","text":"Import - Am\u00e9lioration des performances d'imports pour Spatialite Import - Ajout d'une option pour activer/d\u00e9sactiver la validation des g\u00e9om\u00e9tries Import - Suppression de l'outil de r\u00e9paration des multipolygones sur une bdd d\u00e9ja import\u00e9e (phase de transition termin\u00e9e ) Interface - pour l'interface Cadastre, ajout des boutons WMS/WFS - fixes #53 Export - Debogage des exports PDF vides pour la 2.8 - fixes #60 Identification parcelle - am\u00e9lioration interne de l'outil (pas visible dans l'interface) Import - Prise en compte des fichiers MAJIC sans contenus dans les premi\u00e8res lignes","title":"1.2.0"},{"location":"changelog/#111","text":"Ajout de la compatibilit\u00e9 avec QGIS 2.8","title":"1.1.1"},{"location":"changelog/#110","text":"Options - Ajout du menu Vue/D\u00e9corations dans l'interface Cadastre Chargement - La couche Unit\u00e9s fonci\u00e8res est d\u00e9coch\u00e9e par d\u00e9faut Import - Ajout des scripts pyogr pour compatibilit\u00e9 QGIS 2.6 Ajout d'une boite de dialogue d'information lors du 1er chargement. Visible via le menu Cadastre > Notes de version Import/Recherche/Export - Modification du lien entre les parcelles EDIGEO et MAJIC (m\u00eame identifiant unique pour les 2) Import - exhaustivit\u00e9 des donn\u00e9es de propri\u00e9taire MAJIC - fix #47 Import - Conserver l'orientation des symboles lors d'imports successifs - fix #46 Import - Correction des g\u00e9om\u00e9tries invalides - fix #43 Import - Correction des multipolygones sous Windows - fixes #44 Info parcelle - option de filtre commune pour le relev\u00e9 de propri\u00e9t\u00e9 - fix #42 Chargement - Ajout des TRONROUTE_ID pour les \u00e9tiquettes des noms voies - bug #40 Chargement - Suppression des \u00e9tiquettes abb\u00e9rantes - fix #41 Import - Ajout des unit\u00e9s fonci\u00e8res pour PostGIS (refonte de la requ\u00eate) Import - MAJIC : ajout de la compatibilit\u00e9 des fichiers 2014 Import - EDIGEO : ajout de la table boulon_id Chargement - correction du bug #38 : minidump sous Windows","title":"1.1.0"},{"location":"changelog/#100","text":"Import - d\u00e9bogage import PostGreSQL sous Windows Recherche - Meilleure gestion de la d\u00e9sactivation des modules de recherche Import - MAJIC : possibilit\u00e9 de lancer l'import m\u00eame si fichiers MAJIC manquants Import - V\u00e9rifications sur les donn\u00e9es MAJIC avant import - bug #37 Import - Meilleure gestion des chemins des fichiers sources Import - Cr\u00e9ation de bdd spatialite diff\u00e9rente selon la version de spatialite - bug #30 Export - D\u00e9bogage de l'export PDF pour QGIS 2.4 - bug #36 Import : MAJIC - arr\u00eat de l'import si aucun fichier trouv\u00e9 Import - Modifications mineures d'interface Import - meilleure gestion des imports EDIGEO via ogr2ogr.py au lieu de ogr2ogr.exe (compatibilit\u00e9 MAC + d\u00e9tection des erreurs)","title":"1.0.0"},{"location":"changelog/#099","text":"Import - correction de certaines erreurs d'import des MULTIPOLYGONES (PostGreSQL et Spatialite)","title":"0.9.9"},{"location":"changelog/#0981","text":"Export - debug : suppression des 'print' dans le code","title":"0.9.8.1"},{"location":"changelog/#098","text":"Log d\u00e9taill\u00e9 : https://github.com/3liz/QgisCadastrePlugin/compare/0.9.7...0.9.8 Export des relev\u00e9s - am\u00e9liorations de mises en forme des donn\u00e9es Export - propri\u00e9taires : ajout de l'\u00e9poux pour les femmes mari\u00e9es EX: MME DURAND/Sophie Yvette EP DUPONT Jean Export - propri\u00e9taires : d\u00e9placement des dates et lieu de naissance \u00e0 droite Export - Suppression des z\u00e9ros au d\u00e9but du num\u00e9ro de plan et de voirie Export - prop. baties : Suppression du code commune au d\u00e9but du num\u00e9ro INVAR Export - Sommes prop. baties : Ajout de z\u00e9ros si valeurs nulles (au lieu de cases vides) Export - prop. non baties : S\u00e9paration des HA A CA pour la contenance Export - prop. non baties : Calcul de la fraction exo si applicable Export - Sommes prop. non baties : Ajout de la somme des contenances Export - Pied de page : Ajout de la mention \"Ce document est donn\u00e9 \u00e0 titre indicatif...\" Export - Suppression de la mention \"Exp\u00e9rimental\" Import - Import des MULTI-POLYGONES et correction de donn\u00e9es existantes - bug #29","title":"0.9.8"},{"location":"changelog/#097","text":"Log d\u00e9taill\u00e9 : https://github.com/3liz/QgisCadastrePlugin/compare/0.9.6...0.9.7 Documentation - ajout des liens vers la documentation en ligne - bug #3 Export - recup\u00e9ration infos parcelles : ajout du filtre par d\u00e9partement - bug #27 Export - correction du pourcentage exoneration pour les propri\u00e9t\u00e9s non baties - bug #26 Import - validation pr\u00e9alable des entr\u00e9es du formulaire d'import - bug #25 Chargement - ajout des chemins SVG cadastre sans \u00e9craser les pr\u00e9c\u00e9dents - bug #19 Identification - debogage outil si Parcelles n'est pas la couche active Export - nettoyage du nom du PDF export\u00e9 pour compatibilit\u00e9 Windows - bug #23 Import - sup contrainte de type sur surface des parcelles - bug #20 Import - suppression de la contrainte de longueur de champ pour l'attribut tex Chargement - gestion d'erreur si pas de table trouv\u00e9e dans la bdd Recherche - correction largeur listes d\u00e9roulantes (windows) - bug #22 Export - ouverture des PDF compatible freeBSD - bug #21","title":"0.9.7"},{"location":"changelog/#096","text":"Log d\u00e9taill\u00e9 : https://github.com/3liz/QgisCadastrePlugin/compare/0.9.5...0.9.6 Import - actualisation liste des tar.bz2 apr\u00e8s d\u00e9compression de zip Documentation - mise \u00e0 jour Recherche/export - meilleurs r\u00e9sultats si fantoir non import\u00e9 - bug #18 Export multiple - barre de progression et ouverture du dossier contenant Export - optimisation - bug #2 Chargement - r\u00e9utilisation du groupe Cadastre si pr\u00e9sent - bug #14 Identification - r\u00e9initialisation de l'outil identifier au chargement Spatialite - debogage base de donn\u00e9es si chemin contient des espaces - bug #17 Recherche - adresse/propri\u00e9taire : gestion des apostrophes - bug #12 Import - remplacement CREATE TABLE IF NOT EXISTS - bug #13 Meilleur comportement des outils de recherche sur ouverture d'un (nouveau) projet","title":"0.9.6"},{"location":"changelog/#095","text":"Chargement - bug #8: pas d'erreur si pr\u00e9sence de couches plugin OpenLayers Recherche/Identification - r\u00e9activation des outils sur chargement d'un projet Cadastre - #9 Recherche - Lieux : Liste des sections ordonn\u00e9es par code Import - correction bug Spatialite import relations (*.vec) - bug #7 Import - Gestion des erreurs de suppression de fichier apr\u00e8s extraction - bug #5 Import - modifications des scripts pour gestion arrondissements (ex: Marseille)","title":"0.9.5"},{"location":"changelog/#094","text":"Import - bouton Cr\u00e9er une base Spatialite gris\u00e9 si aucune connection dans QGIS","title":"0.9.4"},{"location":"changelog/#093","text":"Documentation - ajout d'une documentation (avec copies d'\u00e9cran) Chargement - remplacement du panneau par une fen\u00eatre Configurer - ajout d'un option pour le type de stockage temporaire de Spatialite Import - spatialite : remove disablespatialindex Import - Am\u00e9lioration des imports cons\u00e9cutifs (indexes, erreurs spatialites, etc.) Majic - import r\u00e9cursif G\u00e9n\u00e9ral - ajout d'un menu d'aide et r\u00e9daction de l'aide Import - restriction des imports \u00e0 2012 et 2013 Export - am\u00e9lioration des calculs des sommes A propos - correction coquille Recherche/Export - gestion des propri\u00e9taires sur plusieurs communes About - ajout du lien vers le d\u00e9p\u00f4t Github A propos - modification de l'ordre des financeurs","title":"0.9.3"},{"location":"changelog/#092","text":"Import - suppression des indexes avant ajout Majic incr\u00e9mental G\u00e9n\u00e9ral - r\u00e9daction du README et metadata Import - am\u00e9lioration de l'import Spatialite A propos - ajout du remerciement aux auteurs d'OpenCadastre G\u00e9n\u00e9ral - affichage de la fen\u00eatre 'A propos' \u00e0 la 1\u00e8re utilisation Option - ajout de l'aide pour changer d'interface Import - am\u00e9lioration des scripts Import - La Direction est bloqu\u00e9e : entier entre 0 et 5 Chargement - renommage des couches && fermeture des l\u00e9gendes Recherche/Identification - d\u00e9sactivation des outils n\u00e9cessitant MAJIC si pas de donn\u00e9es","title":"0.9.2"},{"location":"changelog/#091","text":"Chargement - ajout du style Orthophoto Import - modification interface du choix du type de bdd Import - les fichiers EDIGEO non zip/tar.bz2 sont bien pris en compte Import - Ajout d'un bouton pour cr\u00e9er une base de donn\u00e9es Spatialite vide Toolbar - Ajout import/charger/recherche/about + modification ic\u00f4ne Styles - Classique : am\u00e9lioration tsurf","title":"0.9.1"},{"location":"changelog/#090","text":"Correction de r\u00e9gression de 0.8.9 : indentification parcelle et recherche propri\u00e9taire","title":"0.9.0"},{"location":"changelog/#089","text":"Am\u00e9lioration du support Spatialite : import, recherche, export General - d\u00e9sactivation Spatialite si pyspatialite non pr\u00e9sent","title":"0.8.9"},{"location":"changelog/#088","text":"Import - ajout d'une option pour configurer le nombre de ligne INSERT max Propri\u00e9taires - debug affichage vide pour les personnes morales Recherche - ajout des stopwords pour les natvoi Indentification parcelle - textes en lecture seule + code section || dnupla Import majic - V\u00e9rfication unicit\u00e9 des lotslocaux","title":"0.8.8"},{"location":"changelog/#087","text":"Export - changement du calcul du revenu cadastral non bati + num\u00e9ro voirie Import - possibilit\u00e9 d'importer un fichier MAJIC seul Import - Ajout des contraintes \u00e0 la fin d'un import MAJIC seul Import - modification mineure nomenclature EDIGEO Import - Compatibilit\u00e9 avec les fichiers MAJIC 2013 Import MAJIC - ajout de quelques colonnes (bati, nbat) Export - Calcul des sommes pour bati et nbat Recherche/export - ajout du lieu et date de naissance pour les propri\u00e9taires Chargement - Cr\u00e9ation d'un groupe 'Cadastre' et chargement des couches dans ce groupe Chargement - mise \u00e0 jour auto des listes d\u00e9roulantes suite \u00e0 un import","title":"0.8.7"},{"location":"changelog/#086","text":"Recherche/Export - Ajout ccocom dans comptecommunal (d\u00e9doublonnage) Import - MAJI : suppression des caract\u00e8res non imprimables et de contr\u00f4le","title":"0.8.6"},{"location":"changelog/#085","text":"Import - debug utilisation m\u00e9moire lors de la leture des fichiers majic volumineux Recherche - suppression du bug si ouverture panneau avec couches hors cadastre Recherche/Indenfitication - Correction du Zoom/Centrer si reprojection \u00e0 la vol\u00e9e Recherche - adaptation remplissage table voie pour g\u00e9rer le multi-commune","title":"0.8.5"},{"location":"changelog/#084","text":"Import - Modification dynamique de la projection des tables edigeo Recherche - Am\u00e9lioration recherche d'adresse via table voie (fantoir) Chargement - utilisation de Times New Roman pour les \u00e9tiquettes","title":"0.8.4"},{"location":"changelog/#083","text":"Import - majic: suppressions de caract\u00e8res \\x00 Import - debug Windows sur chemins vers scripts contraintes","title":"0.8.3"},{"location":"changelog/#082","text":"Import - debug du nom du sch\u00e9ma \"a\" pr\u00e9c\u00e9demment \u00e9crit en dur (r\u00e9gression 0.8.1) Import - utilisation du serial pour geo_commune, geo_parcelle et geo_section : \u00e9vite les erreurs de r\u00e9tablissement des cl\u00e9s primaires","title":"0.8.2"},{"location":"changelog/#081","text":"Import - possibilit\u00e9 d'import vers une base de donn\u00e9es distante Import - possibilit\u00e9 d'importer en plusieurs passes","title":"0.8.1"},{"location":"contributing/","text":"Contribution # Le projet est h\u00e9berg\u00e9 sur GitHub Visiter GitHub Code # Les tests unitaires sont en cours. 1 2 pip install -r requirements/dev.txt flake8 La variable d'environnement CI=true permet d'\u00e9viter certaines QMessageBox. Run tests in Docker 1 2 3 4 5 6 7 8 make start_tests make run_tests # Run a custom pattern cd .docker/ && ./exec_tests.sh test_*.py make stop_tests # All in one, but slower make tests In your QGIS Desktop itself Open the QGIS console 1 2 3 4 5 from qgis.utils import plugins plugins [ 'cadastre' ] . run_tests () # Custom pattern plugins [ 'cadastre' ] . run_tests ( 'test_*.py' ) In your IDE, with linked QGIS library Setup your QGIS_PREFIX_PATH etc Right-click on a test and launch it Documentation # La documentation utilise MkDocs avec Material : 1 2 pip install -r requirements/doc.txt mkdocs serve","title":"Contribution"},{"location":"contributing/#contribution","text":"Le projet est h\u00e9berg\u00e9 sur GitHub Visiter GitHub","title":"Contribution"},{"location":"contributing/#code","text":"Les tests unitaires sont en cours. 1 2 pip install -r requirements/dev.txt flake8 La variable d'environnement CI=true permet d'\u00e9viter certaines QMessageBox. Run tests in Docker 1 2 3 4 5 6 7 8 make start_tests make run_tests # Run a custom pattern cd .docker/ && ./exec_tests.sh test_*.py make stop_tests # All in one, but slower make tests In your QGIS Desktop itself Open the QGIS console 1 2 3 4 5 from qgis.utils import plugins plugins [ 'cadastre' ] . run_tests () # Custom pattern plugins [ 'cadastre' ] . run_tests ( 'test_*.py' ) In your IDE, with linked QGIS library Setup your QGIS_PREFIX_PATH etc Right-click on a test and launch it","title":"Code"},{"location":"contributing/#documentation","text":"La documentation utilise MkDocs avec Material : 1 2 pip install -r requirements/doc.txt mkdocs serve","title":"Documentation"},{"location":"extension-qgis/charger/","text":"Charger des donn\u00e9es # Une fois les donn\u00e9es import\u00e9es dans la base, vous pouvez les importer dans QGIS via le menu Charger les donn\u00e9es . Base de donn\u00e9es de travail # Il faut d'abord indiquer au plugin o\u00f9 r\u00e9cup\u00e9rer les donn\u00e9es : Choisir le type de base de donn\u00e9es Choisir ensuite la connexion vers la base de donn\u00e9e dans lequel l'import a \u00e9t\u00e9 fait Si PostGIS, choisir le sch\u00e9ma contenant les donn\u00e9es Th\u00e8me # Puis on peut choisir un th\u00e8me \u00e0 utiliser pour la symbologie des couches : Classique : un th\u00e8me proche du rendu de https://cadastre.gouv.fr Orthophoto : un th\u00e8me adapt\u00e9 \u00e0 un affichage par-dessus un fond orthophoto. Couches et filtres # En cochant la case Ajouter seulement Commune, sections, parcelles et b\u00e2ti , vous indiquez que vous souhaitez ouvrir seulement ces couches dans QGIS (et pas les autres couches comme les bornes, les croix, etc.) Filtrer par expression sur les communes : cette option vous permet de ne pas charger la totalit\u00e9 des donn\u00e9es, mais seulement celles qui correspondent aux communes filtr\u00e9es via une expression. Vous devez conna\u00eetre la structure de la table geo_commune pour pouvoir r\u00e9aliser ce filtre. Si l'expression est invalide, alors le plugin chargera l'ensemble des donn\u00e9es. Attention \u00e0 cette deuxi\u00e8me option, qui est exp\u00e9rimentale, et qui peut poser des soucis de performance. Pour information, cette option ajoute un filtre \u00e0 chaque couche via une sous-requ\u00eate. Une fois les couches charg\u00e9es, vous pouvez consulter ce filtre via l'onglet G\u00e9n\u00e9ral de la bo\u00eete de dialogue des propri\u00e9t\u00e9s de chaque couche. Exemples d'expression : substr(\"geo_commune\", 5, 6) LIKE '54033%' -> les communes du d\u00e9partement 54, direction 0, dont le code INSEE commence par 33 \"tex2\" IN ('AMIENS', 'ALLONVILLE') -> le nom de la commune est AMIENS ou ALLONVILLE Notes # Pensez \u00e0 enlever les donn\u00e9es cadastrales existantes dans votre projet QGIS : Le plugin ne sait pas g\u00e9rer la recherche et l'interrogation de donn\u00e9es si on a plus qu'une version des couches parcelles, communes et sections dans le projet QGIS. Enfin, cliquez sur le bouton Charger les donn\u00e9es pour lancer le chargement. Charger une couche \u00e0 partir d'une requ\u00eate. # L'onglet Charger une requ\u00eate vous donne la possibilit\u00e9 d'utiliser une requ\u00eate SQL pour r\u00e9cup\u00e9rer des donn\u00e9es de la base. Pour cela, il faut bien conna\u00eetre le mod\u00e8le de la base de donn\u00e9es et les sp\u00e9cificit\u00e9s des donn\u00e9es MAJIC. Cette fonctionnalit\u00e9 vise \u00e0 \u00e9voluer pour proposer une liste de requ\u00eates int\u00e9ressantes pour l'exploitation des donn\u00e9es cadastrales. Une fois la connexion choisie, vous pouvez \u00e9crire le texte SQL dans le champ texte. La requ\u00eate peut renvoyer des donn\u00e9es spatiales ou seulement des donn\u00e9es attributaires. Si un des champs retourn\u00e9s est une g\u00e9om\u00e9trie, vous devez sp\u00e9cifier son nom dans le champ texte d\u00e9di\u00e9. Si vous utilisez une connexion PostGIS, il faut pr\u00e9fixer les tables avec le nom du sch\u00e9ma. Par exemple cadastre.geo_parcelle . La requ\u00eate suivante retourne par exemple pour chaque code de parcelle la date de l'acte (on suppose que le sch\u00e9ma est cadastre). Vous pouvez ensuite utiliser une jointure QGIS pour faire le lien avec la couche Parcelles : 1 2 SELECT p.parcelle, p.jdatat AS date_acte FROM cadastre.parcelle p La requ\u00eate suivante renvoie toutes les parcelles appartenant \u00e0 des collectivit\u00e9s locales, avec la g\u00e9om\u00e9trie et les noms des propri\u00e9taires 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 SELECT gp.geo_parcelle, string_agg( trim( concat( pr.dnuper || ' - ', trim(pr.dqualp) || ' ', trim(pr.ddenom) ) ),'|' ) AS proprietaire, gp.geom AS geom FROM cadastre.geo_parcelle gp JOIN cadastre.parcelle p ON gp.geo_parcelle = p.parcelle JOIN cadastre.proprietaire pr ON p.comptecommunal = pr.comptecommunal WHERE pr.dnatpr = 'CLL' GROUP BY gp.geo_parcelle, gp.geom","title":"Charger"},{"location":"extension-qgis/charger/#charger-des-donnees","text":"Une fois les donn\u00e9es import\u00e9es dans la base, vous pouvez les importer dans QGIS via le menu Charger les donn\u00e9es .","title":"Charger des donn\u00e9es"},{"location":"extension-qgis/charger/#base-de-donnees-de-travail","text":"Il faut d'abord indiquer au plugin o\u00f9 r\u00e9cup\u00e9rer les donn\u00e9es : Choisir le type de base de donn\u00e9es Choisir ensuite la connexion vers la base de donn\u00e9e dans lequel l'import a \u00e9t\u00e9 fait Si PostGIS, choisir le sch\u00e9ma contenant les donn\u00e9es","title":"Base de donn\u00e9es de travail"},{"location":"extension-qgis/charger/#theme","text":"Puis on peut choisir un th\u00e8me \u00e0 utiliser pour la symbologie des couches : Classique : un th\u00e8me proche du rendu de https://cadastre.gouv.fr Orthophoto : un th\u00e8me adapt\u00e9 \u00e0 un affichage par-dessus un fond orthophoto.","title":"Th\u00e8me"},{"location":"extension-qgis/charger/#couches-et-filtres","text":"En cochant la case Ajouter seulement Commune, sections, parcelles et b\u00e2ti , vous indiquez que vous souhaitez ouvrir seulement ces couches dans QGIS (et pas les autres couches comme les bornes, les croix, etc.) Filtrer par expression sur les communes : cette option vous permet de ne pas charger la totalit\u00e9 des donn\u00e9es, mais seulement celles qui correspondent aux communes filtr\u00e9es via une expression. Vous devez conna\u00eetre la structure de la table geo_commune pour pouvoir r\u00e9aliser ce filtre. Si l'expression est invalide, alors le plugin chargera l'ensemble des donn\u00e9es. Attention \u00e0 cette deuxi\u00e8me option, qui est exp\u00e9rimentale, et qui peut poser des soucis de performance. Pour information, cette option ajoute un filtre \u00e0 chaque couche via une sous-requ\u00eate. Une fois les couches charg\u00e9es, vous pouvez consulter ce filtre via l'onglet G\u00e9n\u00e9ral de la bo\u00eete de dialogue des propri\u00e9t\u00e9s de chaque couche. Exemples d'expression : substr(\"geo_commune\", 5, 6) LIKE '54033%' -> les communes du d\u00e9partement 54, direction 0, dont le code INSEE commence par 33 \"tex2\" IN ('AMIENS', 'ALLONVILLE') -> le nom de la commune est AMIENS ou ALLONVILLE","title":"Couches et filtres"},{"location":"extension-qgis/charger/#notes","text":"Pensez \u00e0 enlever les donn\u00e9es cadastrales existantes dans votre projet QGIS : Le plugin ne sait pas g\u00e9rer la recherche et l'interrogation de donn\u00e9es si on a plus qu'une version des couches parcelles, communes et sections dans le projet QGIS. Enfin, cliquez sur le bouton Charger les donn\u00e9es pour lancer le chargement.","title":"Notes"},{"location":"extension-qgis/charger/#charger-une-couche-a-partir-dune-requete","text":"L'onglet Charger une requ\u00eate vous donne la possibilit\u00e9 d'utiliser une requ\u00eate SQL pour r\u00e9cup\u00e9rer des donn\u00e9es de la base. Pour cela, il faut bien conna\u00eetre le mod\u00e8le de la base de donn\u00e9es et les sp\u00e9cificit\u00e9s des donn\u00e9es MAJIC. Cette fonctionnalit\u00e9 vise \u00e0 \u00e9voluer pour proposer une liste de requ\u00eates int\u00e9ressantes pour l'exploitation des donn\u00e9es cadastrales. Une fois la connexion choisie, vous pouvez \u00e9crire le texte SQL dans le champ texte. La requ\u00eate peut renvoyer des donn\u00e9es spatiales ou seulement des donn\u00e9es attributaires. Si un des champs retourn\u00e9s est une g\u00e9om\u00e9trie, vous devez sp\u00e9cifier son nom dans le champ texte d\u00e9di\u00e9. Si vous utilisez une connexion PostGIS, il faut pr\u00e9fixer les tables avec le nom du sch\u00e9ma. Par exemple cadastre.geo_parcelle . La requ\u00eate suivante retourne par exemple pour chaque code de parcelle la date de l'acte (on suppose que le sch\u00e9ma est cadastre). Vous pouvez ensuite utiliser une jointure QGIS pour faire le lien avec la couche Parcelles : 1 2 SELECT p.parcelle, p.jdatat AS date_acte FROM cadastre.parcelle p La requ\u00eate suivante renvoie toutes les parcelles appartenant \u00e0 des collectivit\u00e9s locales, avec la g\u00e9om\u00e9trie et les noms des propri\u00e9taires 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 SELECT gp.geo_parcelle, string_agg( trim( concat( pr.dnuper || ' - ', trim(pr.dqualp) || ' ', trim(pr.ddenom) ) ),'|' ) AS proprietaire, gp.geom AS geom FROM cadastre.geo_parcelle gp JOIN cadastre.parcelle p ON gp.geo_parcelle = p.parcelle JOIN cadastre.proprietaire pr ON p.comptecommunal = pr.comptecommunal WHERE pr.dnatpr = 'CLL' GROUP BY gp.geo_parcelle, gp.geom","title":"Charger une couche \u00e0 partir d'une requ\u00eate."},{"location":"extension-qgis/configuration/","text":"Configuration # Avant d'importer les premi\u00e8res donn\u00e9es cadastrales dans la base de donn\u00e9es, il faut au pr\u00e9alable configurer l'extension : Menu Cadastre \u27a1 Configurer le plugin ou l'ic\u00f4ne outils de la barre d'outil Cadastre. Interface # Les deux boutons Interface Cadastre et Interface QGIS permettent d'ouvrir une aide pour appliquer une interface simplifi\u00e9e adapt\u00e9e \u00e0 une utilisation de consultation du Cadastre. \u00c0 ce jour, QGIS ne permet pas de modifier dynamiquement l'interface via une extension. Nous incorporerons cette fonctionnalit\u00e9 lorsque ce sera possible. En attendant, il faut donc le faire manuellement, comme expliqu\u00e9 dans la fen\u00eatre d'aide. Nom des fichiers MAJIC # Cette partie permet de sp\u00e9cifier comment sont appel\u00e9s les fichiers MAJIC sur votre poste de travail. En effet, les conventions de nommage peuvent changer d'un d\u00e9partement \u00e0 l'autre. Souvent, les fichiers se terminent par une extension relative au d\u00e9partement et \u00e0 la direction, par exemple .800 pour les fichiers du d\u00e9partement de la Somme. Il est important de bien configurer ces noms de fichiers avant votre premier import. Si l'extension ne trouve pas les fichiers MAJIC pendant l'import, alors que vous aviez sp\u00e9cifi\u00e9 le bon r\u00e9pertoire d'import, un message vous avertira et vous proposera d'annuler l'import. Mod\u00e8le de mise en page pour l'export de la vue cartographique # Vous pouvez choisir ici le mod\u00e8le de mise en page d'impression qui sera utilis\u00e9 dans la fonction Export la vue . Un mod\u00e8le est fourni dans le r\u00e9pertoire composeur de l'extension et sera utilis\u00e9 si vous ne proposez pas le v\u00f4tre. Pour l'instant, le mod\u00e8le g\u00e8re un bloc de carte, mais pas les blocs de table attributaire. R\u00e9pertoire temporaire # Vous pouvez choisir le r\u00e9pertoire dans lequel les scripts seront copi\u00e9s et les fichiers d\u00e9compress\u00e9s. Choisissez un r\u00e9pertoire contenant assez de place pour stocker les fichiers temporaires, surtout si vous souhaitez charger des donn\u00e9es volumineuses. Ce r\u00e9pertoire est aussi celui dans lequel les relev\u00e9s parcellaires et les relev\u00e9s de propri\u00e9t\u00e9 seront export\u00e9s. Performances # Vous pouvez modifier dans ce groupe les options suivantes pour adapter l'extension aux performances de votre mat\u00e9riel : Taille maximum des requ\u00eates INSERT : C'est le nombre total de requ\u00eates INSERT lanc\u00e9es dans un groupe de modification ( BEGIN/COMMIT ). Vous pouvez baisser le chiffre jusqu'\u00e0 10000 si vous avez une machine l\u00e9g\u00e8re et un gros volume de donn\u00e9es \u00e0 importer. Plus le chiffre est bas, plus l'import initial peut prendre du temps. Stockage temporaire : Le mode MEMORY est plus rapide, mais n\u00e9cessite assez de m\u00e9moire vive pour stocker les donn\u00e9es \u00e0 traiter. Le mode DEFAULT est plus lent et adapt\u00e9 \u00e0 des ordinateurs avec peu de m\u00e9moire vive.","title":"Configuration"},{"location":"extension-qgis/configuration/#configuration","text":"Avant d'importer les premi\u00e8res donn\u00e9es cadastrales dans la base de donn\u00e9es, il faut au pr\u00e9alable configurer l'extension : Menu Cadastre \u27a1 Configurer le plugin ou l'ic\u00f4ne outils de la barre d'outil Cadastre.","title":"Configuration"},{"location":"extension-qgis/configuration/#interface","text":"Les deux boutons Interface Cadastre et Interface QGIS permettent d'ouvrir une aide pour appliquer une interface simplifi\u00e9e adapt\u00e9e \u00e0 une utilisation de consultation du Cadastre. \u00c0 ce jour, QGIS ne permet pas de modifier dynamiquement l'interface via une extension. Nous incorporerons cette fonctionnalit\u00e9 lorsque ce sera possible. En attendant, il faut donc le faire manuellement, comme expliqu\u00e9 dans la fen\u00eatre d'aide.","title":"Interface"},{"location":"extension-qgis/configuration/#nom-des-fichiers-majic","text":"Cette partie permet de sp\u00e9cifier comment sont appel\u00e9s les fichiers MAJIC sur votre poste de travail. En effet, les conventions de nommage peuvent changer d'un d\u00e9partement \u00e0 l'autre. Souvent, les fichiers se terminent par une extension relative au d\u00e9partement et \u00e0 la direction, par exemple .800 pour les fichiers du d\u00e9partement de la Somme. Il est important de bien configurer ces noms de fichiers avant votre premier import. Si l'extension ne trouve pas les fichiers MAJIC pendant l'import, alors que vous aviez sp\u00e9cifi\u00e9 le bon r\u00e9pertoire d'import, un message vous avertira et vous proposera d'annuler l'import.","title":"Nom des fichiers MAJIC"},{"location":"extension-qgis/configuration/#modele-de-mise-en-page-pour-lexport-de-la-vue-cartographique","text":"Vous pouvez choisir ici le mod\u00e8le de mise en page d'impression qui sera utilis\u00e9 dans la fonction Export la vue . Un mod\u00e8le est fourni dans le r\u00e9pertoire composeur de l'extension et sera utilis\u00e9 si vous ne proposez pas le v\u00f4tre. Pour l'instant, le mod\u00e8le g\u00e8re un bloc de carte, mais pas les blocs de table attributaire.","title":"Mod\u00e8le de mise en page pour l'export de la vue cartographique"},{"location":"extension-qgis/configuration/#repertoire-temporaire","text":"Vous pouvez choisir le r\u00e9pertoire dans lequel les scripts seront copi\u00e9s et les fichiers d\u00e9compress\u00e9s. Choisissez un r\u00e9pertoire contenant assez de place pour stocker les fichiers temporaires, surtout si vous souhaitez charger des donn\u00e9es volumineuses. Ce r\u00e9pertoire est aussi celui dans lequel les relev\u00e9s parcellaires et les relev\u00e9s de propri\u00e9t\u00e9 seront export\u00e9s.","title":"R\u00e9pertoire temporaire"},{"location":"extension-qgis/configuration/#performances","text":"Vous pouvez modifier dans ce groupe les options suivantes pour adapter l'extension aux performances de votre mat\u00e9riel : Taille maximum des requ\u00eates INSERT : C'est le nombre total de requ\u00eates INSERT lanc\u00e9es dans un groupe de modification ( BEGIN/COMMIT ). Vous pouvez baisser le chiffre jusqu'\u00e0 10000 si vous avez une machine l\u00e9g\u00e8re et un gros volume de donn\u00e9es \u00e0 importer. Plus le chiffre est bas, plus l'import initial peut prendre du temps. Stockage temporaire : Le mode MEMORY est plus rapide, mais n\u00e9cessite assez de m\u00e9moire vive pour stocker les donn\u00e9es \u00e0 traiter. Le mode DEFAULT est plus lent et adapt\u00e9 \u00e0 des ordinateurs avec peu de m\u00e9moire vive.","title":"Performances"},{"location":"extension-qgis/donnees/","text":"Donn\u00e9es # Edig\u00e9o # Les donn\u00e9es sont disponibles en t\u00e9l\u00e9chargement sur https://cadastre.data.gouv.fr . Elles ne comportent pas de donn\u00e9es sensibles. Il est possible de t\u00e9l\u00e9charger les donn\u00e9es \u00e0 l'\u00e9chelle d\u00e9partementale ou alors communale. Dans l'extension QGIS, il existe, dans la bo\u00eete \u00e0 outils Traitement , un t\u00e9l\u00e9chargeur pour les fichiers Edigeo. Pour utiliser l'outil : Un code INSEE ou une liste de code INSEE, exemple 25047 ou 25047,25602 . Le filtre est optionnel . Il s'applique sur chacune des communes ci-dessus pour filtrer les feuilles : S'il est vide, alors toutes les feuilles. AB,AD , toutes les feuilles sur toutes les communes qui contiennent AB ou AD . 256020000C,250470000D , toutes les feuilles 0C sur 25602 et 0D sur 25047 . 256020000C01,250470000D01 , uniquement les 2 feuilles. 25602,25047000AB , toutes les feuilles de 25602 et les feuilles AB sur 25047 La date est par d\u00e9faut latest ou alors une date disponible sur https://cadastre.data.gouv.fr/datasets/plan-cadastral-informatise selon le format AAAA-MM-JJ . Magic # Il faut y avoir un acc\u00e8s. Ce sont des donn\u00e9es sensibles. OpenMagic # Ces donn\u00e9es ne sont pas support\u00e9es par l'extension. N'h\u00e9sitez pas \u00e0 nous contacter.","title":"Donn\u00e9es"},{"location":"extension-qgis/donnees/#donnees","text":"","title":"Donn\u00e9es"},{"location":"extension-qgis/donnees/#edigeo","text":"Les donn\u00e9es sont disponibles en t\u00e9l\u00e9chargement sur https://cadastre.data.gouv.fr . Elles ne comportent pas de donn\u00e9es sensibles. Il est possible de t\u00e9l\u00e9charger les donn\u00e9es \u00e0 l'\u00e9chelle d\u00e9partementale ou alors communale. Dans l'extension QGIS, il existe, dans la bo\u00eete \u00e0 outils Traitement , un t\u00e9l\u00e9chargeur pour les fichiers Edigeo. Pour utiliser l'outil : Un code INSEE ou une liste de code INSEE, exemple 25047 ou 25047,25602 . Le filtre est optionnel . Il s'applique sur chacune des communes ci-dessus pour filtrer les feuilles : S'il est vide, alors toutes les feuilles. AB,AD , toutes les feuilles sur toutes les communes qui contiennent AB ou AD . 256020000C,250470000D , toutes les feuilles 0C sur 25602 et 0D sur 25047 . 256020000C01,250470000D01 , uniquement les 2 feuilles. 25602,25047000AB , toutes les feuilles de 25602 et les feuilles AB sur 25047 La date est par d\u00e9faut latest ou alors une date disponible sur https://cadastre.data.gouv.fr/datasets/plan-cadastral-informatise selon le format AAAA-MM-JJ .","title":"Edig\u00e9o"},{"location":"extension-qgis/donnees/#magic","text":"Il faut y avoir un acc\u00e8s. Ce sont des donn\u00e9es sensibles.","title":"Magic"},{"location":"extension-qgis/donnees/#openmagic","text":"Ces donn\u00e9es ne sont pas support\u00e9es par l'extension. N'h\u00e9sitez pas \u00e0 nous contacter.","title":"OpenMagic"},{"location":"extension-qgis/import/","text":"Import des donn\u00e9es # Cette boite de dialogue permet de r\u00e9aliser un import de donn\u00e9es EDIGEO et MAJIC . Principe # Le plugin permet l'import de donn\u00e9es MAJIC de 2012 \u00e0 2021 et des donn\u00e9es EDIGEO . Il est possible d'importer des donn\u00e9es de mani\u00e8re incr\u00e9mentale, \u00e9tape par \u00e9tape , ou bien d'importer en une seule fois . Le plugin utilise pour cela la notion de lot . Un lot regroupe un ensemble de donn\u00e9es coh\u00e9rent pour votre utilisation. Par exemple, le lot peut \u00eatre le code d'une commune ou l'acronyme d'une communaut\u00e9 de commune. C'est une cha\u00eene de 10 caract\u00e8res maximum. Vous pouvez utiliser des chiffres ou des lettres. Vous pouvez par exemple importer les donn\u00e9es dans cet ordre : donn\u00e9es EDIGEO de la commune A, lot \"com_a\" donn\u00e9es EDIGEO de la commune B, lot \"com_b\" donn\u00e9es MAJIC de la commune A, lot \"com_a\" donn\u00e9es EDIGEO de la commune A, lot \"com_a\" (r\u00e9-import et \u00e9crasement des donn\u00e9es pr\u00e9c\u00e9dentes) donn\u00e9es EDIGEO de la commune C, lot \"com_c\" Il est donc important de conserver une liste des lots d\u00e9finis pendant les imports successifs, pour savoir ensuite quel lot utiliser si on souhaite \u00e9craser des donn\u00e9es. Une version prochaine du plugin pourra int\u00e9grer un tableau r\u00e9capitulatif des imports effectu\u00e9s dans une base de donn\u00e9es pour faciliter le suivi des imports r\u00e9alis\u00e9s. Il est conseill\u00e9 d'importer des donn\u00e9es de mill\u00e9sime diff\u00e9rents dans des bases de donn\u00e9es ou des sch\u00e9mas PostGreSQL diff\u00e9rents, car la structure peut changer d'un mill\u00e9sime \u00e0 l'autre (ajout de colonnes, modification de longueur de champs, etc). Bases de donn\u00e9es # Deux Syst\u00e8mes de Gestion de Bases de Donn\u00e9es (SGBD) sont support\u00e9s par le plugin Cadastre : PostGreSQL et son extension spatiale PostGIS SQLite et son extension spatiale Spatialite Nous conseillons d'utiliser PostGreSQL pour des donn\u00e9es volumineuses et pour g\u00e9rer des acc\u00e8s multiples \u00e0 la base de donn\u00e9es. Pour les bases de donn\u00e9es PostGIS , il faut : avoir cr\u00e9\u00e9 une base de donn\u00e9es sur laquelle on a les droits en \u00e9criture et activer l'extension PostGIS. avoir cr\u00e9\u00e9 au pr\u00e9alable une connexion QGIS via le menu Couches > Ajouter une couche PostGIS vers cette base de donn\u00e9es Pour les bases de donn\u00e9es Spatialite , l'interface d'import permet de cr\u00e9er une base de donn\u00e9es vide et la connexion QGIS li\u00e9e si n\u00e9cessaire. Remarque sur les contraintes # Il n'existe actuellement aucune contrainte de cl\u00e9s \u00e9trang\u00e8res sur les tables du sch\u00e9ma cadastre. Nous proposerons \u00e0 l'avenir un script qui permettra de les cr\u00e9er, lorsque les donn\u00e9es le permettent (ce qui n'est pas toujours le cas, comme des voies non r\u00e9f\u00e9renc\u00e9es dans voie mais r\u00e9f\u00e9renc\u00e9es dans parcelle ). Les \u00e9tapes d'importation # Pour lancer l'importation, il faut bien avoir au pr\u00e9alable configur\u00e9 les noms des fichiers MAJIC via le menu Configurer le plugin . Ensuite, on ouvre la boite de dialogue via la barre d'outil Cadastre , ic\u00f4ne base de donn\u00e9es via le menu Cadastre > Importer des donn\u00e9es On configure ensuite les options : Choisir le type de base de donn\u00e9es : PostGIS ou Spatialite Choisir la connexion Pour Postgis, on peut ensuite choisir un schema , ou en cr\u00e9er un nouveau Pour Spatialite, on peut cr\u00e9er une nouvelle base de donn\u00e9es Choisir le r\u00e9pertoire contenant les fichiers EDIGEO : On peut s\u00e9lectionner le r\u00e9pertoire parent qui contient l'ensemble des sous-r\u00e9pertoires vers les communes : le plugin ira chercher les fichiers de mani\u00e8re r\u00e9cursive. Seuls les fichiers zip et tar.bz2 sont pour l'instant g\u00e9r\u00e9s Choisir la projection source des fichiers EDIGEO et la projection cible d\u00e9sir\u00e9e Choisir le num\u00e9ro du D\u00e9partement , par exemple : 80 pour la Somme Choisir le num\u00e9ro de la Direction , par exemple : 0 Choisir le r\u00e9pertoire contenant les fichiers MAJIC Comme pour EDIGEO, le plugin ira chercher les fichiers dans les r\u00e9pertoires et les sous-r\u00e9pertoires et importera l'ensemble des donn\u00e9es. Si vous ne poss\u00e9dez pas les donn\u00e9es FANTOIR dans votre jeu de donn\u00e9es MAJIC, nous conseillons vivement de les t\u00e9l\u00e9charger et de configurer le plugin pour donner le bon nom au fichier FANTOIR : https://www.collectivites-locales.gouv.fr/competences/la-mise-disposition-gratuite-du-fichier-des-voies-et-des-lieux-dits-fantoir Choisir la version du format en utilisant les fl\u00e8ches haut et bas Seuls les formats de 2012 \u00e0 2021 sont pris en compte Choisir le mill\u00e9sime des donn\u00e9es , par exemple 2021 Choisir le Lot : utilisez par exemple le code INSEE de la commune. Activer ou d\u00e9sactiver la case \u00e0 cocher Corriger les g\u00e9om\u00e9tries invalides selon la qualit\u00e9 de votre jeu de donn\u00e9es EDIGEO. Utiliser la barre de d\u00e9filement de la fen\u00eatre pour aller tout en bas et afficher tout le bloc texte de log situ\u00e9 sous la barre de progression. Lancer l'import en cliquant sur le bouton Lancer l'import Le d\u00e9roulement de l'import est \u00e9crit dans le bloc texte situ\u00e9 en bas de la fen\u00eatre. Pendant l'import, il est conseill\u00e9 de ne pas d\u00e9placer ou cliquer dans la fen\u00eatre. Pour l'instant, le plugin n'int\u00e8gre pas de bouton pour annuler un import en cours. Projections IGNF # Si votre donn\u00e9e EDIGEO est en projection IGNF, par exemple pour la Guadeloupe, IGNF:GUAD48UTM20 (Guadeloupe Ste Anne), et que vous souhaitez importer les donn\u00e9es dans PostgreSQL, il faut au pr\u00e9alable ajouter dans votre table public.spatial_ref_sys la d\u00e9finition de la projection IGNF. Si vous utilisez \u00e0 la place l'\u00e9quivalent EPSG (par exemple ici EPSG:2970), vous risquez un d\u00e9calage des donn\u00e9es lors de la reprojection. Vous pouvez ajouter dans votre base de donn\u00e9es la d\u00e9finition via une requ\u00eate, par exemple avec la requ\u00eate suivante pour IGNF:GUAD48UTM20: 1 2 3 4 5 6 7 INSERT INTO spatial_ref_sys values ( 998999, 'IGNF', 998999, 'PROJCS[\"Guadeloupe Ste Anne\",GEOGCS[\"Guadeloupe Ste Anne\",DATUM[\"Guadeloupe St Anne\",SPHEROID[\"International-Hayford 1909\",6378388.0000,297.0000000000000,AUTHORITY[\"IGNF\",\"ELG001\"]],TOWGS84[-472.2900,-5.6300,-304.1200,0.4362,-0.8374,0.2563,1.898400],AUTHORITY[\"IGNF\",\"REG425\"]],PRIMEM[\"Greenwich\",0.000000000,AUTHORITY[\"IGNF\",\"LGO01\"]],UNIT[\"degree\",0.01745329251994330],AXIS[\"Longitude\",EAST],AXIS[\"Latitude\",NORTH],AUTHORITY[\"IGNF\",\"GUAD48GEO\"]],PROJECTION[\"Transverse_Mercator\",AUTHORITY[\"IGNF\",\"PRC0220\"]],PARAMETER[\"semi_major\",6378388.0000],PARAMETER[\"semi_minor\",6356911.9461],PARAMETER[\"latitude_of_origin\",0.000000000],PARAMETER[\"central_meridian\",-63.000000000],PARAMETER[\"scale_factor\",0.99960000],PARAMETER[\"false_easting\",500000.000],PARAMETER[\"false_northing\",0.000],UNIT[\"metre\",1],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"IGNF\",\"GUAD48UTM20\"]]', '+init=IGNF:GUAD48UTM20' ); Attention, il est important d'utiliser un code qui est \u2264 998999, car PostGIS place des contraintes sur le SRID. Nous avons utilis\u00e9 ici 998999, qui est le maximum possible. La liste des caract\u00e9ristiques des projections peut \u00eatre trouv\u00e9e \u00e0 ce lien : http://librairies.ign.fr/geoportail/resources/IGNF-spatial_ref_sys.sql (voir discussion G\u00e9or\u00e9zo : https://georezo.net/forum/viewtopic.php?pid=268134 ). Attention, il faut extraire de ce fichier la commande INSERT qui correspond \u00e0 votre code IGNF, et remplacer le SRID par 998999. Ensuite, dans la projection source, vous pouvez utiliser IGNF:GUAD48UTM20 au lieu du code EPSG correspondant.","title":"Import"},{"location":"extension-qgis/import/#import-des-donnees","text":"Cette boite de dialogue permet de r\u00e9aliser un import de donn\u00e9es EDIGEO et MAJIC .","title":"Import des donn\u00e9es"},{"location":"extension-qgis/import/#principe","text":"Le plugin permet l'import de donn\u00e9es MAJIC de 2012 \u00e0 2021 et des donn\u00e9es EDIGEO . Il est possible d'importer des donn\u00e9es de mani\u00e8re incr\u00e9mentale, \u00e9tape par \u00e9tape , ou bien d'importer en une seule fois . Le plugin utilise pour cela la notion de lot . Un lot regroupe un ensemble de donn\u00e9es coh\u00e9rent pour votre utilisation. Par exemple, le lot peut \u00eatre le code d'une commune ou l'acronyme d'une communaut\u00e9 de commune. C'est une cha\u00eene de 10 caract\u00e8res maximum. Vous pouvez utiliser des chiffres ou des lettres. Vous pouvez par exemple importer les donn\u00e9es dans cet ordre : donn\u00e9es EDIGEO de la commune A, lot \"com_a\" donn\u00e9es EDIGEO de la commune B, lot \"com_b\" donn\u00e9es MAJIC de la commune A, lot \"com_a\" donn\u00e9es EDIGEO de la commune A, lot \"com_a\" (r\u00e9-import et \u00e9crasement des donn\u00e9es pr\u00e9c\u00e9dentes) donn\u00e9es EDIGEO de la commune C, lot \"com_c\" Il est donc important de conserver une liste des lots d\u00e9finis pendant les imports successifs, pour savoir ensuite quel lot utiliser si on souhaite \u00e9craser des donn\u00e9es. Une version prochaine du plugin pourra int\u00e9grer un tableau r\u00e9capitulatif des imports effectu\u00e9s dans une base de donn\u00e9es pour faciliter le suivi des imports r\u00e9alis\u00e9s. Il est conseill\u00e9 d'importer des donn\u00e9es de mill\u00e9sime diff\u00e9rents dans des bases de donn\u00e9es ou des sch\u00e9mas PostGreSQL diff\u00e9rents, car la structure peut changer d'un mill\u00e9sime \u00e0 l'autre (ajout de colonnes, modification de longueur de champs, etc).","title":"Principe"},{"location":"extension-qgis/import/#bases-de-donnees","text":"Deux Syst\u00e8mes de Gestion de Bases de Donn\u00e9es (SGBD) sont support\u00e9s par le plugin Cadastre : PostGreSQL et son extension spatiale PostGIS SQLite et son extension spatiale Spatialite Nous conseillons d'utiliser PostGreSQL pour des donn\u00e9es volumineuses et pour g\u00e9rer des acc\u00e8s multiples \u00e0 la base de donn\u00e9es. Pour les bases de donn\u00e9es PostGIS , il faut : avoir cr\u00e9\u00e9 une base de donn\u00e9es sur laquelle on a les droits en \u00e9criture et activer l'extension PostGIS. avoir cr\u00e9\u00e9 au pr\u00e9alable une connexion QGIS via le menu Couches > Ajouter une couche PostGIS vers cette base de donn\u00e9es Pour les bases de donn\u00e9es Spatialite , l'interface d'import permet de cr\u00e9er une base de donn\u00e9es vide et la connexion QGIS li\u00e9e si n\u00e9cessaire.","title":"Bases de donn\u00e9es"},{"location":"extension-qgis/import/#remarque-sur-les-contraintes","text":"Il n'existe actuellement aucune contrainte de cl\u00e9s \u00e9trang\u00e8res sur les tables du sch\u00e9ma cadastre. Nous proposerons \u00e0 l'avenir un script qui permettra de les cr\u00e9er, lorsque les donn\u00e9es le permettent (ce qui n'est pas toujours le cas, comme des voies non r\u00e9f\u00e9renc\u00e9es dans voie mais r\u00e9f\u00e9renc\u00e9es dans parcelle ).","title":"Remarque sur les contraintes"},{"location":"extension-qgis/import/#les-etapes-dimportation","text":"Pour lancer l'importation, il faut bien avoir au pr\u00e9alable configur\u00e9 les noms des fichiers MAJIC via le menu Configurer le plugin . Ensuite, on ouvre la boite de dialogue via la barre d'outil Cadastre , ic\u00f4ne base de donn\u00e9es via le menu Cadastre > Importer des donn\u00e9es On configure ensuite les options : Choisir le type de base de donn\u00e9es : PostGIS ou Spatialite Choisir la connexion Pour Postgis, on peut ensuite choisir un schema , ou en cr\u00e9er un nouveau Pour Spatialite, on peut cr\u00e9er une nouvelle base de donn\u00e9es Choisir le r\u00e9pertoire contenant les fichiers EDIGEO : On peut s\u00e9lectionner le r\u00e9pertoire parent qui contient l'ensemble des sous-r\u00e9pertoires vers les communes : le plugin ira chercher les fichiers de mani\u00e8re r\u00e9cursive. Seuls les fichiers zip et tar.bz2 sont pour l'instant g\u00e9r\u00e9s Choisir la projection source des fichiers EDIGEO et la projection cible d\u00e9sir\u00e9e Choisir le num\u00e9ro du D\u00e9partement , par exemple : 80 pour la Somme Choisir le num\u00e9ro de la Direction , par exemple : 0 Choisir le r\u00e9pertoire contenant les fichiers MAJIC Comme pour EDIGEO, le plugin ira chercher les fichiers dans les r\u00e9pertoires et les sous-r\u00e9pertoires et importera l'ensemble des donn\u00e9es. Si vous ne poss\u00e9dez pas les donn\u00e9es FANTOIR dans votre jeu de donn\u00e9es MAJIC, nous conseillons vivement de les t\u00e9l\u00e9charger et de configurer le plugin pour donner le bon nom au fichier FANTOIR : https://www.collectivites-locales.gouv.fr/competences/la-mise-disposition-gratuite-du-fichier-des-voies-et-des-lieux-dits-fantoir Choisir la version du format en utilisant les fl\u00e8ches haut et bas Seuls les formats de 2012 \u00e0 2021 sont pris en compte Choisir le mill\u00e9sime des donn\u00e9es , par exemple 2021 Choisir le Lot : utilisez par exemple le code INSEE de la commune. Activer ou d\u00e9sactiver la case \u00e0 cocher Corriger les g\u00e9om\u00e9tries invalides selon la qualit\u00e9 de votre jeu de donn\u00e9es EDIGEO. Utiliser la barre de d\u00e9filement de la fen\u00eatre pour aller tout en bas et afficher tout le bloc texte de log situ\u00e9 sous la barre de progression. Lancer l'import en cliquant sur le bouton Lancer l'import Le d\u00e9roulement de l'import est \u00e9crit dans le bloc texte situ\u00e9 en bas de la fen\u00eatre. Pendant l'import, il est conseill\u00e9 de ne pas d\u00e9placer ou cliquer dans la fen\u00eatre. Pour l'instant, le plugin n'int\u00e8gre pas de bouton pour annuler un import en cours.","title":"Les \u00e9tapes d'importation"},{"location":"extension-qgis/import/#projections-ignf","text":"Si votre donn\u00e9e EDIGEO est en projection IGNF, par exemple pour la Guadeloupe, IGNF:GUAD48UTM20 (Guadeloupe Ste Anne), et que vous souhaitez importer les donn\u00e9es dans PostgreSQL, il faut au pr\u00e9alable ajouter dans votre table public.spatial_ref_sys la d\u00e9finition de la projection IGNF. Si vous utilisez \u00e0 la place l'\u00e9quivalent EPSG (par exemple ici EPSG:2970), vous risquez un d\u00e9calage des donn\u00e9es lors de la reprojection. Vous pouvez ajouter dans votre base de donn\u00e9es la d\u00e9finition via une requ\u00eate, par exemple avec la requ\u00eate suivante pour IGNF:GUAD48UTM20: 1 2 3 4 5 6 7 INSERT INTO spatial_ref_sys values ( 998999, 'IGNF', 998999, 'PROJCS[\"Guadeloupe Ste Anne\",GEOGCS[\"Guadeloupe Ste Anne\",DATUM[\"Guadeloupe St Anne\",SPHEROID[\"International-Hayford 1909\",6378388.0000,297.0000000000000,AUTHORITY[\"IGNF\",\"ELG001\"]],TOWGS84[-472.2900,-5.6300,-304.1200,0.4362,-0.8374,0.2563,1.898400],AUTHORITY[\"IGNF\",\"REG425\"]],PRIMEM[\"Greenwich\",0.000000000,AUTHORITY[\"IGNF\",\"LGO01\"]],UNIT[\"degree\",0.01745329251994330],AXIS[\"Longitude\",EAST],AXIS[\"Latitude\",NORTH],AUTHORITY[\"IGNF\",\"GUAD48GEO\"]],PROJECTION[\"Transverse_Mercator\",AUTHORITY[\"IGNF\",\"PRC0220\"]],PARAMETER[\"semi_major\",6378388.0000],PARAMETER[\"semi_minor\",6356911.9461],PARAMETER[\"latitude_of_origin\",0.000000000],PARAMETER[\"central_meridian\",-63.000000000],PARAMETER[\"scale_factor\",0.99960000],PARAMETER[\"false_easting\",500000.000],PARAMETER[\"false_northing\",0.000],UNIT[\"metre\",1],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"IGNF\",\"GUAD48UTM20\"]]', '+init=IGNF:GUAD48UTM20' ); Attention, il est important d'utiliser un code qui est \u2264 998999, car PostGIS place des contraintes sur le SRID. Nous avons utilis\u00e9 ici 998999, qui est le maximum possible. La liste des caract\u00e9ristiques des projections peut \u00eatre trouv\u00e9e \u00e0 ce lien : http://librairies.ign.fr/geoportail/resources/IGNF-spatial_ref_sys.sql (voir discussion G\u00e9or\u00e9zo : https://georezo.net/forum/viewtopic.php?pid=268134 ). Attention, il faut extraire de ce fichier la commande INSERT qui correspond \u00e0 votre code IGNF, et remplacer le SRID par 998999. Ensuite, dans la projection source, vous pouvez utiliser IGNF:GUAD48UTM20 au lieu du code EPSG correspondant.","title":"Projections IGNF"},{"location":"extension-qgis/installation/","text":"Installation # L'extension Cadastre est dans les d\u00e9p\u00f4ts officiels du projet QGIS. Pour l'installer, il faut : Lancer QGIS Menu Extension > Installer/G\u00e9rer les extensions Onglet Param\u00e8tres > V\u00e9rifier que la case Afficher les extensions exp\u00e9rimentales est bien coch\u00e9e Onglet En obtenir plus : chercher le plugin cadastre , le s\u00e9lectionner et cliquer sur installer Une fois le plugin install\u00e9, un nouveau menu Cadastre appara\u00eet dans le menu Extensions de QGIS. Il comporte les sous-menus suivants : Importer des donn\u00e9es Charger des donn\u00e9es Outils de recherche Exporter la vue Configurer le plugin \u00c0 propos Notes de version Aide Ces sous-menus sont d\u00e9taill\u00e9s dans les chapitres suivants.","title":"Installation"},{"location":"extension-qgis/installation/#installation","text":"L'extension Cadastre est dans les d\u00e9p\u00f4ts officiels du projet QGIS. Pour l'installer, il faut : Lancer QGIS Menu Extension > Installer/G\u00e9rer les extensions Onglet Param\u00e8tres > V\u00e9rifier que la case Afficher les extensions exp\u00e9rimentales est bien coch\u00e9e Onglet En obtenir plus : chercher le plugin cadastre , le s\u00e9lectionner et cliquer sur installer Une fois le plugin install\u00e9, un nouveau menu Cadastre appara\u00eet dans le menu Extensions de QGIS. Il comporte les sous-menus suivants : Importer des donn\u00e9es Charger des donn\u00e9es Outils de recherche Exporter la vue Configurer le plugin \u00c0 propos Notes de version Aide Ces sous-menus sont d\u00e9taill\u00e9s dans les chapitres suivants.","title":"Installation"},{"location":"extension-qgis/interface/","text":"Interface # La barre d'outil # La barre d'outil peut s'afficher ou se masquer \u00e0 partir : du menu Vue > Barres d'outils > Cadastre d'un clic droit \u00e0 c\u00f4t\u00e9 d'une des barres d'outils de QGIS et s\u00e9lectionner Cadastre Elle contient : Un outil pour identifier une parcelle sur la carte Des boutons qui reprennent les sous-menus du plugin : Importer, Charger, Rechercher, Exporter la vue, Configurer, \u00c0 propos Pour conna\u00eetre l'action d'une des ic\u00f4nes, il suffit de laisser la souris un moment au-dessus pour voir appara\u00eetre une bulle d'information. Identifier une parcelle # Pour avoir des informations compl\u00e8tes sur une parcelle, il faut avoir au pr\u00e9alable import\u00e9 des donn\u00e9es MAJIC dans la base de donn\u00e9es. Sinon, seules les informations principales issues de l'EDIGEO seront affich\u00e9es et certains boutons d'action sont d\u00e9sactiv\u00e9s. Pour faire appara\u00eetre la fiche d'information d'une parcelle, il faut : activer l'outil Identifier une parcelle de la barre d'outil Zoomer \u00e0 une \u00e9chelle pour laquelle les parcelles sont visibles (\u00e0 partir de 1/20 000). Cliquer sur une des parcelles de la carte. La fen\u00eatre d'identification s'affiche alors, Elle pr\u00e9sente plusieurs onglets : un onglet avec les informations g\u00e9n\u00e9rales de la parcelle un onglet avec les propri\u00e9taires de la parcelle un onglet avec les subdivisions fiscales un onglet avec les locaux et leurs informations d\u00e9taill\u00e9es Ainsi qu'une zone contenant des boutons d'action : 2 boutons pour exporter au format PDF : le relev\u00e9 parcellaire le relev\u00e9 de propri\u00e9t\u00e9 avec une option pour r\u00e9aliser un export sur toutes les communes ou seulement \u00e0 la commune de la parcelle 3 boutons pour interagir avec l'objet g\u00e9om\u00e9trique li\u00e9 \u00e0 la parcelle : centrer la carte sur la parcelle, zoomer sur la parcelle ou s\u00e9lectionner l'objet dans la couche Un dernier bouton pour s\u00e9lectionner dans la couche toutes les parcelles du propri\u00e9taire Si vous n'avez pas import\u00e9 de donn\u00e9es FANTOIR, la commune de la parcelle ne sera pas affich\u00e9e dans la fen\u00eatre et l'adresse pourra \u00eatre tronqu\u00e9e (de m\u00eame pour les relev\u00e9s export\u00e9s) Si vous n'avez pas de donn\u00e9es MAJIC, seule les informations sur la parcelle (1er onglet) seront pr\u00e9sent\u00e9es. Exporter la vue # Dans la barre d'outil Cadastre, ainsi que dans le menu, vous pouvez exporter la vue courante de la carte en PDF via le menu Exporter la vue . Cette fonctionnalit\u00e9 s'appuie sur un mod\u00e8le de composeur d'impression , configurable dans les options du plugin (voir ci-dessus). Si vous n'avez pas configur\u00e9 de composeur personnalis\u00e9, celui install\u00e9 par le plugin est utilis\u00e9. Cette fonctionnalit\u00e9 est basique, et ne g\u00e8re pas pour l'instant les composeurs complexes, avec des tables attributaires et des configurations d'atlas. Le panneau de recherche # Principe # Le panneau de recherche propose des outils pour rechercher des parcelles via 3 entr\u00e9es principales une recherche par objet g\u00e9ographique : commune, section, adresse et parcelles une recherche par propri\u00e9taire Les diff\u00e9rentes recherches seront d\u00e9taill\u00e9es dans les sous-chapitres suivants. Pour afficher le panneau de recherche: Utiliser le menu Cadastre > Outils de recherche ou cliquer sur l' ic\u00f4ne loupe de la barre d'outils Une bulle d'information affiche la fonction des boutons au survol de la souris. Si la base de donn\u00e9es ne contient aucune donn\u00e9e MAJIC, alors les recherches par adresse et par propri\u00e9taire sont d\u00e9sactiv\u00e9s. Recherche de lieux # L'outil pr\u00e9sente 3 listes d\u00e9roulantes : Commune Section Adresses Parcelles Il est possible de s\u00e9lectionner une entit\u00e9 dans les listes : soit \u00e0 la souris en cliquant sur la fl\u00e8che pour ouvrir la liste d\u00e9roulante puis s\u00e9lectionner un item. soit en tapant les premi\u00e8res lettres et en s\u00e9lectionnant l'item choisi dans la liste d'autocompl\u00e9tion qui s'affiche alors. Il faut avoir au pr\u00e9alable vider le contenu de la liste d\u00e9roulante. Les listes d\u00e9roulantes sont hi\u00e9rarchiques : Lorsqu'on choisit une commune, la liste des sections est rafra\u00eechie et ne montre que les sections de la commune choisie. La recherche d'adresse est aussi filtr\u00e9e sur cette commune. lorsqu'on choisit une section, la liste des parcelles est rafra\u00eechie et montre les parcelles sur la section. Des boutons d'actions sont positionn\u00e9s sous les 3 listes d\u00e9roulantes et permettent de lancer l'action choisie sur le dernier objet s\u00e9lectionn\u00e9 dans les 3 listes : Centrer sur l'objet : la carte est d\u00e9plac\u00e9e vers l'objet s\u00e9lectionn\u00e9, mais l'\u00e9chelle est conserv\u00e9e Zoomer sur l'objet : la carte est d\u00e9plac\u00e9e et mise \u00e0 l'\u00e9chelle pour afficher l'objet s\u00e9lectionn\u00e9 S\u00e9lectionner l'objet : l'objet est s\u00e9lectionn\u00e9 dans la couche de donn\u00e9es correspondante (Communes, Sections ou Parcelles) \u00c0 c\u00f4t\u00e9 des listes, un bouton croix rouge permet de remettre la liste \u00e0 son \u00e9tat initial, c'est-\u00e0-dire sans objet s\u00e9lectionn\u00e9. Par exemple, si on avait s\u00e9lectionn\u00e9 une commune dans la premi\u00e8re liste et une section dans la seconde, on peut cliquer sur la croix rouge \u00e0 c\u00f4t\u00e9 de la section pour d\u00e9s\u00e9lectionner la section dans la liste. Ainsi si on utilise le bouton de Zoom, on zoomera sur la commune et non sur la section qui \u00e9tait pr\u00e9c\u00e9demment s\u00e9lectionn\u00e9e Si une parcelle a \u00e9t\u00e9 s\u00e9lectionn\u00e9e dans la liste Parcelles , il est possible d' exporter le relev\u00e9 parcellaire en cliquant sur le bouton ic\u00f4ne PDF situ\u00e9 en bas \u00e0 droite du bloc de recherche de lieux. Le PDF est g\u00e9n\u00e9r\u00e9 et ouvert avec le lecteur PDF par d\u00e9faut du syst\u00e8me. Recherche d'adresse # Pour l'instant, cet outil ne fonctionne que si des donn\u00e9es MAJIC sont dans la base, et si les donn\u00e9es FANTOIR ont \u00e9t\u00e9 import\u00e9es. Si vous ne poss\u00e9dez pas de donn\u00e9es FANTOIR dans votre lot de donn\u00e9es MAJIC, vous pouvez le t\u00e9l\u00e9charger pour votre d\u00e9partement ici (et relancer l'import Majic) : http://www.collectivites-locales.gouv.fr/mise-a-disposition-fichier-fantoir-des-voies-et-lieux-dits Pour lancer une recherche de parcelles par adresse , il suffit : d' entrer l'adresse cherch\u00e9e , sans le num\u00e9ro de rue dans la liste Adresse . de cliquer sur le bouton loupe situ\u00e9 \u00e0 c\u00f4t\u00e9 de la liste, ou d'appuyer sur la touche entr\u00e9e La recherche est effectu\u00e9e et la liste d\u00e9roulante o\u00f9 vous avez tap\u00e9 l'adresse \u00e0 chercher est maintenant rafra\u00eechie et contient l'ensemble des r\u00e9sultats trouv\u00e9s. Si une commune \u00e9tait s\u00e9lectionn\u00e9e dans la liste des communes, la recherche d'adresse ne renvoie que les voies de cette commune. Si des r\u00e9sultats ont \u00e9t\u00e9 trouv\u00e9s, on peut ensuite : S\u00e9lectionner une adresse dans la liste d\u00e9roulante via la souris. Cela rafra\u00eechit la liste des parcelles situ\u00e9e en dessous. cliquer sur les boutons de centrage, zoom et s\u00e9lection . Chaque action est lanc\u00e9e sur l'ensemble des parcelles correspondantes \u00e0 l'adresse choisie S\u00e9lectionner une des parcelles dans la liste d\u00e9roulante Parcelles et r\u00e9utiliser les boutons d'action. Si une parcelle est s\u00e9lectionn\u00e9e, le bouton avec une ic\u00f4ne PDF permet d' exporter le relev\u00e9 parcellaire pour cette parcelle Vous pouvez cliquer sur la croix rouge \u00e0 c\u00f4t\u00e9 de la recherche d'adresse pour d\u00e9s\u00e9lectionner l'adresse choisie. Recherche de propri\u00e9taires # Ce bloc de recherche ne fonctionne pas si aucune donn\u00e9e MAJIC n'est pr\u00e9sente dans la base Le principe et le fonctionnement sont le m\u00eame que pour la recherche par adresse, avec les diff\u00e9rences suivantes : Un bouton est ajout\u00e9 \u00e0 c\u00f4t\u00e9 de la liste des propri\u00e9taires pour exporter le relev\u00e9 de propri\u00e9t\u00e9 du propri\u00e9taire s\u00e9lectionn\u00e9 dans la liste Le bouton d' export du relev\u00e9 parcellaire est plac\u00e9 \u00e0 c\u00f4t\u00e9 de la liste Parcelles Il est possible d'exporter le relev\u00e9 de propri\u00e9t\u00e9 pour les personnes qui ne poss\u00e8dent pas de propri\u00e9t\u00e9 non b\u00e2tie. Utilisation du plugin QuickFinder pour chercher les parcelles # Vous pouvez installer le plugin QuickFinder pour pr\u00e9parer et utiliser des recherches sur diff\u00e9rentes couches cadastrales. Exemple de configuration int\u00e9ressante : Ouvrir la bo\u00eete de dialogue de configuration du plugin : Menu Extension / QuickFinder / Settings Aller \u00e0 l'onglet Project Search Cocher la case Search in project layers \u00c0 c\u00f4t\u00e9 du champ QuickFinder file , cliquer sur le bouton avec une ic\u00f4ne \"page\" pour cr\u00e9er un nouveau fichier (en anglais, au survol du bouton : Create a new QuickFinder file ). Enregistrer le fichier dans le r\u00e9pertoire du projet QGIS, et lui donner le m\u00eame nom de fichier (par exemple cadastre.qfts pour un projet QGIS \"cadastre.qgs\") Cliquer sur le bouton \"+\" en vert pour ajouter une nouvelle recherche : cela ouvre une boite de dialogue project search . Configurer une recherche pour les parcelles : Search name : Parcelles Layer : Parcelles Field : vous pouvez utiliser un champ, ou mieux une expression QGIS pour concat\u00e9ner des informations, en cliquant sur le bouton \"epsilon\", par exemple : 1 2 3 4 5 6 7 8 Concat ( 'COM ' , \"codecommune\" , ' / ' , 'SEC ' , substr ( \"idu\" , 7 , 2 ), ' / ' , 'PAR ' , substr ( \"idu\" , 9 , 4 ), ' / ' , 'ADR ' , \"adresse\" , ' / ' , '' , \"proprietaire\" , ' @@' , \"codecommune\" ) (la partie avec @@ et le codecommune \u00e0 la fin sont utiles si vous publiez le cadastre sur internet vers l'application Lizmap. Cela permet de filtrer les donn\u00e9es) Geometry storage : wkt Priority : 1 record entries : laisser coch\u00e9, cela va lancer la cr\u00e9ation des donn\u00e9es de recherche et leur stockage dans le fichier QuickFinder Une fois cette configuration effectu\u00e9e, vous pouvez fermer les fen\u00eatres QuickFinder, puis utiliser la barre d'outil QuickFinder pour chercher des parcelles via leur code, le code commune, le code de section, ou bien le nom des propri\u00e9taires. \u00c0 propos # Le menu Cadastre > \u00c0 propos ouvre une fen\u00eatre d'information sur le plugin Cadastre : financeurs, auteur, licence, d\u00e9p\u00f4t de sources, etc. Cette fen\u00eatre est automatiquement affich\u00e9e lors de la premi\u00e8re utilisation du plugin, mais pas les fois suivantes. Notes de version # Le menu Cadastre > Notes de version ouvre une fen\u00eatre qui montre les changements effectu\u00e9s sur le plugin Cadastre entre la version install\u00e9e et la version pr\u00e9c\u00e9dente. Cette fen\u00eatre est affich\u00e9e automatiquement une premi\u00e8re fois lors de la mont\u00e9e de version. Les parcelles # Dans le mod\u00e8le, plusieurs tables contiennent des informations sur les parcelles geo_parcelle : contient les parcelles EDIGEO parcelle : contient les donn\u00e9es MAJIC li\u00e9es aux parcelles cadastrales parcelle_info : contient une version consolid\u00e9e des parcelles EDIGEO et MAJIC : la g\u00e9om\u00e9trie EDIGEO, et les informations r\u00e9sum\u00e9es de la parcelle, dont les propri\u00e9taires (information s\u00e9par\u00e9e par la barre verticale | si la parcelle a plusieurs propri\u00e9taires) Les champs parcelle.parcelle et geo_parcelle.geo_parcelle peuvent \u00eatre utilis\u00e9s pour les jointures entre la table parcelle et la table geo_parcelle L'identifiant geo_parcelle (ou parcelle) est unique et constitu\u00e9 comme suit : Ann\u00e9e (4) + D\u00e9partement (2) + Direction (1) + Commune (3) + Pr\u00e9fixe (3) + Secteur (2) + Num\u00e9ro de plan (4) soit 19 caract\u00e8res","title":"Interface"},{"location":"extension-qgis/interface/#interface","text":"","title":"Interface"},{"location":"extension-qgis/interface/#la-barre-doutil","text":"La barre d'outil peut s'afficher ou se masquer \u00e0 partir : du menu Vue > Barres d'outils > Cadastre d'un clic droit \u00e0 c\u00f4t\u00e9 d'une des barres d'outils de QGIS et s\u00e9lectionner Cadastre Elle contient : Un outil pour identifier une parcelle sur la carte Des boutons qui reprennent les sous-menus du plugin : Importer, Charger, Rechercher, Exporter la vue, Configurer, \u00c0 propos Pour conna\u00eetre l'action d'une des ic\u00f4nes, il suffit de laisser la souris un moment au-dessus pour voir appara\u00eetre une bulle d'information.","title":"La barre d'outil"},{"location":"extension-qgis/interface/#identifier-une-parcelle","text":"Pour avoir des informations compl\u00e8tes sur une parcelle, il faut avoir au pr\u00e9alable import\u00e9 des donn\u00e9es MAJIC dans la base de donn\u00e9es. Sinon, seules les informations principales issues de l'EDIGEO seront affich\u00e9es et certains boutons d'action sont d\u00e9sactiv\u00e9s. Pour faire appara\u00eetre la fiche d'information d'une parcelle, il faut : activer l'outil Identifier une parcelle de la barre d'outil Zoomer \u00e0 une \u00e9chelle pour laquelle les parcelles sont visibles (\u00e0 partir de 1/20 000). Cliquer sur une des parcelles de la carte. La fen\u00eatre d'identification s'affiche alors, Elle pr\u00e9sente plusieurs onglets : un onglet avec les informations g\u00e9n\u00e9rales de la parcelle un onglet avec les propri\u00e9taires de la parcelle un onglet avec les subdivisions fiscales un onglet avec les locaux et leurs informations d\u00e9taill\u00e9es Ainsi qu'une zone contenant des boutons d'action : 2 boutons pour exporter au format PDF : le relev\u00e9 parcellaire le relev\u00e9 de propri\u00e9t\u00e9 avec une option pour r\u00e9aliser un export sur toutes les communes ou seulement \u00e0 la commune de la parcelle 3 boutons pour interagir avec l'objet g\u00e9om\u00e9trique li\u00e9 \u00e0 la parcelle : centrer la carte sur la parcelle, zoomer sur la parcelle ou s\u00e9lectionner l'objet dans la couche Un dernier bouton pour s\u00e9lectionner dans la couche toutes les parcelles du propri\u00e9taire Si vous n'avez pas import\u00e9 de donn\u00e9es FANTOIR, la commune de la parcelle ne sera pas affich\u00e9e dans la fen\u00eatre et l'adresse pourra \u00eatre tronqu\u00e9e (de m\u00eame pour les relev\u00e9s export\u00e9s) Si vous n'avez pas de donn\u00e9es MAJIC, seule les informations sur la parcelle (1er onglet) seront pr\u00e9sent\u00e9es.","title":"Identifier une parcelle"},{"location":"extension-qgis/interface/#exporter-la-vue","text":"Dans la barre d'outil Cadastre, ainsi que dans le menu, vous pouvez exporter la vue courante de la carte en PDF via le menu Exporter la vue . Cette fonctionnalit\u00e9 s'appuie sur un mod\u00e8le de composeur d'impression , configurable dans les options du plugin (voir ci-dessus). Si vous n'avez pas configur\u00e9 de composeur personnalis\u00e9, celui install\u00e9 par le plugin est utilis\u00e9. Cette fonctionnalit\u00e9 est basique, et ne g\u00e8re pas pour l'instant les composeurs complexes, avec des tables attributaires et des configurations d'atlas.","title":"Exporter la vue"},{"location":"extension-qgis/interface/#le-panneau-de-recherche","text":"","title":"Le panneau de recherche"},{"location":"extension-qgis/interface/#principe","text":"Le panneau de recherche propose des outils pour rechercher des parcelles via 3 entr\u00e9es principales une recherche par objet g\u00e9ographique : commune, section, adresse et parcelles une recherche par propri\u00e9taire Les diff\u00e9rentes recherches seront d\u00e9taill\u00e9es dans les sous-chapitres suivants. Pour afficher le panneau de recherche: Utiliser le menu Cadastre > Outils de recherche ou cliquer sur l' ic\u00f4ne loupe de la barre d'outils Une bulle d'information affiche la fonction des boutons au survol de la souris. Si la base de donn\u00e9es ne contient aucune donn\u00e9e MAJIC, alors les recherches par adresse et par propri\u00e9taire sont d\u00e9sactiv\u00e9s.","title":"Principe"},{"location":"extension-qgis/interface/#recherche-de-lieux","text":"L'outil pr\u00e9sente 3 listes d\u00e9roulantes : Commune Section Adresses Parcelles Il est possible de s\u00e9lectionner une entit\u00e9 dans les listes : soit \u00e0 la souris en cliquant sur la fl\u00e8che pour ouvrir la liste d\u00e9roulante puis s\u00e9lectionner un item. soit en tapant les premi\u00e8res lettres et en s\u00e9lectionnant l'item choisi dans la liste d'autocompl\u00e9tion qui s'affiche alors. Il faut avoir au pr\u00e9alable vider le contenu de la liste d\u00e9roulante. Les listes d\u00e9roulantes sont hi\u00e9rarchiques : Lorsqu'on choisit une commune, la liste des sections est rafra\u00eechie et ne montre que les sections de la commune choisie. La recherche d'adresse est aussi filtr\u00e9e sur cette commune. lorsqu'on choisit une section, la liste des parcelles est rafra\u00eechie et montre les parcelles sur la section. Des boutons d'actions sont positionn\u00e9s sous les 3 listes d\u00e9roulantes et permettent de lancer l'action choisie sur le dernier objet s\u00e9lectionn\u00e9 dans les 3 listes : Centrer sur l'objet : la carte est d\u00e9plac\u00e9e vers l'objet s\u00e9lectionn\u00e9, mais l'\u00e9chelle est conserv\u00e9e Zoomer sur l'objet : la carte est d\u00e9plac\u00e9e et mise \u00e0 l'\u00e9chelle pour afficher l'objet s\u00e9lectionn\u00e9 S\u00e9lectionner l'objet : l'objet est s\u00e9lectionn\u00e9 dans la couche de donn\u00e9es correspondante (Communes, Sections ou Parcelles) \u00c0 c\u00f4t\u00e9 des listes, un bouton croix rouge permet de remettre la liste \u00e0 son \u00e9tat initial, c'est-\u00e0-dire sans objet s\u00e9lectionn\u00e9. Par exemple, si on avait s\u00e9lectionn\u00e9 une commune dans la premi\u00e8re liste et une section dans la seconde, on peut cliquer sur la croix rouge \u00e0 c\u00f4t\u00e9 de la section pour d\u00e9s\u00e9lectionner la section dans la liste. Ainsi si on utilise le bouton de Zoom, on zoomera sur la commune et non sur la section qui \u00e9tait pr\u00e9c\u00e9demment s\u00e9lectionn\u00e9e Si une parcelle a \u00e9t\u00e9 s\u00e9lectionn\u00e9e dans la liste Parcelles , il est possible d' exporter le relev\u00e9 parcellaire en cliquant sur le bouton ic\u00f4ne PDF situ\u00e9 en bas \u00e0 droite du bloc de recherche de lieux. Le PDF est g\u00e9n\u00e9r\u00e9 et ouvert avec le lecteur PDF par d\u00e9faut du syst\u00e8me.","title":"Recherche de lieux"},{"location":"extension-qgis/interface/#recherche-dadresse","text":"Pour l'instant, cet outil ne fonctionne que si des donn\u00e9es MAJIC sont dans la base, et si les donn\u00e9es FANTOIR ont \u00e9t\u00e9 import\u00e9es. Si vous ne poss\u00e9dez pas de donn\u00e9es FANTOIR dans votre lot de donn\u00e9es MAJIC, vous pouvez le t\u00e9l\u00e9charger pour votre d\u00e9partement ici (et relancer l'import Majic) : http://www.collectivites-locales.gouv.fr/mise-a-disposition-fichier-fantoir-des-voies-et-lieux-dits Pour lancer une recherche de parcelles par adresse , il suffit : d' entrer l'adresse cherch\u00e9e , sans le num\u00e9ro de rue dans la liste Adresse . de cliquer sur le bouton loupe situ\u00e9 \u00e0 c\u00f4t\u00e9 de la liste, ou d'appuyer sur la touche entr\u00e9e La recherche est effectu\u00e9e et la liste d\u00e9roulante o\u00f9 vous avez tap\u00e9 l'adresse \u00e0 chercher est maintenant rafra\u00eechie et contient l'ensemble des r\u00e9sultats trouv\u00e9s. Si une commune \u00e9tait s\u00e9lectionn\u00e9e dans la liste des communes, la recherche d'adresse ne renvoie que les voies de cette commune. Si des r\u00e9sultats ont \u00e9t\u00e9 trouv\u00e9s, on peut ensuite : S\u00e9lectionner une adresse dans la liste d\u00e9roulante via la souris. Cela rafra\u00eechit la liste des parcelles situ\u00e9e en dessous. cliquer sur les boutons de centrage, zoom et s\u00e9lection . Chaque action est lanc\u00e9e sur l'ensemble des parcelles correspondantes \u00e0 l'adresse choisie S\u00e9lectionner une des parcelles dans la liste d\u00e9roulante Parcelles et r\u00e9utiliser les boutons d'action. Si une parcelle est s\u00e9lectionn\u00e9e, le bouton avec une ic\u00f4ne PDF permet d' exporter le relev\u00e9 parcellaire pour cette parcelle Vous pouvez cliquer sur la croix rouge \u00e0 c\u00f4t\u00e9 de la recherche d'adresse pour d\u00e9s\u00e9lectionner l'adresse choisie.","title":"Recherche d'adresse"},{"location":"extension-qgis/interface/#recherche-de-proprietaires","text":"Ce bloc de recherche ne fonctionne pas si aucune donn\u00e9e MAJIC n'est pr\u00e9sente dans la base Le principe et le fonctionnement sont le m\u00eame que pour la recherche par adresse, avec les diff\u00e9rences suivantes : Un bouton est ajout\u00e9 \u00e0 c\u00f4t\u00e9 de la liste des propri\u00e9taires pour exporter le relev\u00e9 de propri\u00e9t\u00e9 du propri\u00e9taire s\u00e9lectionn\u00e9 dans la liste Le bouton d' export du relev\u00e9 parcellaire est plac\u00e9 \u00e0 c\u00f4t\u00e9 de la liste Parcelles Il est possible d'exporter le relev\u00e9 de propri\u00e9t\u00e9 pour les personnes qui ne poss\u00e8dent pas de propri\u00e9t\u00e9 non b\u00e2tie.","title":"Recherche de propri\u00e9taires"},{"location":"extension-qgis/interface/#utilisation-du-plugin-quickfinder-pour-chercher-les-parcelles","text":"Vous pouvez installer le plugin QuickFinder pour pr\u00e9parer et utiliser des recherches sur diff\u00e9rentes couches cadastrales. Exemple de configuration int\u00e9ressante : Ouvrir la bo\u00eete de dialogue de configuration du plugin : Menu Extension / QuickFinder / Settings Aller \u00e0 l'onglet Project Search Cocher la case Search in project layers \u00c0 c\u00f4t\u00e9 du champ QuickFinder file , cliquer sur le bouton avec une ic\u00f4ne \"page\" pour cr\u00e9er un nouveau fichier (en anglais, au survol du bouton : Create a new QuickFinder file ). Enregistrer le fichier dans le r\u00e9pertoire du projet QGIS, et lui donner le m\u00eame nom de fichier (par exemple cadastre.qfts pour un projet QGIS \"cadastre.qgs\") Cliquer sur le bouton \"+\" en vert pour ajouter une nouvelle recherche : cela ouvre une boite de dialogue project search . Configurer une recherche pour les parcelles : Search name : Parcelles Layer : Parcelles Field : vous pouvez utiliser un champ, ou mieux une expression QGIS pour concat\u00e9ner des informations, en cliquant sur le bouton \"epsilon\", par exemple : 1 2 3 4 5 6 7 8 Concat ( 'COM ' , \"codecommune\" , ' / ' , 'SEC ' , substr ( \"idu\" , 7 , 2 ), ' / ' , 'PAR ' , substr ( \"idu\" , 9 , 4 ), ' / ' , 'ADR ' , \"adresse\" , ' / ' , '' , \"proprietaire\" , ' @@' , \"codecommune\" ) (la partie avec @@ et le codecommune \u00e0 la fin sont utiles si vous publiez le cadastre sur internet vers l'application Lizmap. Cela permet de filtrer les donn\u00e9es) Geometry storage : wkt Priority : 1 record entries : laisser coch\u00e9, cela va lancer la cr\u00e9ation des donn\u00e9es de recherche et leur stockage dans le fichier QuickFinder Une fois cette configuration effectu\u00e9e, vous pouvez fermer les fen\u00eatres QuickFinder, puis utiliser la barre d'outil QuickFinder pour chercher des parcelles via leur code, le code commune, le code de section, ou bien le nom des propri\u00e9taires.","title":"Utilisation du plugin QuickFinder pour chercher les parcelles"},{"location":"extension-qgis/interface/#a-propos","text":"Le menu Cadastre > \u00c0 propos ouvre une fen\u00eatre d'information sur le plugin Cadastre : financeurs, auteur, licence, d\u00e9p\u00f4t de sources, etc. Cette fen\u00eatre est automatiquement affich\u00e9e lors de la premi\u00e8re utilisation du plugin, mais pas les fois suivantes.","title":"\u00c0 propos"},{"location":"extension-qgis/interface/#notes-de-version","text":"Le menu Cadastre > Notes de version ouvre une fen\u00eatre qui montre les changements effectu\u00e9s sur le plugin Cadastre entre la version install\u00e9e et la version pr\u00e9c\u00e9dente. Cette fen\u00eatre est affich\u00e9e automatiquement une premi\u00e8re fois lors de la mont\u00e9e de version.","title":"Notes de version"},{"location":"extension-qgis/interface/#les-parcelles","text":"Dans le mod\u00e8le, plusieurs tables contiennent des informations sur les parcelles geo_parcelle : contient les parcelles EDIGEO parcelle : contient les donn\u00e9es MAJIC li\u00e9es aux parcelles cadastrales parcelle_info : contient une version consolid\u00e9e des parcelles EDIGEO et MAJIC : la g\u00e9om\u00e9trie EDIGEO, et les informations r\u00e9sum\u00e9es de la parcelle, dont les propri\u00e9taires (information s\u00e9par\u00e9e par la barre verticale | si la parcelle a plusieurs propri\u00e9taires) Les champs parcelle.parcelle et geo_parcelle.geo_parcelle peuvent \u00eatre utilis\u00e9s pour les jointures entre la table parcelle et la table geo_parcelle L'identifiant geo_parcelle (ou parcelle) est unique et constitu\u00e9 comme suit : Ann\u00e9e (4) + D\u00e9partement (2) + Direction (1) + Commune (3) + Pr\u00e9fixe (3) + Secteur (2) + Num\u00e9ro de plan (4) soit 19 caract\u00e8res","title":"Les parcelles"},{"location":"extension-qgis/videos/","text":"Vid\u00e9os # Pour faciliter la prise en main, vous pouvez consulter les vid\u00e9os en ligne : Import et chargement : https://vimeo.com/75004889 Recherche : https://vimeo.com/74807532","title":"Vid\u00e9os"},{"location":"extension-qgis/videos/#videos","text":"Pour faciliter la prise en main, vous pouvez consulter les vid\u00e9os en ligne : Import et chargement : https://vimeo.com/75004889 Recherche : https://vimeo.com/74807532","title":"Vid\u00e9os"},{"location":"module-lizmap/","text":"Module Lizmap # Il est possible d'exploiter les donn\u00e9es cadastrales dans l'interface web de Lizmap . Pour cela, il faut : installer le module sur le serveur Lizmap configurer le projet QGIS","title":"Index"},{"location":"module-lizmap/#module-lizmap","text":"Il est possible d'exploiter les donn\u00e9es cadastrales dans l'interface web de Lizmap . Pour cela, il faut : installer le module sur le serveur Lizmap configurer le projet QGIS","title":"Module Lizmap"},{"location":"module-lizmap/configuration/","text":"Configuration # Dans QGIS # Configurer le projet QGIS # Pour utiliser le module cadastre dans Lizmap Web Client il vous faut d'abord configurer un projet QGIS : Vous aurez besoin d'installer l'extension QGIS Cadastre sur votre QGIS Bureautique via le gestionnaire d'extensions, ainsi que sur votre serveur QGIS Serveur dans un dossier nomm\u00e9 cadastre . Il faut ensuite cr\u00e9er un projet QGIS contenant les donn\u00e9es cadastrales, et le configurer avec l'extension Cadastre : Utilisez l'outil de chargement des couches , il configurera notamment les variables dans le projet ainsi que les couches requises. Dans les propri\u00e9t\u00e9s du projet , onglet QGIS Serveur , il faut publier en WFS les couches Communes , Parcelles et Sections . Configurer la publication avec le plugin Lizmap # Vous devez maintenant cr\u00e9er ou modifier la configuration lizmap via l'extension Lizmap pour QGIS : Il faut obligatoirement ajouter la couche Parcelles dans l'onglet table attributaire . Pour les performances, pensez \u00e0 cocher la case \"Limiter les donn\u00e9es \u00e0 l'emprise courante\" en bas de la fen\u00eatre pour l'onglet table attributaire 1 2 3 - Pour les performances, vous pouvez aussi cocher \"Masquer la couche dans la liste\" pour la configuration de la couche Parcelles. La fonction de s\u00e9lection sera active mais la couche Parcelles n'appara\u00eetra pas dans la liste des tables attributaires disponibles. La couche Parcelles ne doit pas \u00eatre dans un groupe qui a l'option Groupe comme une couche activ\u00e9e dans l'onglet Couches de Lizmap. Vous devez activer la popup pour la couche des Parcelles , via l'onglet Couches du plugin Lizmap. ATTENTION Selon le public vis\u00e9, vous devrez adapter les champs visibles dans la popup de Lizmap, notamment les champs proprietaire et proprietaire_infos qui contiennent des donn\u00e9es sensibles issues des fichiers MAJIC. Si vous utilisez la popup Auto de Lizmap, d\u00e9sactiver le WMS pour les champs souhait\u00e9s dans l'onglet Champs des propri\u00e9t\u00e9s de la couche (tout \u00e0 droite du tableau) Si vous utilisez la popup QGIS , adaptez la configuration en supprimant le contenu HTML non souhait\u00e9, visible dans l'onglet Affichage (ou Infobulle ) des propri\u00e9t\u00e9s de la couche, groupe Infobulle HTML \u00c0 noter que depuis la version 1.6.0 du module Cadastre, lorsque l'utilisateur a le droit de voir les donn\u00e9es de propri\u00e9taires , le contenu d\u00e9taill\u00e9 des informations de la parcelle est affich\u00e9 sous le contenu de la popup . Les onglets correspondent \u00e0 ceux visibles dans QGIS lorsqu'on affiche le d\u00e9tail d'une parcelle : Parcelle, Propri\u00e9taires, Subdivisions fiscales, Locaux, Locaux : informations d\u00e9taill\u00e9es . Vous pouvez donc afficher moins d'information dans la popup, par exemple seulement le code de la parcelle et la commune Dans Lizmap Web Client # Maintenant vous devez configurer les droits d'acc\u00e8s \u00e0 l'outil via l'interface d'administration. Le module a cr\u00e9\u00e9 : un groupe d'utilisateurs Cadastre Lizmap (identifiant cadastre_lizmap ) 2 sujets de droit : Acc\u00e9der aux donn\u00e9es de propri\u00e9taires et Utiliser le panneau de recherche Vous pouvez mettre certains utilisateurs dans ce groupe Cadastre Lizmap . Ils auront alors acc\u00e8s au panneau de recherche par localisation ET par nom de propri\u00e9taires. Vous devez bien faire attention de n'accorder le droit Acc\u00e9der aux donn\u00e9es de propri\u00e9taires qu'aux personnes habilit\u00e9es ! . Vous pouvez modifier plus finement les droits via le bouton Changer les droits des groupes situ\u00e9s dans le menu Groupes d'utilisateurs pour les droits de l'interface d'administration de Lizmap Web Client. Attention, cette page modifie fortement les droits par d\u00e9faut des groupes d'utilisateurs. Nous conseillons de ne pas toucher aux droits li\u00e9s \u00e0 Lizmap ici, sauf si vous ma\u00eetrisez ce que vous faites.","title":"Configuration"},{"location":"module-lizmap/configuration/#configuration","text":"","title":"Configuration"},{"location":"module-lizmap/configuration/#dans-qgis","text":"","title":"Dans QGIS"},{"location":"module-lizmap/configuration/#configurer-le-projet-qgis","text":"Pour utiliser le module cadastre dans Lizmap Web Client il vous faut d'abord configurer un projet QGIS : Vous aurez besoin d'installer l'extension QGIS Cadastre sur votre QGIS Bureautique via le gestionnaire d'extensions, ainsi que sur votre serveur QGIS Serveur dans un dossier nomm\u00e9 cadastre . Il faut ensuite cr\u00e9er un projet QGIS contenant les donn\u00e9es cadastrales, et le configurer avec l'extension Cadastre : Utilisez l'outil de chargement des couches , il configurera notamment les variables dans le projet ainsi que les couches requises. Dans les propri\u00e9t\u00e9s du projet , onglet QGIS Serveur , il faut publier en WFS les couches Communes , Parcelles et Sections .","title":"Configurer le projet QGIS"},{"location":"module-lizmap/configuration/#configurer-la-publication-avec-le-plugin-lizmap","text":"Vous devez maintenant cr\u00e9er ou modifier la configuration lizmap via l'extension Lizmap pour QGIS : Il faut obligatoirement ajouter la couche Parcelles dans l'onglet table attributaire . Pour les performances, pensez \u00e0 cocher la case \"Limiter les donn\u00e9es \u00e0 l'emprise courante\" en bas de la fen\u00eatre pour l'onglet table attributaire 1 2 3 - Pour les performances, vous pouvez aussi cocher \"Masquer la couche dans la liste\" pour la configuration de la couche Parcelles. La fonction de s\u00e9lection sera active mais la couche Parcelles n'appara\u00eetra pas dans la liste des tables attributaires disponibles. La couche Parcelles ne doit pas \u00eatre dans un groupe qui a l'option Groupe comme une couche activ\u00e9e dans l'onglet Couches de Lizmap. Vous devez activer la popup pour la couche des Parcelles , via l'onglet Couches du plugin Lizmap. ATTENTION Selon le public vis\u00e9, vous devrez adapter les champs visibles dans la popup de Lizmap, notamment les champs proprietaire et proprietaire_infos qui contiennent des donn\u00e9es sensibles issues des fichiers MAJIC. Si vous utilisez la popup Auto de Lizmap, d\u00e9sactiver le WMS pour les champs souhait\u00e9s dans l'onglet Champs des propri\u00e9t\u00e9s de la couche (tout \u00e0 droite du tableau) Si vous utilisez la popup QGIS , adaptez la configuration en supprimant le contenu HTML non souhait\u00e9, visible dans l'onglet Affichage (ou Infobulle ) des propri\u00e9t\u00e9s de la couche, groupe Infobulle HTML \u00c0 noter que depuis la version 1.6.0 du module Cadastre, lorsque l'utilisateur a le droit de voir les donn\u00e9es de propri\u00e9taires , le contenu d\u00e9taill\u00e9 des informations de la parcelle est affich\u00e9 sous le contenu de la popup . Les onglets correspondent \u00e0 ceux visibles dans QGIS lorsqu'on affiche le d\u00e9tail d'une parcelle : Parcelle, Propri\u00e9taires, Subdivisions fiscales, Locaux, Locaux : informations d\u00e9taill\u00e9es . Vous pouvez donc afficher moins d'information dans la popup, par exemple seulement le code de la parcelle et la commune","title":"Configurer la publication avec le plugin Lizmap"},{"location":"module-lizmap/configuration/#dans-lizmap-web-client","text":"Maintenant vous devez configurer les droits d'acc\u00e8s \u00e0 l'outil via l'interface d'administration. Le module a cr\u00e9\u00e9 : un groupe d'utilisateurs Cadastre Lizmap (identifiant cadastre_lizmap ) 2 sujets de droit : Acc\u00e9der aux donn\u00e9es de propri\u00e9taires et Utiliser le panneau de recherche Vous pouvez mettre certains utilisateurs dans ce groupe Cadastre Lizmap . Ils auront alors acc\u00e8s au panneau de recherche par localisation ET par nom de propri\u00e9taires. Vous devez bien faire attention de n'accorder le droit Acc\u00e9der aux donn\u00e9es de propri\u00e9taires qu'aux personnes habilit\u00e9es ! . Vous pouvez modifier plus finement les droits via le bouton Changer les droits des groupes situ\u00e9s dans le menu Groupes d'utilisateurs pour les droits de l'interface d'administration de Lizmap Web Client. Attention, cette page modifie fortement les droits par d\u00e9faut des groupes d'utilisateurs. Nous conseillons de ne pas toucher aux droits li\u00e9s \u00e0 Lizmap ici, sauf si vous ma\u00eetrisez ce que vous faites.","title":"Dans Lizmap Web Client"},{"location":"module-lizmap/installation/","text":"Installation du module # Une fois que Lizmap Web Client est install\u00e9 et fonctionnel, vous pouvez installer le module cadastre et l'extension QGIS Serveur cadastre . Depuis la version 1.5.2 du module, il est souhaitable de l'installer avec Composer , le syst\u00e8me de paquet pour PHP. Si vous ne pouvez pas, ou si vous utilisez lizmap 3.3 ou inf\u00e9rieur, passez \u00e0 la section sur l'installation manuelle. Extension QGIS Serveur # Pour que le module soit fonctionnel, il faut installer l'extension QGIS Serveur Cadastre . Il s'agit de la m\u00eame extension que celle sur QGIS Bureautique. Veuillez regarder la documentation QGIS sur l'utilisation des extensions c\u00f4t\u00e9 serveur. Nous recommandons l'usage de QGIS-Plugin-Manager pour l'installation et la mise \u00e0 jour des extensions c\u00f4t\u00e9 serveur. Le module # Installation automatique avec Composer et lizmap 3.4 ou plus # dans lizmap/my-packages , cr\u00e9er le fichier composer.json s'il n'existe pas d\u00e9j\u00e0, en copiant le fichier composer.json.dist , qui s'y trouve. en ligne de commande, dans le r\u00e9pertoire lizmap/my-packages/ , tapez : composer require \"lizmap/lizmap-cadastre-module\" puis dans le r\u00e9pertoire lizmap/install/ , lancer les commandes suivantes : 1 2 3 php installer.php clean_vartmp.sh set_rights.sh Installation manuelle dans lizmap 3.3 ou 3.4 sans Composer # T\u00e9l\u00e9charger l'archive ZIP de la derni\u00e8re version du module cadastre dans la page des releases de Github . Extraire l'archive et copier le r\u00e9pertoire cadastre dans le r\u00e9pertoire lizmap/lizmap-modules/ de l'application Lizmap Web Client. \u00c9diter le fichier lizmap/var/config/localconfig.ini.php et modifier la section [modules] en ajoutant la ligne cadastre.access=2 sous la section : 1 2 [modules] cadastre.access = 2 puis dans le r\u00e9pertoire lizmap/install/ , lancer les commandes suivantes : 1 2 3 php installer.php clean_vartmp.sh set_rights.sh","title":"Installation"},{"location":"module-lizmap/installation/#installation-du-module","text":"Une fois que Lizmap Web Client est install\u00e9 et fonctionnel, vous pouvez installer le module cadastre et l'extension QGIS Serveur cadastre . Depuis la version 1.5.2 du module, il est souhaitable de l'installer avec Composer , le syst\u00e8me de paquet pour PHP. Si vous ne pouvez pas, ou si vous utilisez lizmap 3.3 ou inf\u00e9rieur, passez \u00e0 la section sur l'installation manuelle.","title":"Installation du module"},{"location":"module-lizmap/installation/#extension-qgis-serveur","text":"Pour que le module soit fonctionnel, il faut installer l'extension QGIS Serveur Cadastre . Il s'agit de la m\u00eame extension que celle sur QGIS Bureautique. Veuillez regarder la documentation QGIS sur l'utilisation des extensions c\u00f4t\u00e9 serveur. Nous recommandons l'usage de QGIS-Plugin-Manager pour l'installation et la mise \u00e0 jour des extensions c\u00f4t\u00e9 serveur.","title":"Extension QGIS Serveur"},{"location":"module-lizmap/installation/#le-module","text":"","title":"Le module"},{"location":"module-lizmap/installation/#installation-automatique-avec-composer-et-lizmap-34-ou-plus","text":"dans lizmap/my-packages , cr\u00e9er le fichier composer.json s'il n'existe pas d\u00e9j\u00e0, en copiant le fichier composer.json.dist , qui s'y trouve. en ligne de commande, dans le r\u00e9pertoire lizmap/my-packages/ , tapez : composer require \"lizmap/lizmap-cadastre-module\" puis dans le r\u00e9pertoire lizmap/install/ , lancer les commandes suivantes : 1 2 3 php installer.php clean_vartmp.sh set_rights.sh","title":"Installation automatique avec Composer et lizmap 3.4 ou plus"},{"location":"module-lizmap/installation/#installation-manuelle-dans-lizmap-33-ou-34-sans-composer","text":"T\u00e9l\u00e9charger l'archive ZIP de la derni\u00e8re version du module cadastre dans la page des releases de Github . Extraire l'archive et copier le r\u00e9pertoire cadastre dans le r\u00e9pertoire lizmap/lizmap-modules/ de l'application Lizmap Web Client. \u00c9diter le fichier lizmap/var/config/localconfig.ini.php et modifier la section [modules] en ajoutant la ligne cadastre.access=2 sous la section : 1 2 [modules] cadastre.access = 2 puis dans le r\u00e9pertoire lizmap/install/ , lancer les commandes suivantes : 1 2 3 php installer.php clean_vartmp.sh set_rights.sh","title":"Installation manuelle dans lizmap 3.3 ou 3.4 sans Composer"},{"location":"processing/","text":"Processing # # Configuration du projet # Ce traitement permet de configurer un projet QGIS pour de la publication sur le web avec Lizmap https://github.com/3liz/lizmap-web-client/ et son module Cadastre https://github.com/3liz/lizmap-cadastre-module Parameters # ID Description Type Info Required Advanced Option COMMUNE_LAYER La couche communes VectorLayer \u2713 Default: Communes Type: TypeVectorPolygon COMMUNE_UNIQUE_FIELD Champs identifiant les communes Field \u2713 Default: geo_commune SECTION_LAYER La couche sections VectorLayer \u2713 Type: TypeVectorPolygon SECTION_UNIQUE_FIELD Champs identifiant les sections Field \u2713 Default: geo_section PARCELLE_LAYER La couche parcelles VectorLayer \u2713 Type: TypeVectorPolygon PARCELLE_UNIQUE_FIELD Champs identifiant les parcelles Field \u2713 Default: geo_parcelle Outputs # ID Description Type Info SUCCESS Succ\u00e8s Number T\u00e9l\u00e9chargeur \u00c9dig\u00e9o communal # Ce traitement permet de t\u00e9l\u00e9charger toutes les feuilles Edig\u00e9o sur plusieurs communes. La date peut-\u00eatre \"latest\" ou alors une date disponible sur https://cadastre.data.gouv.fr/datasets/plan-cadastral-informatise L'URL ne doit pas \u00eatre chang\u00e9, sauf si l'API de cadastre.gouv.fr change. Parameters # ID Description Type Info Required Advanced Option LISTE_CODE_INSEE Liste des code INSEE \u00e0 t\u00e9l\u00e9charger String s\u00e9par\u00e9s par \",\" \u2713 FILTRE Filtre sur les feuilles String s\u00e9par\u00e9s par \",\", peut-\u00eatre \"050170000C03,AB\" qui t\u00e9l\u00e9chargent toutes les feuilles AB et 050170000C03 DOSSIER Dossier de destination FolderDestination Dossier de destination pour les fichiers Edigeo \u2713 DATE Date, disponible sur le site cadastre.data.gouv.fr (exemple \"2021-02-01\") String Par d\u00e9faut \"latest\" \u2713 Default: latest URL_TEMPLATE URL mod\u00e8le, avec {date}, {departement}, String \u00c0 ne changer que si l'URL change \u2713 \u2713 Default: https://cadastre.data.gouv.fr/data/dgfip-pci-vecteur/{date}/edigeo/feuilles/{departement}/{commune}/ Outputs # ID Description Type Info DOSSIER Dossier de destination Folder NB_COMMUNES Nombre de communes Number NB_FEUILLES Nombre de feuilles Number DEPARTEMENTS D\u00e9partements, s\u00e9par\u00e9s par \",\" String","title":"Processing"},{"location":"processing/#processing","text":"","title":"Processing"},{"location":"processing/#_1","text":"","title":""},{"location":"processing/#configuration-du-projet","text":"Ce traitement permet de configurer un projet QGIS pour de la publication sur le web avec Lizmap https://github.com/3liz/lizmap-web-client/ et son module Cadastre https://github.com/3liz/lizmap-cadastre-module","title":"Configuration du projet"},{"location":"processing/#parameters","text":"ID Description Type Info Required Advanced Option COMMUNE_LAYER La couche communes VectorLayer \u2713 Default: Communes Type: TypeVectorPolygon COMMUNE_UNIQUE_FIELD Champs identifiant les communes Field \u2713 Default: geo_commune SECTION_LAYER La couche sections VectorLayer \u2713 Type: TypeVectorPolygon SECTION_UNIQUE_FIELD Champs identifiant les sections Field \u2713 Default: geo_section PARCELLE_LAYER La couche parcelles VectorLayer \u2713 Type: TypeVectorPolygon PARCELLE_UNIQUE_FIELD Champs identifiant les parcelles Field \u2713 Default: geo_parcelle","title":"Parameters"},{"location":"processing/#outputs","text":"ID Description Type Info SUCCESS Succ\u00e8s Number","title":"Outputs"},{"location":"processing/#telechargeur-edigeo-communal","text":"Ce traitement permet de t\u00e9l\u00e9charger toutes les feuilles Edig\u00e9o sur plusieurs communes. La date peut-\u00eatre \"latest\" ou alors une date disponible sur https://cadastre.data.gouv.fr/datasets/plan-cadastral-informatise L'URL ne doit pas \u00eatre chang\u00e9, sauf si l'API de cadastre.gouv.fr change.","title":"T\u00e9l\u00e9chargeur \u00c9dig\u00e9o communal"},{"location":"processing/#parameters_1","text":"ID Description Type Info Required Advanced Option LISTE_CODE_INSEE Liste des code INSEE \u00e0 t\u00e9l\u00e9charger String s\u00e9par\u00e9s par \",\" \u2713 FILTRE Filtre sur les feuilles String s\u00e9par\u00e9s par \",\", peut-\u00eatre \"050170000C03,AB\" qui t\u00e9l\u00e9chargent toutes les feuilles AB et 050170000C03 DOSSIER Dossier de destination FolderDestination Dossier de destination pour les fichiers Edigeo \u2713 DATE Date, disponible sur le site cadastre.data.gouv.fr (exemple \"2021-02-01\") String Par d\u00e9faut \"latest\" \u2713 Default: latest URL_TEMPLATE URL mod\u00e8le, avec {date}, {departement}, String \u00c0 ne changer que si l'URL change \u2713 \u2713 Default: https://cadastre.data.gouv.fr/data/dgfip-pci-vecteur/{date}/edigeo/feuilles/{departement}/{commune}/","title":"Parameters"},{"location":"processing/#outputs_1","text":"ID Description Type Info DOSSIER Dossier de destination Folder NB_COMMUNES Nombre de communes Number NB_FEUILLES Nombre de feuilles Number DEPARTEMENTS D\u00e9partements, s\u00e9par\u00e9s par \",\" String","title":"Outputs"}]}