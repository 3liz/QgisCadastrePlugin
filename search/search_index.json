{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Documentation","text":"<p>Ce document contient la documentation de l'extension Cadastre pour le logiciel QGIS ainsi que la documentation du module Cadastre pour  Lizmap.</p>"},{"location":"#description","title":"Description","text":"<p>L'extension Cadastre a \u00e9t\u00e9 con\u00e7u pour faciliter l'utilisation des donn\u00e9es cadastrales dans QGIS. Plusieurs modules aident l'utilisateur \u00e0 importer des donn\u00e9es, les afficher dans QGIS, faire des recherches et imprimer les relev\u00e9s :</p> <ul> <li>L'import de donn\u00e9es cadastrales, MAJIC et EDIGEO, dans une base de donn\u00e9es PostgreSQL/PostGIS ou Sqlite/Spatialite.</li> <li>Un module de chargement permet d'ajouter automatiquement l'ensemble des couches cadastrales dans QGIS, avec la   possibilit\u00e9 de choisir le style appliqu\u00e9.</li> <li>Un panneau de recherche offre la possibilit\u00e9 de rechercher des parcelles par adresse, propri\u00e9taire ou par situation   (commune, section) et de naviguer vers ces parcelles cadastrales.</li> <li>Un outil d'identification permet d'afficher les donn\u00e9es li\u00e9es \u00e0 une parcelle en cliquant sur le polygone repr\u00e9sentant   la parcelle.</li> <li>Il est possible enfin d'exporter les donn\u00e9es sous forme de relev\u00e9s parcellaires et de relev\u00e9s de propri\u00e9t\u00e9.</li> </ul>"},{"location":"#prerequis","title":"Pr\u00e9requis","text":"<ul> <li>De pr\u00e9f\u00e9rence, QGIS LTR 3.34, minimum QGIS 3.18</li> <li>PostgreSQL : \u2265 13 + PostGIS \u2265 3.X</li> <li>Spatialite : 4.3.0</li> </ul>"},{"location":"#financeurs","title":"Financeurs","text":"<p>La r\u00e9alisation de l'extension Cadastre a \u00e9t\u00e9 financ\u00e9e par :</p> <ul> <li>L'Union Europ\u00e9enne</li> <li>Le Fonds Europ\u00e9en de D\u00e9veloppement R\u00e9gional de Picardie</li> <li>Le Conseil R\u00e9gional de Picardie</li> <li>L'Agence de D\u00e9veloppement et d'Urbanisme du Grand Ami\u00e9nois (ADUGA)</li> </ul> <p>Les \u00e9volutions 2020 ont \u00e9t\u00e9 soutenues par :</p> <ul> <li>Le Minist\u00e8re de la Transition \u00c9cologie</li> <li>L'association ASA de France</li> <li>La Communaut\u00e9 d'Agglom\u00e9ration du Grand-Narbonne</li> <li>Les Agences d'Urbanisme de Bretagne et autres : AGAM, AUSB, ADUGA, AUDAT,   AUD Clermont M\u00e9tropole, AGAPE Lorraine Nord, Boulogne D\u00e9veloppement</li> <li>Le Conseil D\u00e9partemental de Meurthe et Moselle</li> </ul> <p>Les structures suivantes ont aid\u00e9 3Liz pour la maintenance ou l'ajout de fonctionnalit\u00e9s :</p> <ul> <li>L'ADUGA : maintenance pour les nouveaux mill\u00e9simes</li> <li>La Ville de Meg\u00e8ve : migration du plugin vers QGIS 3</li> <li>La Communaut\u00e9 d'Agglom\u00e9ration du Soissonnais : am\u00e9lioration de la   recherche et ajout d'informations sur les fiches parcellaires</li> <li>Le Conseil d\u00e9partemental du Gard : ajout d'informations dans la fiche parcellaire</li> <li>La M\u00e9tropole de Rennes : ajout des supports 2019 et 2020 des mill\u00e9simes MAJIC</li> <li>le Minist\u00e8re de la Transition \u00c9cologique : d\u00e9tails sur les propri\u00e9taires (indivisions)</li> </ul> <p>Les \u00e9volutions 2021 ont \u00e9t\u00e9 soutenues par :</p> <ul> <li>La M\u00e9tropole de Rennes : ajout du support MAJIC 2021</li> <li>La M\u00e9tropole de Brest : enrichissement de la recherche de propri\u00e9taires   (par nom d'usage, par nom de naissance, par commune)</li> <li>La soci\u00e9t\u00e9 \u00c9l\u00e9ments pour le t\u00e9l\u00e9chargeur \u00c9dig\u00e9o</li> <li>La M\u00e9tropole de Clermont-Ferrand :   maintenance sur l'extension, travail exploratoire sur le remplacement d'ancien code concernant le DBManager et am\u00e9lioration du code</li> </ul> <p>Les \u00e9volutions 2025 ont \u00e9t\u00e9 soutenues par :</p> <ul> <li>Le CRAIG (Centre R\u00e9gional Auvergne-Rh\u00f4ne-Alpes de l'Information G\u00e9ographique) :   Abandon du support des fichiers FANTOIR au b\u00e9n\u00e9fice des fichiers TOPO</li> </ul> <p></p>"},{"location":"CHANGELOG/","title":"Changelog","text":""},{"location":"CHANGELOG/#unreleased","title":"Unreleased","text":""},{"location":"CHANGELOG/#220-2025-07-31","title":"2.2.0 - 2025-07-31","text":"<ul> <li>Import - support du mill\u00e9sime 2025</li> <li>Import - adaptation pour suivre les changements de format des fichiers TOPO</li> <li>Import - Refonte de la cr\u00e9ation et du remplissage de la table <code>parcelle_info</code>   Cela optimise les performances pour les imports multiples dans la m\u00eame base   pour de gros volumes de donn\u00e9es (ex: plusieurs d\u00e9partements)</li> <li>Import MAJIC - Meilleure d\u00e9tection des fichiers \u00e0 ne pas charger pendant l'import   (PDF, DOC, DOCX, TXT)</li> <li>Configuration - Suppression du champ TOPO en doublon</li> <li>Outil de t\u00e9l\u00e9chargement d'EDIGEO : ajout des tags cadastre &amp; lizmap</li> <li>Code - Ajout d'une variable globale pour la version maximale</li> <li>Code - Suppression de scripts SQL non utilis\u00e9s</li> <li>CI - Configuration modifi\u00e9e pour Dependabot : il tourne maintenant tous les 4 mois</li> </ul> <p>Merci \u00e0 tous les contributeurs @landryb, @MaelREBOUX, @Gustry, @Alain-LG</p>"},{"location":"CHANGELOG/#211-2025-04-24","title":"2.1.1 - 2025-04-24","text":"<ul> <li>Poursuite de la version pr\u00e9c\u00e9dente sur le support PyQt6</li> </ul>"},{"location":"CHANGELOG/#210-2025-04-24","title":"2.1.0 - 2025-04-24","text":"<ul> <li>Suppression de l'usage de <code>distutils</code> pour Python 3.12</li> <li>Ajout de <code>X-Request-Id</code> pour les logs c\u00f4t\u00e9 serveur</li> <li>Raise to QGIS 3.28 minimum version</li> <li>Add compatibility for PyQt6</li> </ul>"},{"location":"CHANGELOG/#201-2025-02-27","title":"2.0.1 - 2025-02-27","text":"<ul> <li>Ajout du financeur pour la version 2.0.0 : le CRAIG @landryb</li> </ul>"},{"location":"CHANGELOG/#200-2025-02-14","title":"2.0.0 - 2025-02-14","text":"<ul> <li>Import MAJIC - Abandon du support des fichiers FANTOIR au b\u00e9n\u00e9fice des fichiers TOPO</li> <li>Le FANTOIR n'est plus support\u00e9, m\u00eame pour des vieux mill\u00e9simes</li> <li>Le TOPO est le format utilis\u00e9 pour l'import des voies</li> <li>Certains champs dans la table des voies ne sont plus remplis par des cha\u00eenes vides     mais par des vrais <code>NULL</code>, comme par exemple <code>natvoie</code></li> <li>D\u00e9tail: https://github.com/3liz/QgisCadastrePlugin/pull/475</li> <li>Import MAJIC - les noms fichiers MAJIC ne sont plus stricts mais devin\u00e9s par le plugin</li> <li>Dans la configuration, les noms des fichiers sont maintenant des cl\u00e9s de recherche     (expressions r\u00e9guli\u00e8res). NB: Il est d\u00e9conseill\u00e9 de les modifier sans ma\u00eetriser.</li> <li>Lors de l'import, le plugin trouve automatiquement les fichiers par type en utilisant     ces cl\u00e9s de recherche.</li> <li>D\u00e9tail: https://github.com/3liz/QgisCadastrePlugin/pull/474</li> </ul>"},{"location":"CHANGELOG/#1200-2024-08-19","title":"1.20.0 - 2024-08-19","text":"<ul> <li>Correction de la recherche sur adresse avec des codes voies n'ayant pas l'identifiant MAJIC (<code>ccovoi</code>) @landryb</li> <li>Utilisation d'une URL temporaire pour les FANTOIR 2024 drive.opendata.craig.fr, @landryb</li> <li>Support du mill\u00e9sime 2024 dans le formulaire d'import, @MaelREBOUX et @EtienneRouvin</li> <li>Correction d'une faille de s\u00e9curit\u00e9 lors de l'extraction de l'archive TAR, pensez \u00e0 v\u00e9rifier votre version de Python</li> </ul>"},{"location":"CHANGELOG/#1192-2024-07-02","title":"1.19.2 - 2024-07-02","text":"<ul> <li>Correction du style par d\u00e9faut pour \u00eatre compatible avec Lizmap Web Client 3.7</li> <li>Re-factorisation du code Python sur certaines classes</li> </ul>"},{"location":"CHANGELOG/#1191-2024-03-06","title":"1.19.1 - 2024-03-06","text":"<ul> <li>Correction de l'export PDF avec une utilisation QGIS &gt; 3.30</li> </ul>"},{"location":"CHANGELOG/#1190-2023-12-14","title":"1.19.0 - 2023-12-14","text":"<ul> <li>Correction de l'import des donn\u00e9es sans les donn\u00e9es MAJIC</li> <li>Augmentation de la version minimum de QGIS \u00e0 3.22 au lieu de 3.18 qui \u00e9tait une non LTR</li> </ul>"},{"location":"CHANGELOG/#1182-2023-10-17","title":"1.18.2 - 2023-10-17","text":"<ul> <li>Utilisation du code commune de la parcelle dans parcelle_info MAJIC</li> <li>Correction des DROP d'indexes</li> <li>Correction de la cl\u00e9 primaire de la table proprietaire</li> <li>Ajout d'un index sur le champ voie de la table parcelle_info</li> <li>Import - Am\u00e9lioration des performances pour l'EDIGEO   L'import des donn\u00e9es EDIGEO via ogr2ogr n'utilisait plus l'option <code>PG_USE_COPY</code></li> </ul>"},{"location":"CHANGELOG/#1181-2023-09-27","title":"1.18.1 - 2023-09-27","text":"<ul> <li>Corrections SQL</li> </ul>"},{"location":"CHANGELOG/#1180-2023-08-02","title":"1.18.0 - 2023-08-02","text":"<ul> <li>Support du MAJIC 2023 (contribution de @landryb et @MaelREBOUX)</li> </ul>"},{"location":"CHANGELOG/#1173-2023-02-07","title":"1.17.3 - 2023-02-07","text":"<ul> <li>bugfix - La colonne RC TEOM au tableau des propri\u00e9t\u00e9s baties est le champ <code>bateom</code> et pas <code>baeteom</code></li> </ul>"},{"location":"CHANGELOG/#1172-2023-01-26","title":"1.17.2 - 2023-01-26","text":"<ul> <li>bugfix - La colonne RC TEOM au tableau des propri\u00e9t\u00e9s baties est le champ <code>baeteom</code> et pas <code>mvltieomx</code> de <code>pevtaxation</code></li> <li>bugfix - homog\u00e9n\u00e9isation des adresses de propri\u00e9taires</li> <li>Tableau des indivisions comme sous partie du tableau des propri\u00e9taires</li> <li>Indivisions pour un tiers</li> </ul>"},{"location":"CHANGELOG/#1171-2022-12-15","title":"1.17.1 - 2022-12-15","text":"<ul> <li>bugfix - Correction du compte communal abr\u00e9g\u00e9 affich\u00e9 dans les relev\u00e9s</li> <li>Ajout de la colonne RC TEOM au tableau des propri\u00e9t\u00e9s baties</li> <li>bugfix - Server - Acc\u00e8s \u00e0 la fiche HTML compl\u00e8te sans les infos sensibles des propri\u00e9taires</li> </ul>"},{"location":"CHANGELOG/#1170-2022-11-25","title":"1.17.0 - 2022-11-25","text":"<ul> <li>Server - Ajout de la carte au relev\u00e9 parcellaire</li> <li>Server - Support du relev\u00e9 parcellaire pour un tiers et r\u00e9duction de la fiche HTML</li> </ul>"},{"location":"CHANGELOG/#1161-2022-10-19","title":"1.16.1 - 2022-10-19","text":"<ul> <li>Correction d'un bug si le dossier de stockage temporaire dans les pr\u00e9f\u00e9rences n'existait plus</li> </ul>"},{"location":"CHANGELOG/#1160-2022-09-05","title":"1.16.0 - 2022-09-05","text":"<ul> <li>Export des relev\u00e9s - Ajout d'une option \"Les relev\u00e9s sont destin\u00e9s \u00e0 des tiers\"   qui permet de ne pas faire figurer la date et le lieu de naissance des propri\u00e9taires dans les PDF.</li> <li>Annulation d'une fonctionnalit\u00e9 de la version 1.14.0 concernant l'ajout automatique des noms courts.   Il y a un probl\u00e8me sur Lizmap Web Client https://github.com/3liz/lizmap-web-client/issues/2985</li> </ul>"},{"location":"CHANGELOG/#1151-2022-08-12","title":"1.15.1 - 2022-08-12","text":"<ul> <li>Identification de la parcelle (MAJIC): ajout du statut 'Parcelle b\u00e2tie' dans la fiche (issue du champ <code>gparbat</code>).   Cette modification ne n\u00e9cessite pas de r\u00e9import pour \u00eatre fonctionnelle.</li> <li>Table <code>parcelle_info</code>: ajout du champ <code>parcelle_batie</code> (Oui/Non) \u00e0 partir du champ <code>gparbat</code> (MAJIC).   Cette modification n\u00e9cessite un r\u00e9import des donn\u00e9es, ou un remplacement manuel de la table <code>parcelle_info</code>.</li> </ul>"},{"location":"CHANGELOG/#1150-2022-08-02","title":"1.15.0 - 2022-08-02","text":"<ul> <li>Support du MAJIC 2022</li> </ul>"},{"location":"CHANGELOG/#1142-2022-05-10","title":"1.14.2 - 2022-05-10","text":"<ul> <li>Correction de l'import Edigeo si les parcelles sont trop grandes (en Guyane par exemple, ticket https://github.com/3liz/QgisCadastrePlugin/issues/206)</li> <li>Correction d'une erreur Python si l'utilisateur utilise QGIS Process</li> </ul>"},{"location":"CHANGELOG/#1141-2022-03-21","title":"1.14.1 - 2022-03-21","text":"<ul> <li>Correction d'une r\u00e9gression c\u00f4t\u00e9 serveur pour le logging</li> </ul>"},{"location":"CHANGELOG/#1140-2022-03-09","title":"1.14.0 - 2022-03-09","text":"<ul> <li>Ajout de la colonne <code>contenance</code> \u00e0 la table <code>parcelle_info</code> m\u00eame lorsqu'il n'y a pas de donn\u00e9es MAJIC</li> <li>Correction de la recherche par propri\u00e9taire lorsque le sch\u00e9ma Postgres n\u00e9cessite des doubles quotes</li> <li>Ajout d'une cl\u00e9 primaire \u00e0 la table <code>geo_label</code></li> <li>Modification de la cl\u00e9 primaire de la table <code>geo_batiment</code> et <code>geo_subdsect</code> pour \u00eatre de type entier</li> <li>Ajout des noms courts sur les couches et les groupes pour rendre le projet valide par d\u00e9faut lors d'une publication   sur Lizmap</li> <li>Refactorisation du code c\u00f4t\u00e9 QGIS Serveur</li> <li>Mise \u00e0 jour de https://docs.3liz.org</li> </ul>"},{"location":"CHANGELOG/#1135-2021-12-14","title":"1.13.5 - 2021-12-14","text":"<ul> <li>Am\u00e9lioration du message d'erreur sur le fichier n'est pas \u00eatre d\u00e9compress\u00e9, ticket #339</li> <li>Correction de la table <code>commune_majic</code> pour les mill\u00e9simes 2019 \u00e0 2021, ticket #333</li> </ul>"},{"location":"CHANGELOG/#1134-2021-12-06","title":"1.13.4 - 2021-12-06","text":"<ul> <li>Ajout du financeur de la m\u00e9tropole de Clermont-Ferrand</li> <li>Correction d'une r\u00e9gression suite \u00e0 la version 1.13.3 sur les champs <code>*_bipevla</code></li> </ul>"},{"location":"CHANGELOG/#1133-2021-11-18","title":"1.13.3 - 2021-11-18","text":"<ul> <li>Corrections orthographiques</li> <li>Correction sur les \"Locaux : Informations d\u00e9taill\u00e9es\"</li> <li>Correction des exports PDF depuis le panneau de recherche</li> <li>Am\u00e9lioration du message d'erreur s'il n'y a pas assez de m\u00e9moire sur l'ordinateur</li> <li>Am\u00e9lioration de la documentation concernant les param\u00e8tres au niveau global de l'extension</li> </ul>"},{"location":"CHANGELOG/#1132-2021-08-25","title":"1.13.2 - 2021-08-25","text":"<ul> <li>Mise \u00e0 jour de https://docs.3liz.org/QgisCadastrePlugin/ pour les financeurs de l'extension</li> <li>Correction d'une erreur si l'extension est utilis\u00e9e pour la premi\u00e8re fois</li> <li>Correction d'une erreur possible pour ouvrir les fichiers en UTF-8 par d\u00e9faut</li> </ul>"},{"location":"CHANGELOG/#1131-2021-08-10","title":"1.13.1 - 2021-08-10","text":"<ul> <li>Correction d'un chemin dans le script standalone concernant l'export</li> </ul>"},{"location":"CHANGELOG/#1130-2021-08-10","title":"1.13.0 - 2021-08-10","text":"<ul> <li>Ajout du support MAJIC 2021 (Contribution de Ma\u00ebl Reboux)</li> <li>Refactorisation du code interne \u00e0 l'extension</li> <li>Mise \u00e0 jour de la documentation https://docs.3liz.org/QgisCadastrePlugin/</li> </ul>"},{"location":"CHANGELOG/#1121-2021-06-24","title":"1.12.1 - 2021-06-24","text":"<ul> <li>Correction du chargement de l'extension avec QGIS &lt; 3.10</li> </ul>"},{"location":"CHANGELOG/#1120-2021-06-21","title":"1.12.0 - 2021-06-21","text":"<ul> <li>Correction de l'export propri\u00e9taire \u00e0 une commune</li> <li>Mise \u00e0 jour de la documentation sur le module Lizmap</li> </ul>"},{"location":"CHANGELOG/#1111-2021-06-01","title":"1.11.1 - 2021-06-01","text":"<ul> <li>Sauvegarde et restoration des param\u00e8tres de la derni\u00e8re base utilis\u00e9e dans l'interface graphique</li> </ul>"},{"location":"CHANGELOG/#1110-2021-05-21","title":"1.11.0 - 2021-05-21","text":"<ul> <li>Correction d'un espace dans l'adresse dans les propri\u00e9t\u00e9s baties, non baties</li> <li>Correction d'une erreur SQL lors de la consultation des infos parcelle sur QGIS 3.16 bureautique et serveur</li> <li>Ajout du support QGIS 3.16</li> <li>Ajout d'un bouton pour ouvrir l'aide depuis le menu principal d'aide de QGIS</li> <li>Ajout de la recherche d'un propri\u00e9taire</li> <li>par nom d'usage ou de naissance</li> <li>par ville</li> <li>Ajout d'un t\u00e9l\u00e9chargeur Edig\u00e9o communal dans la boite \u00e0 outils Processing</li> <li>Documentation https://docs.3liz.org/QgisCadastrePlugin/</li> <li>Mise de la documentation au format MkDocs</li> <li>Int\u00e9gration de la documentation du module Lizmap</li> <li>Ajout de la documentation automatique concernant les traitements Processing</li> <li>Ajout de la documentation concernant la base de donn\u00e9es avec Sch\u00e9maSpy</li> <li>Ajout d'une infrastructure de tests</li> </ul>"},{"location":"CHANGELOG/#1102-2020-12-10","title":"1.10.2 - 2020-12-10","text":"<ul> <li>Correction sur la documentation</li> <li>Ajout d'une table de mati\u00e8res sur https://docs.3liz.org/QgisCadastrePlugin/</li> <li>Afficher un message dans les logs si un fichier SQLite est manquant</li> <li>Pr\u00e9venir l'utilisateur sur les fichiers bz2 lors de l'import des fichiers \u00c9dig\u00e9o.</li> </ul>"},{"location":"CHANGELOG/#1101-2020-11-05","title":"1.10.1 - 2020-11-05","text":"<ul> <li>Ajout de la documentation de la base de donn\u00e9es sur https://docs.3liz.org/QgisCadastrePlugin/</li> <li>Petites corrections sur la publication de l'extension</li> </ul>"},{"location":"CHANGELOG/#1100-2020-11-04","title":"1.10.0 - 2020-11-04","text":"<ul> <li>Import - Optimisation de l'import Spatialite et de l'affichage du temps pass\u00e9</li> <li>Ajout de l'extraction de d\u00e9tails sur les propri\u00e9taires (indivisions)</li> <li>Widget \"Outils de Recherche\" : Ajout du bouton Infos parcelle</li> <li>Dialogue \"infos parcelle\" : Ajout des actions imprimer / copier /sauvegarder des infos des onglets</li> <li>R\u00e9vision barre d'outils (position actions) et r\u00e9\u00e9criture code menu / barre d'outils</li> <li>Fix - bug connexion (relev\u00e9 parcellaire, premi\u00e8re instanciation)</li> </ul>"},{"location":"CHANGELOG/#190-2020-09-07","title":"1.9.0 - 2020-09-07","text":"<ul> <li>Documentation<ul> <li>Support de QGIS 3.10 LTR #240</li> <li>Pr\u00e9cisions sur les versions PostgreSQL et PostGIS support\u00e9es</li> </ul> </li> <li>Support du mill\u00e9sime MAJIC 2020 #239</li> <li>Am\u00e9liorations et corrections<ul> <li>Suppression des doublons de communes et de sections dans les donn\u00e9es EDIGEO #196</li> <li>Unit\u00e9s fonci\u00e8res : suppression des enregistrements sans comptes communaux #221</li> <li>Correction d'un bogue dans l'affichage des informations d'une parcelle si le nom de la voie est nul #207</li> <li>Correction d'un bogue affectant le chargement de la couche des parcelles si on utilise du filtrage sur le code de commune #229</li> <li>Maintenance sur le code Python</li> </ul> </li> </ul>"},{"location":"CHANGELOG/#181-2019-10-21","title":"1.8.1 - 2019-10-21","text":"<p>Corrections de bugs essentiellement</p> <ul> <li>Import - EDIGEO: am\u00e9lioration des performances geo_batiment_parcelle</li> <li>Import - MAJIC: correction bug d'encodage</li> <li>Import MAJIC - garder vexen pour compatibilit\u00e9 Spatialite</li> <li>Spatialite - Correction des identifiants parcelle, voie et local00 dans la table local10</li> <li>Fiche parcellaire - r\u00e9sum\u00e9: ajout de coalesce sur l'adresse</li> <li>[BUGFIX] Use of QgsMapLayer.VectorLayer in getLayerFromLegendByTableProps</li> <li>suppression de code sp\u00e9cifique QGIS 2</li> <li>Cr\u00e9ation couche parcelle_info OK</li> </ul>"},{"location":"CHANGELOG/#180-2019-09-20","title":"1.8.0 - 2019-09-20","text":"<p>IMPORTANT \u00c0 partir de cette version seule la version QGIS LTR sera support\u00e9e. Pour cette version il s'agit de la version 3.4.x</p> <p>Nouveaut\u00e9s:</p> <ul> <li>Prise en charge des \u00e9volutions MAJIC 2019 (voir #192 pour les d\u00e9tails). Noter la cr\u00e9ation de 2 nouvelles tables.</li> <li>Pr\u00e9cisions sur les versions QGIS, PostgreSQL / PostGIS et Spatialite support\u00e9es (#197)</li> <li>Mise \u00e0 jour de la documentation de la structure de la base de donn\u00e9es (#204)</li> </ul>"},{"location":"CHANGELOG/#171-2019-06-06","title":"1.7.1 - 2019-06-06","text":"<ul> <li>Refactorize code for server and Qgis 3+</li> <li>Ajouts et mises \u00e0 jour de tables domaine</li> <li>Correction valeur compte communal</li> <li>Ajout inspireid</li> <li>Am\u00e9lioration de plugin Server</li> <li>Nouvelle table de nomenclature natvoi</li> <li>Correction identifiants</li> <li>trim code de nature de voie</li> <li>[Serveur] Add GetCapabilities method to server CADASTRE service</li> <li>Creation d'un provider QgsProcessing</li> </ul>"},{"location":"CHANGELOG/#170","title":"1.7.0","text":"<ul> <li>Fiche parcellaire - Ajout des informations des propri\u00e9taires, subdivisions et locaux</li> <li>Fiche parcelle - Ajout de la surface spatiale b\u00e2tie</li> <li>Export (version QGIS 2): Ajout d'un script python pour exporter les relev\u00e9s PDF via ligne de commande</li> <li>Fix - G\u00e9n\u00e9ral: Am\u00e9lioration de la r\u00e9cup\u00e9ration d'informations sur les couches (h\u00f4te, base de donn\u00e9es, etc.)</li> <li>Fix - Import: Suppression de table temporaire ll si besoin</li> <li>Fix - Export: relev\u00e9 de propri\u00e9t\u00e9: d\u00e9doublonnage des comptes communaux export\u00e9s en PDF</li> <li>Fix - Correction d'un bug d'encodage</li> <li>Divers - Ajout des derniers financeurs dans le dialogue \"A propos\"</li> </ul>"},{"location":"CHANGELOG/#162","title":"1.6.2","text":"<ul> <li>G\u00e9n\u00e9ral - suppression de code inutile suite \u00e0 la migration QGIS3</li> <li>Import - Correction de parcelles en doublons d\u00fb au lien avec geo_subdsect</li> <li>Export PDF - Correction d'un bug et restauration de l'affichage des propri\u00e9taires</li> </ul>"},{"location":"CHANGELOG/#161","title":"1.6.1","text":"<ul> <li>Correction de bug sur l'interrogation de propri\u00e9taire suite \u00e0 la gestion des dates en texte</li> <li>Correction d'un bug d'encodage sur message d'erreur de requ\u00eate SQL</li> <li>Import - Utilisation d'entiers longs pour les surfaces de parcelle_info (corrige le bug pour les tr\u00e8s grandes parcelles)</li> <li>Import - Ajout du support du mill\u00e9sime 2018</li> </ul>"},{"location":"CHANGELOG/#160","title":"1.6.0","text":"<ul> <li>Compatibilit\u00e9 du plugin avec QGIS 3. Les version compatibles avec QGIS 2 seront des versions de correction uniquement, avec un num\u00e9ro en 1.5.*</li> </ul>"},{"location":"CHANGELOG/#152","title":"1.5.2","text":"<ul> <li>Import - Transformation des champs date en texte pour le MAJIC, par respect de la donn\u00e9e source</li> <li>Correction d'un bug de la 1.5.1 avec QFileDialog, QFileInfo et BaseError manquant</li> </ul>"},{"location":"CHANGELOG/#151","title":"1.5.1","text":"<ul> <li>Import - MAJIC : correction de bug si dates mauvaises (30 f\u00e9v par ex)</li> <li>Import - Support partiel des donn\u00e9es EDIGEO en projection IGNF</li> <li>Import - Correction d'un bug de non remplissage des parcelles si correspondance geo_subdsect manquant</li> <li>Import - EDIGEO : conversion en date des champs de geo_subdsect seulement si format correct #120</li> </ul>"},{"location":"CHANGELOG/#150","title":"1.5.0","text":"<ul> <li>Chargement - Ajout de couches via requ\u00eate SQL</li> <li>Import - Ajout de la nomenclature pour ccocac</li> <li>Import - Correction sur la table pivot geo_batiment_parcelle: restriction par intersection</li> <li>Rechercher - D\u00e9placement de la recherche d'adresse sous celle par parcelle</li> <li>Chargement - correction d'un bug sur l'ajout dans les groupes Cadastre</li> <li>Import - Ajout du support de MAJIC 2017</li> <li>Recherche - Support de l'autocompl\u00e9tion pour les adresses et les propri\u00e9taires</li> <li>Recherche - Int\u00e9gration des adresses dans la recherche de lieux</li> <li>Import - Correction du bug de r\u00e9cup\u00e9ration des propri\u00e9t\u00e9s b\u00e2ties</li> <li>Import/Identification - contournement du bug d'encodage sur requ\u00eate pour QGIS 2.18.10 et &gt;</li> <li>Identification - correction du bug sur chargement de projet QGIS</li> <li>Import - Majic : import des propri\u00e9taires si et seulement si dnupro est non vide</li> <li>Import - Lieudits: utilisation de tous les champs tex</li> <li>Recherche - R\u00e9application de l'ordre dans les listes d\u00e9roulantes (sections, parcelles)</li> <li>BDD - Possibilit\u00e9 de se connecter avec un connexion utilisant un service PostgreSQL</li> </ul>"},{"location":"CHANGELOG/#141","title":"1.4.1","text":"<ul> <li>Import/Chargement - correction de bug pour Spatialite sur g\u00e9n\u00e9ration parcelle_info</li> </ul>"},{"location":"CHANGELOG/#140","title":"1.4.0","text":"<ul> <li>Menu - Suppression du menu Cadastre et d\u00e9placement dans le menu Extensions</li> <li>Barre d'outil - Modification de l'ic\u00f4ne d'identification (merci @pasqual )</li> <li>Structure bdd - G\u00e9n\u00e9ralisation des codes d\u00e9partements et direction dans les identifiants</li> <li>Structure bdd - Parcelles: consolidation des infos propri\u00e9taires dans une nouvelle table parcelle_info</li> <li>Import - Correction d'un bug de remplissage de geo_sym si ptcanv_id.sym est NULL</li> <li>Import - MAJIC: Filtrage des donn\u00e9es import\u00e9es selon d\u00e9partement et direction: on peut utiliser le fichier FANTOIR national</li> <li>Import - Ajout du support de MAJIC 2016</li> <li>Import - Edigeo : am\u00e9lioration de la jointure de geo_parcelle ave geo_subdsect</li> <li>Import - Correction des doublons sur les parcelles (dus au lien geo_subdsect)</li> <li>Import - Edigeo: am\u00e9lioration des performances pour tpoint, tline, tsurf</li> <li>Import - Augmentation de la limite max pour le code direction - fixes #94</li> <li>Import - Utilisation directe des fichiers sources sans copie pr\u00e9alable</li> <li>Import - Suppression des contraintes de taille dans les champs</li> <li>Import - D\u00e9placement des scripts SQL d'import et nettoyage</li> <li>Import - Fantoir recommand\u00e9 lors de l'import MAJIC &amp;&amp; lien de t\u00e9l\u00e9chargement ajout\u00e9</li> <li>Import - Correction des parcelles dupliqu\u00e9es si plusieurs sous-sections</li> <li>Import - correction du bug emp\u00eachant la cr\u00e9ation de base sqlite sous 2.16 - #83</li> <li>Chargement - Ajout du filtre par expression sur les communes (exp\u00e9rimental)</li> <li>Chargement - possibilit\u00e9 de charger seulement les couches principales</li> <li>Chargement - S\u00e9paration des \u00e9tiquettes et des donn\u00e9es en groupes &amp; d\u00e9sactivation des couches mineures</li> <li>Chargement - Mise \u00e0 jour et am\u00e9lioration des styles</li> <li>Chargement - Correction de bug sur QgsMapLayer non d\u00e9fini</li> <li>Chargement - Styles : masquage de la couche Tron\u00e7ons de routes aux petites \u00e9chelles</li> <li>Export - Ajout d'un nouveau menu pour exporter la vue courante en PDF</li> <li>Export - ajout d'une carte en 1\u00e8re page pour le relev\u00e9 parcellaire</li> <li>Export - Ouverture automatique du r\u00e9pertoire apr\u00e8s export PDF multiple</li> <li>Recherche - La recherche par commune et section utilise le lot pour \u00e9viter les doublons si plusieurs d\u00e9partements</li> <li>Serveur - Ajout de la capacit\u00e9 \"server\" pour le plugin</li> </ul>"},{"location":"CHANGELOG/#130","title":"1.3.0","text":"<ul> <li>Import - MAJIC : support du mill\u00e9sime 2015. La structure a \u00e9t\u00e9 un peu modifi\u00e9e. Il faut r\u00e9aliser l'import dans un nouveau sch\u00e9ma PostgreSQL ou une nouvelle base de donn\u00e9es Spatialite. Un script de migration de la structure est disponible pour PostgreSQL pour ceux qui pr\u00e9f\u00e8rent conserver le sch\u00e9ma actuel (faites une sauvegarde avant !) : /.qgis2/python/plugins/cadastre/scripts/plugin/updates/update_structure_postgis_from_1.2.0_to_1.3.0.sql</li> <li>Import - Ajout d'un syst\u00e8me de cr\u00e9ation des tables manquantes ( pour les mont\u00e9es de version )</li> <li>Edigeo - Ajout des objets TRONROUTE dans la table geo_tronroute</li> <li>Import - \u00c9viter l'import des parcelles EDIGEO avec un idu NULL</li> <li>Plugin - Suppression de la contrainte de version maximum de QGIS</li> </ul>"},{"location":"CHANGELOG/#120","title":"1.2.0","text":"<ul> <li>Import - Am\u00e9lioration des performances d'imports pour Spatialite</li> <li>Import - Ajout d'une option pour activer/d\u00e9sactiver la validation des g\u00e9om\u00e9tries</li> <li>Import - Suppression de l'outil de r\u00e9paration des multipolygones sur une bdd d\u00e9ja import\u00e9e (phase de transition termin\u00e9e )</li> <li>Interface - pour l'interface Cadastre, ajout des boutons WMS/WFS - fixes #53</li> <li>Export - Debogage des exports PDF vides pour la 2.8 - fixes #60</li> <li>Identification parcelle - am\u00e9lioration interne de l'outil (pas visible dans l'interface)</li> <li>Import - Prise en compte des fichiers MAJIC sans contenus dans les premi\u00e8res lignes</li> </ul>"},{"location":"CHANGELOG/#111","title":"1.1.1","text":"<ul> <li>Ajout de la compatibilit\u00e9 avec QGIS 2.8</li> </ul>"},{"location":"CHANGELOG/#110","title":"1.1.0","text":"<ul> <li>Options - Ajout du menu Vue/D\u00e9corations dans l'interface Cadastre</li> <li>Chargement - La couche Unit\u00e9s fonci\u00e8res est d\u00e9coch\u00e9e par d\u00e9faut</li> <li>Import - Ajout des scripts pyogr pour compatibilit\u00e9 QGIS 2.6</li> <li>Ajout d'une boite de dialogue d'information lors du 1er chargement. Visible via le menu Cadastre &gt; Notes de version</li> <li>Import/Recherche/Export - Modification du lien entre les parcelles EDIGEO et MAJIC (m\u00eame identifiant unique pour les 2)</li> <li>Import - exhaustivit\u00e9 des donn\u00e9es de propri\u00e9taire MAJIC - fix #47</li> <li>Import - Conserver l'orientation des symboles lors d'imports successifs - fix #46</li> <li>Import - Correction des g\u00e9om\u00e9tries invalides - fix #43</li> <li>Import - Correction des multipolygones sous Windows - fixes #44</li> <li>Info parcelle - option de filtre commune pour le relev\u00e9 de propri\u00e9t\u00e9 - fix #42</li> <li>Chargement - Ajout des TRONROUTE_ID pour les \u00e9tiquettes des noms voies - bug #40</li> <li>Chargement - Suppression des \u00e9tiquettes abb\u00e9rantes - fix #41</li> <li>Import - Ajout des unit\u00e9s fonci\u00e8res pour PostGIS (refonte de la requ\u00eate)</li> <li>Import - MAJIC : ajout de la compatibilit\u00e9 des fichiers 2014</li> <li>Import - EDIGEO : ajout de la table boulon_id</li> <li>Chargement - correction du bug #38 : minidump sous Windows</li> </ul>"},{"location":"CHANGELOG/#100","title":"1.0.0","text":"<ul> <li>Import - d\u00e9bogage import PostgreSQL sous Windows</li> <li>Recherche - Meilleure gestion de la d\u00e9sactivation des modules de recherche</li> <li>Import - MAJIC : possibilit\u00e9 de lancer l'import m\u00eame si fichiers MAJIC manquants</li> <li>Import - V\u00e9rifications sur les donn\u00e9es MAJIC avant import - bug #37</li> <li>Import - Meilleure gestion des chemins des fichiers sources</li> <li>Import - Cr\u00e9ation de bdd spatialite diff\u00e9rente selon la version de spatialite - bug #30</li> <li>Export - D\u00e9bogage de l'export PDF pour QGIS 2.4 - bug #36</li> <li>Import : MAJIC - arr\u00eat de l'import si aucun fichier trouv\u00e9</li> <li>Import - Modifications mineures d'interface</li> <li>Import - meilleure gestion des imports EDIGEO via ogr2ogr.py au lieu de ogr2ogr.exe (compatibilit\u00e9 MAC + d\u00e9tection des erreurs)</li> </ul>"},{"location":"CHANGELOG/#099","title":"0.9.9","text":"<ul> <li>Import - correction de certaines erreurs d'import des MULTIPOLYGONES (PostgreSQL et Spatialite)</li> </ul>"},{"location":"CHANGELOG/#0981","title":"0.9.8.1","text":"<ul> <li>Export - debug : suppression des 'print' dans le code</li> </ul>"},{"location":"CHANGELOG/#098","title":"0.9.8","text":"<ul> <li>Log d\u00e9taill\u00e9 : https://github.com/3liz/QgisCadastrePlugin/compare/0.9.7...0.9.8</li> <li>Export des relev\u00e9s - am\u00e9liorations de mises en forme des donn\u00e9es</li> <li>Export - propri\u00e9taires : ajout de l'\u00e9poux pour les femmes mari\u00e9es EX: MME DURAND/Sophie Yvette EP DUPONT Jean</li> <li>Export - propri\u00e9taires : d\u00e9placement des dates et lieu de naissance \u00e0 droite</li> <li>Export - Suppression des z\u00e9ros au d\u00e9but du num\u00e9ro de plan et de voirie</li> <li>Export - prop. baties : Suppression du code commune au d\u00e9but du num\u00e9ro INVAR</li> <li>Export - Sommes prop. baties : Ajout de z\u00e9ros si valeurs nulles (au lieu de cases vides)</li> <li>Export - prop. non baties : S\u00e9paration des HA A CA pour la contenance</li> <li>Export - prop. non baties : Calcul de la fraction exo si applicable</li> <li>Export - Sommes prop. non baties : Ajout de la somme des contenances</li> <li>Export - Pied de page : Ajout de la mention \"Ce document est donn\u00e9 \u00e0 titre indicatif...\"</li> <li>Export - Suppression de la mention \"Exp\u00e9rimental\"</li> <li>Import - Import des MULTI-POLYGONES et correction de donn\u00e9es existantes - bug #29</li> </ul>"},{"location":"CHANGELOG/#097","title":"0.9.7","text":"<ul> <li>Log d\u00e9taill\u00e9 : https://github.com/3liz/QgisCadastrePlugin/compare/0.9.6...0.9.7</li> <li>Documentation - ajout des liens vers la documentation en ligne - bug #3</li> <li>Export - recup\u00e9ration infos parcelles : ajout du filtre par d\u00e9partement - bug #27</li> <li>Export - correction du pourcentage exoneration pour les propri\u00e9t\u00e9s non baties - bug #26</li> <li>Import - validation pr\u00e9alable des entr\u00e9es du formulaire d'import - bug #25</li> <li>Chargement - ajout des chemins SVG cadastre sans \u00e9craser les pr\u00e9c\u00e9dents - bug #19</li> <li>Identification - debogage outil si Parcelles n'est pas la couche active</li> <li>Export - nettoyage du nom du PDF export\u00e9 pour compatibilit\u00e9 Windows - bug #23</li> <li>Import - sup contrainte de type sur surface des parcelles - bug #20</li> <li>Import - suppression de la contrainte de longueur de champ pour l'attribut tex</li> <li>Chargement - gestion d'erreur si pas de table trouv\u00e9e dans la bdd</li> <li>Recherche - correction largeur listes d\u00e9roulantes (windows) - bug #22</li> <li>Export - ouverture des PDF compatible freeBSD - bug #21</li> </ul>"},{"location":"CHANGELOG/#096","title":"0.9.6","text":"<ul> <li>Log d\u00e9taill\u00e9 : https://github.com/3liz/QgisCadastrePlugin/compare/0.9.5...0.9.6</li> <li>Import - actualisation liste des tar.bz2 apr\u00e8s d\u00e9compression de zip</li> <li>Documentation - mise \u00e0 jour</li> <li>Recherche/export - meilleurs r\u00e9sultats si fantoir non import\u00e9 - bug #18</li> <li>Export multiple - barre de progression et ouverture du dossier contenant</li> <li>Export - optimisation - bug #2</li> <li>Chargement - r\u00e9utilisation du groupe Cadastre si pr\u00e9sent - bug #14</li> <li>Identification - r\u00e9initialisation de l'outil identifier au chargement</li> <li>Spatialite - debogage base de donn\u00e9es si chemin contient des espaces - bug #17</li> <li>Recherche - adresse/propri\u00e9taire : gestion des apostrophes - bug #12</li> <li>Import - remplacement CREATE TABLE IF NOT EXISTS - bug #13</li> <li>Meilleur comportement des outils de recherche sur ouverture d'un (nouveau) projet</li> </ul>"},{"location":"CHANGELOG/#095","title":"0.9.5","text":"<ul> <li>Chargement - bug #8: pas d'erreur si pr\u00e9sence de couches plugin OpenLayers</li> <li>Recherche/Identification - r\u00e9activation des outils sur chargement d'un projet Cadastre - #9</li> <li>Recherche - Lieux : Liste des sections ordonn\u00e9es par code</li> <li>Import - correction bug Spatialite import relations (*.vec) - bug #7</li> <li>Import - Gestion des erreurs de suppression de fichier apr\u00e8s extraction - bug #5</li> <li>Import - modifications des scripts pour gestion arrondissements (ex: Marseille)</li> </ul>"},{"location":"CHANGELOG/#094","title":"0.9.4","text":"<ul> <li>Import - bouton Cr\u00e9er une base Spatialite gris\u00e9 si aucune connection dans QGIS</li> </ul>"},{"location":"CHANGELOG/#093","title":"0.9.3","text":"<ul> <li>Documentation - ajout d'une documentation (avec copies d'\u00e9cran)</li> <li>Chargement - remplacement du panneau par une fen\u00eatre</li> <li>Configurer - ajout d'un option pour le type de stockage temporaire de Spatialite</li> <li>Import - spatialite : remove disablespatialindex</li> <li>Import - Am\u00e9lioration des imports cons\u00e9cutifs (indexes, erreurs spatialites, etc.)</li> <li>Majic - import r\u00e9cursif</li> <li>G\u00e9n\u00e9ral - ajout d'un menu d'aide et r\u00e9daction de l'aide</li> <li>Import - restriction des imports \u00e0 2012 et 2013</li> <li>Export - am\u00e9lioration des calculs des sommes</li> <li>A propos - correction coquille</li> <li>Recherche/Export - gestion des propri\u00e9taires sur plusieurs communes</li> <li>About - ajout du lien vers le d\u00e9p\u00f4t Github</li> <li>A propos - modification de l'ordre des financeurs</li> </ul>"},{"location":"CHANGELOG/#092","title":"0.9.2","text":"<ul> <li>Import - suppression des indexes avant ajout Majic incr\u00e9mental</li> <li>G\u00e9n\u00e9ral - r\u00e9daction du README et metadata</li> <li>Import - am\u00e9lioration de l'import Spatialite</li> <li>A propos - ajout du remerciement aux auteurs d'OpenCadastre</li> <li>G\u00e9n\u00e9ral - affichage de la fen\u00eatre 'A propos' \u00e0 la 1\u00e8re utilisation</li> <li>Option - ajout de l'aide pour changer d'interface</li> <li>Import - am\u00e9lioration des scripts</li> <li>Import - La Direction est bloqu\u00e9e : entier entre 0 et 5</li> <li>Chargement - renommage des couches &amp;&amp; fermeture des l\u00e9gendes</li> <li>Recherche/Identification - d\u00e9sactivation des outils n\u00e9cessitant MAJIC si pas de donn\u00e9es</li> </ul>"},{"location":"CHANGELOG/#091","title":"0.9.1","text":"<ul> <li>Chargement - ajout du style Orthophoto</li> <li>Import - modification interface du choix du type de bdd</li> <li>Import - les fichiers EDIGEO non zip/tar.bz2 sont bien pris en compte</li> <li>Import - Ajout d'un bouton pour cr\u00e9er une base de donn\u00e9es Spatialite vide</li> <li>Toolbar - Ajout import/charger/recherche/about + modification ic\u00f4ne</li> <li>Styles - Classique : am\u00e9lioration tsurf</li> </ul>"},{"location":"CHANGELOG/#090","title":"0.9.0","text":"<ul> <li>Correction de r\u00e9gression de 0.8.9 : indentification parcelle et recherche propri\u00e9taire</li> </ul>"},{"location":"CHANGELOG/#089","title":"0.8.9","text":"<ul> <li>Am\u00e9lioration du support Spatialite : import, recherche, export</li> <li>General - d\u00e9sactivation Spatialite si pyspatialite non pr\u00e9sent</li> </ul>"},{"location":"CHANGELOG/#088","title":"0.8.8","text":"<ul> <li>Import - ajout d'une option pour configurer le nombre de ligne INSERT max</li> <li>Propri\u00e9taires - debug affichage vide pour les personnes morales</li> <li>Recherche - ajout des stopwords pour les natvoi</li> <li>Indentification parcelle - textes en lecture seule + code section || dnupla</li> <li>Import majic - V\u00e9rfication unicit\u00e9 des lotslocaux</li> </ul>"},{"location":"CHANGELOG/#087","title":"0.8.7","text":"<ul> <li>Export - changement du calcul du revenu cadastral non bati + num\u00e9ro voirie</li> <li>Import - possibilit\u00e9 d'importer un fichier MAJIC seul</li> <li>Import - Ajout des contraintes \u00e0 la fin d'un import MAJIC seul</li> <li>Import - modification mineure nomenclature EDIGEO</li> <li>Import - Compatibilit\u00e9 avec les fichiers MAJIC 2013</li> <li>Import MAJIC - ajout de quelques colonnes (bati, nbat)</li> <li>Export - Calcul des sommes pour bati et nbat</li> <li>Recherche/export - ajout du lieu et date de naissance pour les propri\u00e9taires</li> <li>Chargement - Cr\u00e9ation d'un groupe 'Cadastre' et chargement des couches dans ce groupe</li> <li>Chargement - mise \u00e0 jour auto des listes d\u00e9roulantes suite \u00e0 un import</li> </ul>"},{"location":"CHANGELOG/#086","title":"0.8.6","text":"<ul> <li>Recherche/Export - Ajout ccocom dans comptecommunal (d\u00e9doublonnage)</li> <li>Import - MAJI : suppression des caract\u00e8res non imprimables et de contr\u00f4le</li> </ul>"},{"location":"CHANGELOG/#085","title":"0.8.5","text":"<ul> <li>Import - debug utilisation m\u00e9moire lors de la leture des fichiers majic volumineux</li> <li>Recherche - suppression du bug si ouverture panneau avec couches hors cadastre</li> <li>Recherche/Indenfitication - Correction du Zoom/Centrer si reprojection \u00e0 la vol\u00e9e</li> <li>Recherche - adaptation remplissage table voie pour g\u00e9rer le multi-commune</li> </ul>"},{"location":"CHANGELOG/#084","title":"0.8.4","text":"<ul> <li>Import - Modification dynamique de la projection des tables edigeo</li> <li>Recherche - Am\u00e9lioration recherche d'adresse via table voie (fantoir)</li> <li>Chargement - utilisation de Times New Roman pour les \u00e9tiquettes</li> </ul>"},{"location":"CHANGELOG/#083","title":"0.8.3","text":"<ul> <li>Import - majic: suppressions de caract\u00e8res \\x00</li> <li>Import - debug Windows sur chemins vers scripts contraintes</li> </ul>"},{"location":"CHANGELOG/#082","title":"0.8.2","text":"<ul> <li>Import - debug du nom du sch\u00e9ma \"a\" pr\u00e9c\u00e9demment \u00e9crit en dur (r\u00e9gression 0.8.1)</li> <li>Import - utilisation du serial pour geo_commune, geo_parcelle et geo_section : \u00e9vite les erreurs de r\u00e9tablissement des cl\u00e9s primaires</li> </ul>"},{"location":"CHANGELOG/#081","title":"0.8.1","text":"<ul> <li>Import - possibilit\u00e9 d'import vers une base de donn\u00e9es distante</li> <li>Import - possibilit\u00e9 d'importer en plusieurs passes</li> </ul>"},{"location":"CONTRIBUTING/","title":"Contribution","text":"<p>Le projet est h\u00e9berg\u00e9 sur GitHub</p> <p>Visiter GitHub</p>"},{"location":"CONTRIBUTING/#code","title":"Code","text":"<p>Les tests unitaires sont en cours.</p> <p> </p> <pre><code>pip install -r requirements/dev.txt\nflake8\n</code></pre> <p>La variable d'environnement <code>CI=true</code> permet d'\u00e9viter certaines QMessageBox.</p> <ul> <li>Run tests in Docker</li> </ul> <pre><code>make start_tests\nmake run_tests\n# Run a custom pattern\ncd .docker/ &amp;&amp; ./exec_tests.sh test_*.py\nmake stop_tests\n\n# All in one, but slower\nmake tests\n</code></pre> <ul> <li>In your QGIS Desktop itself</li> <li>Open the QGIS console</li> </ul> <pre><code>from qgis.utils import plugins\nplugins['cadastre'].run_tests()\n\n# Custom pattern\nplugins['cadastre'].run_tests('test_*.py')\n</code></pre> <ul> <li>In your IDE, with linked QGIS library<ul> <li>Setup your <code>QGIS_PREFIX_PATH</code> etc</li> <li>Right-click on a test and launch it</li> </ul> </li> </ul>"},{"location":"CONTRIBUTING/#documentation","title":"Documentation","text":"<p>La documentation utilise MkDocs avec Material :</p> <pre><code>pip install -r requirements/doc.txt\nmkdocs serve\n</code></pre>"},{"location":"changelog/","title":"Changelog","text":""},{"location":"changelog/#changelog","title":"Changelog","text":""},{"location":"changelog/#unreleased","title":"Unreleased","text":""},{"location":"changelog/#220-2025-07-31","title":"2.2.0 - 2025-07-31","text":"<ul> <li>Import - support du mill\u00e9sime 2025</li> <li>Import - adaptation pour suivre les changements de format des fichiers TOPO</li> <li>Import - Refonte de la cr\u00e9ation et du remplissage de la table <code>parcelle_info</code>   Cela optimise les performances pour les imports multiples dans la m\u00eame base   pour de gros volumes de donn\u00e9es (ex: plusieurs d\u00e9partements)</li> <li>Import MAJIC - Meilleure d\u00e9tection des fichiers \u00e0 ne pas charger pendant l'import   (PDF, DOC, DOCX, TXT)</li> <li>Configuration - Suppression du champ TOPO en doublon</li> <li>Outil de t\u00e9l\u00e9chargement d'EDIGEO : ajout des tags cadastre &amp; lizmap</li> <li>Code - Ajout d'une variable globale pour la version maximale</li> <li>Code - Suppression de scripts SQL non utilis\u00e9s</li> <li>CI - Configuration modifi\u00e9e pour Dependabot : il tourne maintenant tous les 4 mois</li> </ul> <p>Merci \u00e0 tous les contributeurs @landryb, @MaelREBOUX, @Gustry, @Alain-LG</p>"},{"location":"changelog/#211-2025-04-24","title":"2.1.1 - 2025-04-24","text":"<ul> <li>Poursuite de la version pr\u00e9c\u00e9dente sur le support PyQt6</li> </ul>"},{"location":"changelog/#210-2025-04-24","title":"2.1.0 - 2025-04-24","text":"<ul> <li>Suppression de l'usage de <code>distutils</code> pour Python 3.12</li> <li>Ajout de <code>X-Request-Id</code> pour les logs c\u00f4t\u00e9 serveur</li> <li>Raise to QGIS 3.28 minimum version</li> <li>Add compatibility for PyQt6</li> </ul>"},{"location":"changelog/#201-2025-02-27","title":"2.0.1 - 2025-02-27","text":"<ul> <li>Ajout du financeur pour la version 2.0.0 : le CRAIG @landryb</li> </ul>"},{"location":"changelog/#200-2025-02-14","title":"2.0.0 - 2025-02-14","text":"<ul> <li>Import MAJIC - Abandon du support des fichiers FANTOIR au b\u00e9n\u00e9fice des fichiers TOPO</li> <li>Le FANTOIR n'est plus support\u00e9, m\u00eame pour des vieux mill\u00e9simes</li> <li>Le TOPO est le format utilis\u00e9 pour l'import des voies</li> <li>Certains champs dans la table des voies ne sont plus remplis par des cha\u00eenes vides     mais par des vrais <code>NULL</code>, comme par exemple <code>natvoie</code></li> <li>D\u00e9tail: https://github.com/3liz/QgisCadastrePlugin/pull/475</li> <li>Import MAJIC - les noms fichiers MAJIC ne sont plus stricts mais devin\u00e9s par le plugin</li> <li>Dans la configuration, les noms des fichiers sont maintenant des cl\u00e9s de recherche     (expressions r\u00e9guli\u00e8res). NB: Il est d\u00e9conseill\u00e9 de les modifier sans ma\u00eetriser.</li> <li>Lors de l'import, le plugin trouve automatiquement les fichiers par type en utilisant     ces cl\u00e9s de recherche.</li> <li>D\u00e9tail: https://github.com/3liz/QgisCadastrePlugin/pull/474</li> </ul>"},{"location":"changelog/#1200-2024-08-19","title":"1.20.0 - 2024-08-19","text":"<ul> <li>Correction de la recherche sur adresse avec des codes voies n'ayant pas l'identifiant MAJIC (<code>ccovoi</code>) @landryb</li> <li>Utilisation d'une URL temporaire pour les FANTOIR 2024 drive.opendata.craig.fr, @landryb</li> <li>Support du mill\u00e9sime 2024 dans le formulaire d'import, @MaelREBOUX et @EtienneRouvin</li> <li>Correction d'une faille de s\u00e9curit\u00e9 lors de l'extraction de l'archive TAR, pensez \u00e0 v\u00e9rifier votre version de Python</li> </ul>"},{"location":"changelog/#1192-2024-07-02","title":"1.19.2 - 2024-07-02","text":"<ul> <li>Correction du style par d\u00e9faut pour \u00eatre compatible avec Lizmap Web Client 3.7</li> <li>Re-factorisation du code Python sur certaines classes</li> </ul>"},{"location":"changelog/#1191-2024-03-06","title":"1.19.1 - 2024-03-06","text":"<ul> <li>Correction de l'export PDF avec une utilisation QGIS &gt; 3.30</li> </ul>"},{"location":"changelog/#1190-2023-12-14","title":"1.19.0 - 2023-12-14","text":"<ul> <li>Correction de l'import des donn\u00e9es sans les donn\u00e9es MAJIC</li> <li>Augmentation de la version minimum de QGIS \u00e0 3.22 au lieu de 3.18 qui \u00e9tait une non LTR</li> </ul>"},{"location":"changelog/#1182-2023-10-17","title":"1.18.2 - 2023-10-17","text":"<ul> <li>Utilisation du code commune de la parcelle dans parcelle_info MAJIC</li> <li>Correction des DROP d'indexes</li> <li>Correction de la cl\u00e9 primaire de la table proprietaire</li> <li>Ajout d'un index sur le champ voie de la table parcelle_info</li> <li>Import - Am\u00e9lioration des performances pour l'EDIGEO   L'import des donn\u00e9es EDIGEO via ogr2ogr n'utilisait plus l'option <code>PG_USE_COPY</code></li> </ul>"},{"location":"changelog/#1181-2023-09-27","title":"1.18.1 - 2023-09-27","text":"<ul> <li>Corrections SQL</li> </ul>"},{"location":"changelog/#1180-2023-08-02","title":"1.18.0 - 2023-08-02","text":"<ul> <li>Support du MAJIC 2023 (contribution de @landryb et @MaelREBOUX)</li> </ul>"},{"location":"changelog/#1173-2023-02-07","title":"1.17.3 - 2023-02-07","text":"<ul> <li>bugfix - La colonne RC TEOM au tableau des propri\u00e9t\u00e9s baties est le champ <code>bateom</code> et pas <code>baeteom</code></li> </ul>"},{"location":"changelog/#1172-2023-01-26","title":"1.17.2 - 2023-01-26","text":"<ul> <li>bugfix - La colonne RC TEOM au tableau des propri\u00e9t\u00e9s baties est le champ <code>baeteom</code> et pas <code>mvltieomx</code> de <code>pevtaxation</code></li> <li>bugfix - homog\u00e9n\u00e9isation des adresses de propri\u00e9taires</li> <li>Tableau des indivisions comme sous partie du tableau des propri\u00e9taires</li> <li>Indivisions pour un tiers</li> </ul>"},{"location":"changelog/#1171-2022-12-15","title":"1.17.1 - 2022-12-15","text":"<ul> <li>bugfix - Correction du compte communal abr\u00e9g\u00e9 affich\u00e9 dans les relev\u00e9s</li> <li>Ajout de la colonne RC TEOM au tableau des propri\u00e9t\u00e9s baties</li> <li>bugfix - Server - Acc\u00e8s \u00e0 la fiche HTML compl\u00e8te sans les infos sensibles des propri\u00e9taires</li> </ul>"},{"location":"changelog/#1170-2022-11-25","title":"1.17.0 - 2022-11-25","text":"<ul> <li>Server - Ajout de la carte au relev\u00e9 parcellaire</li> <li>Server - Support du relev\u00e9 parcellaire pour un tiers et r\u00e9duction de la fiche HTML</li> </ul>"},{"location":"changelog/#1161-2022-10-19","title":"1.16.1 - 2022-10-19","text":"<ul> <li>Correction d'un bug si le dossier de stockage temporaire dans les pr\u00e9f\u00e9rences n'existait plus</li> </ul>"},{"location":"changelog/#1160-2022-09-05","title":"1.16.0 - 2022-09-05","text":"<ul> <li>Export des relev\u00e9s - Ajout d'une option \"Les relev\u00e9s sont destin\u00e9s \u00e0 des tiers\"   qui permet de ne pas faire figurer la date et le lieu de naissance des propri\u00e9taires dans les PDF.</li> <li>Annulation d'une fonctionnalit\u00e9 de la version 1.14.0 concernant l'ajout automatique des noms courts.   Il y a un probl\u00e8me sur Lizmap Web Client https://github.com/3liz/lizmap-web-client/issues/2985</li> </ul>"},{"location":"changelog/#1151-2022-08-12","title":"1.15.1 - 2022-08-12","text":"<ul> <li>Identification de la parcelle (MAJIC): ajout du statut 'Parcelle b\u00e2tie' dans la fiche (issue du champ <code>gparbat</code>).   Cette modification ne n\u00e9cessite pas de r\u00e9import pour \u00eatre fonctionnelle.</li> <li>Table <code>parcelle_info</code>: ajout du champ <code>parcelle_batie</code> (Oui/Non) \u00e0 partir du champ <code>gparbat</code> (MAJIC).   Cette modification n\u00e9cessite un r\u00e9import des donn\u00e9es, ou un remplacement manuel de la table <code>parcelle_info</code>.</li> </ul>"},{"location":"changelog/#1150-2022-08-02","title":"1.15.0 - 2022-08-02","text":"<ul> <li>Support du MAJIC 2022</li> </ul>"},{"location":"changelog/#1142-2022-05-10","title":"1.14.2 - 2022-05-10","text":"<ul> <li>Correction de l'import Edigeo si les parcelles sont trop grandes (en Guyane par exemple, ticket https://github.com/3liz/QgisCadastrePlugin/issues/206)</li> <li>Correction d'une erreur Python si l'utilisateur utilise QGIS Process</li> </ul>"},{"location":"changelog/#1141-2022-03-21","title":"1.14.1 - 2022-03-21","text":"<ul> <li>Correction d'une r\u00e9gression c\u00f4t\u00e9 serveur pour le logging</li> </ul>"},{"location":"changelog/#1140-2022-03-09","title":"1.14.0 - 2022-03-09","text":"<ul> <li>Ajout de la colonne <code>contenance</code> \u00e0 la table <code>parcelle_info</code> m\u00eame lorsqu'il n'y a pas de donn\u00e9es MAJIC</li> <li>Correction de la recherche par propri\u00e9taire lorsque le sch\u00e9ma Postgres n\u00e9cessite des doubles quotes</li> <li>Ajout d'une cl\u00e9 primaire \u00e0 la table <code>geo_label</code></li> <li>Modification de la cl\u00e9 primaire de la table <code>geo_batiment</code> et <code>geo_subdsect</code> pour \u00eatre de type entier</li> <li>Ajout des noms courts sur les couches et les groupes pour rendre le projet valide par d\u00e9faut lors d'une publication   sur Lizmap</li> <li>Refactorisation du code c\u00f4t\u00e9 QGIS Serveur</li> <li>Mise \u00e0 jour de https://docs.3liz.org</li> </ul>"},{"location":"changelog/#1135-2021-12-14","title":"1.13.5 - 2021-12-14","text":"<ul> <li>Am\u00e9lioration du message d'erreur sur le fichier n'est pas \u00eatre d\u00e9compress\u00e9, ticket #339</li> <li>Correction de la table <code>commune_majic</code> pour les mill\u00e9simes 2019 \u00e0 2021, ticket #333</li> </ul>"},{"location":"changelog/#1134-2021-12-06","title":"1.13.4 - 2021-12-06","text":"<ul> <li>Ajout du financeur de la m\u00e9tropole de Clermont-Ferrand</li> <li>Correction d'une r\u00e9gression suite \u00e0 la version 1.13.3 sur les champs <code>*_bipevla</code></li> </ul>"},{"location":"changelog/#1133-2021-11-18","title":"1.13.3 - 2021-11-18","text":"<ul> <li>Corrections orthographiques</li> <li>Correction sur les \"Locaux : Informations d\u00e9taill\u00e9es\"</li> <li>Correction des exports PDF depuis le panneau de recherche</li> <li>Am\u00e9lioration du message d'erreur s'il n'y a pas assez de m\u00e9moire sur l'ordinateur</li> <li>Am\u00e9lioration de la documentation concernant les param\u00e8tres au niveau global de l'extension</li> </ul>"},{"location":"changelog/#1132-2021-08-25","title":"1.13.2 - 2021-08-25","text":"<ul> <li>Mise \u00e0 jour de https://docs.3liz.org/QgisCadastrePlugin/ pour les financeurs de l'extension</li> <li>Correction d'une erreur si l'extension est utilis\u00e9e pour la premi\u00e8re fois</li> <li>Correction d'une erreur possible pour ouvrir les fichiers en UTF-8 par d\u00e9faut</li> </ul>"},{"location":"changelog/#1131-2021-08-10","title":"1.13.1 - 2021-08-10","text":"<ul> <li>Correction d'un chemin dans le script standalone concernant l'export</li> </ul>"},{"location":"changelog/#1130-2021-08-10","title":"1.13.0 - 2021-08-10","text":"<ul> <li>Ajout du support MAJIC 2021 (Contribution de Ma\u00ebl Reboux)</li> <li>Refactorisation du code interne \u00e0 l'extension</li> <li>Mise \u00e0 jour de la documentation https://docs.3liz.org/QgisCadastrePlugin/</li> </ul>"},{"location":"changelog/#1121-2021-06-24","title":"1.12.1 - 2021-06-24","text":"<ul> <li>Correction du chargement de l'extension avec QGIS &lt; 3.10</li> </ul>"},{"location":"changelog/#1120-2021-06-21","title":"1.12.0 - 2021-06-21","text":"<ul> <li>Correction de l'export propri\u00e9taire \u00e0 une commune</li> <li>Mise \u00e0 jour de la documentation sur le module Lizmap</li> </ul>"},{"location":"changelog/#1111-2021-06-01","title":"1.11.1 - 2021-06-01","text":"<ul> <li>Sauvegarde et restoration des param\u00e8tres de la derni\u00e8re base utilis\u00e9e dans l'interface graphique</li> </ul>"},{"location":"changelog/#1110-2021-05-21","title":"1.11.0 - 2021-05-21","text":"<ul> <li>Correction d'un espace dans l'adresse dans les propri\u00e9t\u00e9s baties, non baties</li> <li>Correction d'une erreur SQL lors de la consultation des infos parcelle sur QGIS 3.16 bureautique et serveur</li> <li>Ajout du support QGIS 3.16</li> <li>Ajout d'un bouton pour ouvrir l'aide depuis le menu principal d'aide de QGIS</li> <li>Ajout de la recherche d'un propri\u00e9taire</li> <li>par nom d'usage ou de naissance</li> <li>par ville</li> <li>Ajout d'un t\u00e9l\u00e9chargeur Edig\u00e9o communal dans la boite \u00e0 outils Processing</li> <li>Documentation https://docs.3liz.org/QgisCadastrePlugin/</li> <li>Mise de la documentation au format MkDocs</li> <li>Int\u00e9gration de la documentation du module Lizmap</li> <li>Ajout de la documentation automatique concernant les traitements Processing</li> <li>Ajout de la documentation concernant la base de donn\u00e9es avec Sch\u00e9maSpy</li> <li>Ajout d'une infrastructure de tests</li> </ul>"},{"location":"changelog/#1102-2020-12-10","title":"1.10.2 - 2020-12-10","text":"<ul> <li>Correction sur la documentation</li> <li>Ajout d'une table de mati\u00e8res sur https://docs.3liz.org/QgisCadastrePlugin/</li> <li>Afficher un message dans les logs si un fichier SQLite est manquant</li> <li>Pr\u00e9venir l'utilisateur sur les fichiers bz2 lors de l'import des fichiers \u00c9dig\u00e9o.</li> </ul>"},{"location":"changelog/#1101-2020-11-05","title":"1.10.1 - 2020-11-05","text":"<ul> <li>Ajout de la documentation de la base de donn\u00e9es sur https://docs.3liz.org/QgisCadastrePlugin/</li> <li>Petites corrections sur la publication de l'extension</li> </ul>"},{"location":"changelog/#1100-2020-11-04","title":"1.10.0 - 2020-11-04","text":"<ul> <li>Import - Optimisation de l'import Spatialite et de l'affichage du temps pass\u00e9</li> <li>Ajout de l'extraction de d\u00e9tails sur les propri\u00e9taires (indivisions)</li> <li>Widget \"Outils de Recherche\" : Ajout du bouton Infos parcelle</li> <li>Dialogue \"infos parcelle\" : Ajout des actions imprimer / copier /sauvegarder des infos des onglets</li> <li>R\u00e9vision barre d'outils (position actions) et r\u00e9\u00e9criture code menu / barre d'outils</li> <li>Fix - bug connexion (relev\u00e9 parcellaire, premi\u00e8re instanciation)</li> </ul>"},{"location":"changelog/#190-2020-09-07","title":"1.9.0 - 2020-09-07","text":"<ul> <li>Documentation<ul> <li>Support de QGIS 3.10 LTR #240</li> <li>Pr\u00e9cisions sur les versions PostgreSQL et PostGIS support\u00e9es</li> </ul> </li> <li>Support du mill\u00e9sime MAJIC 2020 #239</li> <li>Am\u00e9liorations et corrections<ul> <li>Suppression des doublons de communes et de sections dans les donn\u00e9es EDIGEO #196</li> <li>Unit\u00e9s fonci\u00e8res : suppression des enregistrements sans comptes communaux #221</li> <li>Correction d'un bogue dans l'affichage des informations d'une parcelle si le nom de la voie est nul #207</li> <li>Correction d'un bogue affectant le chargement de la couche des parcelles si on utilise du filtrage sur le code de commune #229</li> <li>Maintenance sur le code Python</li> </ul> </li> </ul>"},{"location":"changelog/#181-2019-10-21","title":"1.8.1 - 2019-10-21","text":"<p>Corrections de bugs essentiellement</p> <ul> <li>Import - EDIGEO: am\u00e9lioration des performances geo_batiment_parcelle</li> <li>Import - MAJIC: correction bug d'encodage</li> <li>Import MAJIC - garder vexen pour compatibilit\u00e9 Spatialite</li> <li>Spatialite - Correction des identifiants parcelle, voie et local00 dans la table local10</li> <li>Fiche parcellaire - r\u00e9sum\u00e9: ajout de coalesce sur l'adresse</li> <li>[BUGFIX] Use of QgsMapLayer.VectorLayer in getLayerFromLegendByTableProps</li> <li>suppression de code sp\u00e9cifique QGIS 2</li> <li>Cr\u00e9ation couche parcelle_info OK</li> </ul>"},{"location":"changelog/#180-2019-09-20","title":"1.8.0 - 2019-09-20","text":"<p>IMPORTANT \u00c0 partir de cette version seule la version QGIS LTR sera support\u00e9e. Pour cette version il s'agit de la version 3.4.x</p> <p>Nouveaut\u00e9s:</p> <ul> <li>Prise en charge des \u00e9volutions MAJIC 2019 (voir #192 pour les d\u00e9tails). Noter la cr\u00e9ation de 2 nouvelles tables.</li> <li>Pr\u00e9cisions sur les versions QGIS, PostgreSQL / PostGIS et Spatialite support\u00e9es (#197)</li> <li>Mise \u00e0 jour de la documentation de la structure de la base de donn\u00e9es (#204)</li> </ul>"},{"location":"changelog/#171-2019-06-06","title":"1.7.1 - 2019-06-06","text":"<ul> <li>Refactorize code for server and Qgis 3+</li> <li>Ajouts et mises \u00e0 jour de tables domaine</li> <li>Correction valeur compte communal</li> <li>Ajout inspireid</li> <li>Am\u00e9lioration de plugin Server</li> <li>Nouvelle table de nomenclature natvoi</li> <li>Correction identifiants</li> <li>trim code de nature de voie</li> <li>[Serveur] Add GetCapabilities method to server CADASTRE service</li> <li>Creation d'un provider QgsProcessing</li> </ul>"},{"location":"changelog/#170","title":"1.7.0","text":"<ul> <li>Fiche parcellaire - Ajout des informations des propri\u00e9taires, subdivisions et locaux</li> <li>Fiche parcelle - Ajout de la surface spatiale b\u00e2tie</li> <li>Export (version QGIS 2): Ajout d'un script python pour exporter les relev\u00e9s PDF via ligne de commande</li> <li>Fix - G\u00e9n\u00e9ral: Am\u00e9lioration de la r\u00e9cup\u00e9ration d'informations sur les couches (h\u00f4te, base de donn\u00e9es, etc.)</li> <li>Fix - Import: Suppression de table temporaire ll si besoin</li> <li>Fix - Export: relev\u00e9 de propri\u00e9t\u00e9: d\u00e9doublonnage des comptes communaux export\u00e9s en PDF</li> <li>Fix - Correction d'un bug d'encodage</li> <li>Divers - Ajout des derniers financeurs dans le dialogue \"A propos\"</li> </ul>"},{"location":"changelog/#162","title":"1.6.2","text":"<ul> <li>G\u00e9n\u00e9ral - suppression de code inutile suite \u00e0 la migration QGIS3</li> <li>Import - Correction de parcelles en doublons d\u00fb au lien avec geo_subdsect</li> <li>Export PDF - Correction d'un bug et restauration de l'affichage des propri\u00e9taires</li> </ul>"},{"location":"changelog/#161","title":"1.6.1","text":"<ul> <li>Correction de bug sur l'interrogation de propri\u00e9taire suite \u00e0 la gestion des dates en texte</li> <li>Correction d'un bug d'encodage sur message d'erreur de requ\u00eate SQL</li> <li>Import - Utilisation d'entiers longs pour les surfaces de parcelle_info (corrige le bug pour les tr\u00e8s grandes parcelles)</li> <li>Import - Ajout du support du mill\u00e9sime 2018</li> </ul>"},{"location":"changelog/#160","title":"1.6.0","text":"<ul> <li>Compatibilit\u00e9 du plugin avec QGIS 3. Les version compatibles avec QGIS 2 seront des versions de correction uniquement, avec un num\u00e9ro en 1.5.*</li> </ul>"},{"location":"changelog/#152","title":"1.5.2","text":"<ul> <li>Import - Transformation des champs date en texte pour le MAJIC, par respect de la donn\u00e9e source</li> <li>Correction d'un bug de la 1.5.1 avec QFileDialog, QFileInfo et BaseError manquant</li> </ul>"},{"location":"changelog/#151","title":"1.5.1","text":"<ul> <li>Import - MAJIC : correction de bug si dates mauvaises (30 f\u00e9v par ex)</li> <li>Import - Support partiel des donn\u00e9es EDIGEO en projection IGNF</li> <li>Import - Correction d'un bug de non remplissage des parcelles si correspondance geo_subdsect manquant</li> <li>Import - EDIGEO : conversion en date des champs de geo_subdsect seulement si format correct #120</li> </ul>"},{"location":"changelog/#150","title":"1.5.0","text":"<ul> <li>Chargement - Ajout de couches via requ\u00eate SQL</li> <li>Import - Ajout de la nomenclature pour ccocac</li> <li>Import - Correction sur la table pivot geo_batiment_parcelle: restriction par intersection</li> <li>Rechercher - D\u00e9placement de la recherche d'adresse sous celle par parcelle</li> <li>Chargement - correction d'un bug sur l'ajout dans les groupes Cadastre</li> <li>Import - Ajout du support de MAJIC 2017</li> <li>Recherche - Support de l'autocompl\u00e9tion pour les adresses et les propri\u00e9taires</li> <li>Recherche - Int\u00e9gration des adresses dans la recherche de lieux</li> <li>Import - Correction du bug de r\u00e9cup\u00e9ration des propri\u00e9t\u00e9s b\u00e2ties</li> <li>Import/Identification - contournement du bug d'encodage sur requ\u00eate pour QGIS 2.18.10 et &gt;</li> <li>Identification - correction du bug sur chargement de projet QGIS</li> <li>Import - Majic : import des propri\u00e9taires si et seulement si dnupro est non vide</li> <li>Import - Lieudits: utilisation de tous les champs tex</li> <li>Recherche - R\u00e9application de l'ordre dans les listes d\u00e9roulantes (sections, parcelles)</li> <li>BDD - Possibilit\u00e9 de se connecter avec un connexion utilisant un service PostgreSQL</li> </ul>"},{"location":"changelog/#141","title":"1.4.1","text":"<ul> <li>Import/Chargement - correction de bug pour Spatialite sur g\u00e9n\u00e9ration parcelle_info</li> </ul>"},{"location":"changelog/#140","title":"1.4.0","text":"<ul> <li>Menu - Suppression du menu Cadastre et d\u00e9placement dans le menu Extensions</li> <li>Barre d'outil - Modification de l'ic\u00f4ne d'identification (merci @pasqual )</li> <li>Structure bdd - G\u00e9n\u00e9ralisation des codes d\u00e9partements et direction dans les identifiants</li> <li>Structure bdd - Parcelles: consolidation des infos propri\u00e9taires dans une nouvelle table parcelle_info</li> <li>Import - Correction d'un bug de remplissage de geo_sym si ptcanv_id.sym est NULL</li> <li>Import - MAJIC: Filtrage des donn\u00e9es import\u00e9es selon d\u00e9partement et direction: on peut utiliser le fichier FANTOIR national</li> <li>Import - Ajout du support de MAJIC 2016</li> <li>Import - Edigeo : am\u00e9lioration de la jointure de geo_parcelle ave geo_subdsect</li> <li>Import - Correction des doublons sur les parcelles (dus au lien geo_subdsect)</li> <li>Import - Edigeo: am\u00e9lioration des performances pour tpoint, tline, tsurf</li> <li>Import - Augmentation de la limite max pour le code direction - fixes #94</li> <li>Import - Utilisation directe des fichiers sources sans copie pr\u00e9alable</li> <li>Import - Suppression des contraintes de taille dans les champs</li> <li>Import - D\u00e9placement des scripts SQL d'import et nettoyage</li> <li>Import - Fantoir recommand\u00e9 lors de l'import MAJIC &amp;&amp; lien de t\u00e9l\u00e9chargement ajout\u00e9</li> <li>Import - Correction des parcelles dupliqu\u00e9es si plusieurs sous-sections</li> <li>Import - correction du bug emp\u00eachant la cr\u00e9ation de base sqlite sous 2.16 - #83</li> <li>Chargement - Ajout du filtre par expression sur les communes (exp\u00e9rimental)</li> <li>Chargement - possibilit\u00e9 de charger seulement les couches principales</li> <li>Chargement - S\u00e9paration des \u00e9tiquettes et des donn\u00e9es en groupes &amp; d\u00e9sactivation des couches mineures</li> <li>Chargement - Mise \u00e0 jour et am\u00e9lioration des styles</li> <li>Chargement - Correction de bug sur QgsMapLayer non d\u00e9fini</li> <li>Chargement - Styles : masquage de la couche Tron\u00e7ons de routes aux petites \u00e9chelles</li> <li>Export - Ajout d'un nouveau menu pour exporter la vue courante en PDF</li> <li>Export - ajout d'une carte en 1\u00e8re page pour le relev\u00e9 parcellaire</li> <li>Export - Ouverture automatique du r\u00e9pertoire apr\u00e8s export PDF multiple</li> <li>Recherche - La recherche par commune et section utilise le lot pour \u00e9viter les doublons si plusieurs d\u00e9partements</li> <li>Serveur - Ajout de la capacit\u00e9 \"server\" pour le plugin</li> </ul>"},{"location":"changelog/#130","title":"1.3.0","text":"<ul> <li>Import - MAJIC : support du mill\u00e9sime 2015. La structure a \u00e9t\u00e9 un peu modifi\u00e9e. Il faut r\u00e9aliser l'import dans un nouveau sch\u00e9ma PostgreSQL ou une nouvelle base de donn\u00e9es Spatialite. Un script de migration de la structure est disponible pour PostgreSQL pour ceux qui pr\u00e9f\u00e8rent conserver le sch\u00e9ma actuel (faites une sauvegarde avant !) : /.qgis2/python/plugins/cadastre/scripts/plugin/updates/update_structure_postgis_from_1.2.0_to_1.3.0.sql</li> <li>Import - Ajout d'un syst\u00e8me de cr\u00e9ation des tables manquantes ( pour les mont\u00e9es de version )</li> <li>Edigeo - Ajout des objets TRONROUTE dans la table geo_tronroute</li> <li>Import - \u00c9viter l'import des parcelles EDIGEO avec un idu NULL</li> <li>Plugin - Suppression de la contrainte de version maximum de QGIS</li> </ul>"},{"location":"changelog/#120","title":"1.2.0","text":"<ul> <li>Import - Am\u00e9lioration des performances d'imports pour Spatialite</li> <li>Import - Ajout d'une option pour activer/d\u00e9sactiver la validation des g\u00e9om\u00e9tries</li> <li>Import - Suppression de l'outil de r\u00e9paration des multipolygones sur une bdd d\u00e9ja import\u00e9e (phase de transition termin\u00e9e )</li> <li>Interface - pour l'interface Cadastre, ajout des boutons WMS/WFS - fixes #53</li> <li>Export - Debogage des exports PDF vides pour la 2.8 - fixes #60</li> <li>Identification parcelle - am\u00e9lioration interne de l'outil (pas visible dans l'interface)</li> <li>Import - Prise en compte des fichiers MAJIC sans contenus dans les premi\u00e8res lignes</li> </ul>"},{"location":"changelog/#111","title":"1.1.1","text":"<ul> <li>Ajout de la compatibilit\u00e9 avec QGIS 2.8</li> </ul>"},{"location":"changelog/#110","title":"1.1.0","text":"<ul> <li>Options - Ajout du menu Vue/D\u00e9corations dans l'interface Cadastre</li> <li>Chargement - La couche Unit\u00e9s fonci\u00e8res est d\u00e9coch\u00e9e par d\u00e9faut</li> <li>Import - Ajout des scripts pyogr pour compatibilit\u00e9 QGIS 2.6</li> <li>Ajout d'une boite de dialogue d'information lors du 1er chargement. Visible via le menu Cadastre &gt; Notes de version</li> <li>Import/Recherche/Export - Modification du lien entre les parcelles EDIGEO et MAJIC (m\u00eame identifiant unique pour les 2)</li> <li>Import - exhaustivit\u00e9 des donn\u00e9es de propri\u00e9taire MAJIC - fix #47</li> <li>Import - Conserver l'orientation des symboles lors d'imports successifs - fix #46</li> <li>Import - Correction des g\u00e9om\u00e9tries invalides - fix #43</li> <li>Import - Correction des multipolygones sous Windows - fixes #44</li> <li>Info parcelle - option de filtre commune pour le relev\u00e9 de propri\u00e9t\u00e9 - fix #42</li> <li>Chargement - Ajout des TRONROUTE_ID pour les \u00e9tiquettes des noms voies - bug #40</li> <li>Chargement - Suppression des \u00e9tiquettes abb\u00e9rantes - fix #41</li> <li>Import - Ajout des unit\u00e9s fonci\u00e8res pour PostGIS (refonte de la requ\u00eate)</li> <li>Import - MAJIC : ajout de la compatibilit\u00e9 des fichiers 2014</li> <li>Import - EDIGEO : ajout de la table boulon_id</li> <li>Chargement - correction du bug #38 : minidump sous Windows</li> </ul>"},{"location":"changelog/#100","title":"1.0.0","text":"<ul> <li>Import - d\u00e9bogage import PostgreSQL sous Windows</li> <li>Recherche - Meilleure gestion de la d\u00e9sactivation des modules de recherche</li> <li>Import - MAJIC : possibilit\u00e9 de lancer l'import m\u00eame si fichiers MAJIC manquants</li> <li>Import - V\u00e9rifications sur les donn\u00e9es MAJIC avant import - bug #37</li> <li>Import - Meilleure gestion des chemins des fichiers sources</li> <li>Import - Cr\u00e9ation de bdd spatialite diff\u00e9rente selon la version de spatialite - bug #30</li> <li>Export - D\u00e9bogage de l'export PDF pour QGIS 2.4 - bug #36</li> <li>Import : MAJIC - arr\u00eat de l'import si aucun fichier trouv\u00e9</li> <li>Import - Modifications mineures d'interface</li> <li>Import - meilleure gestion des imports EDIGEO via ogr2ogr.py au lieu de ogr2ogr.exe (compatibilit\u00e9 MAC + d\u00e9tection des erreurs)</li> </ul>"},{"location":"changelog/#099","title":"0.9.9","text":"<ul> <li>Import - correction de certaines erreurs d'import des MULTIPOLYGONES (PostgreSQL et Spatialite)</li> </ul>"},{"location":"changelog/#0981","title":"0.9.8.1","text":"<ul> <li>Export - debug : suppression des 'print' dans le code</li> </ul>"},{"location":"changelog/#098","title":"0.9.8","text":"<ul> <li>Log d\u00e9taill\u00e9 : https://github.com/3liz/QgisCadastrePlugin/compare/0.9.7...0.9.8</li> <li>Export des relev\u00e9s - am\u00e9liorations de mises en forme des donn\u00e9es</li> <li>Export - propri\u00e9taires : ajout de l'\u00e9poux pour les femmes mari\u00e9es EX: MME DURAND/Sophie Yvette EP DUPONT Jean</li> <li>Export - propri\u00e9taires : d\u00e9placement des dates et lieu de naissance \u00e0 droite</li> <li>Export - Suppression des z\u00e9ros au d\u00e9but du num\u00e9ro de plan et de voirie</li> <li>Export - prop. baties : Suppression du code commune au d\u00e9but du num\u00e9ro INVAR</li> <li>Export - Sommes prop. baties : Ajout de z\u00e9ros si valeurs nulles (au lieu de cases vides)</li> <li>Export - prop. non baties : S\u00e9paration des HA A CA pour la contenance</li> <li>Export - prop. non baties : Calcul de la fraction exo si applicable</li> <li>Export - Sommes prop. non baties : Ajout de la somme des contenances</li> <li>Export - Pied de page : Ajout de la mention \"Ce document est donn\u00e9 \u00e0 titre indicatif...\"</li> <li>Export - Suppression de la mention \"Exp\u00e9rimental\"</li> <li>Import - Import des MULTI-POLYGONES et correction de donn\u00e9es existantes - bug #29</li> </ul>"},{"location":"changelog/#097","title":"0.9.7","text":"<ul> <li>Log d\u00e9taill\u00e9 : https://github.com/3liz/QgisCadastrePlugin/compare/0.9.6...0.9.7</li> <li>Documentation - ajout des liens vers la documentation en ligne - bug #3</li> <li>Export - recup\u00e9ration infos parcelles : ajout du filtre par d\u00e9partement - bug #27</li> <li>Export - correction du pourcentage exoneration pour les propri\u00e9t\u00e9s non baties - bug #26</li> <li>Import - validation pr\u00e9alable des entr\u00e9es du formulaire d'import - bug #25</li> <li>Chargement - ajout des chemins SVG cadastre sans \u00e9craser les pr\u00e9c\u00e9dents - bug #19</li> <li>Identification - debogage outil si Parcelles n'est pas la couche active</li> <li>Export - nettoyage du nom du PDF export\u00e9 pour compatibilit\u00e9 Windows - bug #23</li> <li>Import - sup contrainte de type sur surface des parcelles - bug #20</li> <li>Import - suppression de la contrainte de longueur de champ pour l'attribut tex</li> <li>Chargement - gestion d'erreur si pas de table trouv\u00e9e dans la bdd</li> <li>Recherche - correction largeur listes d\u00e9roulantes (windows) - bug #22</li> <li>Export - ouverture des PDF compatible freeBSD - bug #21</li> </ul>"},{"location":"changelog/#096","title":"0.9.6","text":"<ul> <li>Log d\u00e9taill\u00e9 : https://github.com/3liz/QgisCadastrePlugin/compare/0.9.5...0.9.6</li> <li>Import - actualisation liste des tar.bz2 apr\u00e8s d\u00e9compression de zip</li> <li>Documentation - mise \u00e0 jour</li> <li>Recherche/export - meilleurs r\u00e9sultats si fantoir non import\u00e9 - bug #18</li> <li>Export multiple - barre de progression et ouverture du dossier contenant</li> <li>Export - optimisation - bug #2</li> <li>Chargement - r\u00e9utilisation du groupe Cadastre si pr\u00e9sent - bug #14</li> <li>Identification - r\u00e9initialisation de l'outil identifier au chargement</li> <li>Spatialite - debogage base de donn\u00e9es si chemin contient des espaces - bug #17</li> <li>Recherche - adresse/propri\u00e9taire : gestion des apostrophes - bug #12</li> <li>Import - remplacement CREATE TABLE IF NOT EXISTS - bug #13</li> <li>Meilleur comportement des outils de recherche sur ouverture d'un (nouveau) projet</li> </ul>"},{"location":"changelog/#095","title":"0.9.5","text":"<ul> <li>Chargement - bug #8: pas d'erreur si pr\u00e9sence de couches plugin OpenLayers</li> <li>Recherche/Identification - r\u00e9activation des outils sur chargement d'un projet Cadastre - #9</li> <li>Recherche - Lieux : Liste des sections ordonn\u00e9es par code</li> <li>Import - correction bug Spatialite import relations (*.vec) - bug #7</li> <li>Import - Gestion des erreurs de suppression de fichier apr\u00e8s extraction - bug #5</li> <li>Import - modifications des scripts pour gestion arrondissements (ex: Marseille)</li> </ul>"},{"location":"changelog/#094","title":"0.9.4","text":"<ul> <li>Import - bouton Cr\u00e9er une base Spatialite gris\u00e9 si aucune connection dans QGIS</li> </ul>"},{"location":"changelog/#093","title":"0.9.3","text":"<ul> <li>Documentation - ajout d'une documentation (avec copies d'\u00e9cran)</li> <li>Chargement - remplacement du panneau par une fen\u00eatre</li> <li>Configurer - ajout d'un option pour le type de stockage temporaire de Spatialite</li> <li>Import - spatialite : remove disablespatialindex</li> <li>Import - Am\u00e9lioration des imports cons\u00e9cutifs (indexes, erreurs spatialites, etc.)</li> <li>Majic - import r\u00e9cursif</li> <li>G\u00e9n\u00e9ral - ajout d'un menu d'aide et r\u00e9daction de l'aide</li> <li>Import - restriction des imports \u00e0 2012 et 2013</li> <li>Export - am\u00e9lioration des calculs des sommes</li> <li>A propos - correction coquille</li> <li>Recherche/Export - gestion des propri\u00e9taires sur plusieurs communes</li> <li>About - ajout du lien vers le d\u00e9p\u00f4t Github</li> <li>A propos - modification de l'ordre des financeurs</li> </ul>"},{"location":"changelog/#092","title":"0.9.2","text":"<ul> <li>Import - suppression des indexes avant ajout Majic incr\u00e9mental</li> <li>G\u00e9n\u00e9ral - r\u00e9daction du README et metadata</li> <li>Import - am\u00e9lioration de l'import Spatialite</li> <li>A propos - ajout du remerciement aux auteurs d'OpenCadastre</li> <li>G\u00e9n\u00e9ral - affichage de la fen\u00eatre 'A propos' \u00e0 la 1\u00e8re utilisation</li> <li>Option - ajout de l'aide pour changer d'interface</li> <li>Import - am\u00e9lioration des scripts</li> <li>Import - La Direction est bloqu\u00e9e : entier entre 0 et 5</li> <li>Chargement - renommage des couches &amp;&amp; fermeture des l\u00e9gendes</li> <li>Recherche/Identification - d\u00e9sactivation des outils n\u00e9cessitant MAJIC si pas de donn\u00e9es</li> </ul>"},{"location":"changelog/#091","title":"0.9.1","text":"<ul> <li>Chargement - ajout du style Orthophoto</li> <li>Import - modification interface du choix du type de bdd</li> <li>Import - les fichiers EDIGEO non zip/tar.bz2 sont bien pris en compte</li> <li>Import - Ajout d'un bouton pour cr\u00e9er une base de donn\u00e9es Spatialite vide</li> <li>Toolbar - Ajout import/charger/recherche/about + modification ic\u00f4ne</li> <li>Styles - Classique : am\u00e9lioration tsurf</li> </ul>"},{"location":"changelog/#090","title":"0.9.0","text":"<ul> <li>Correction de r\u00e9gression de 0.8.9 : indentification parcelle et recherche propri\u00e9taire</li> </ul>"},{"location":"changelog/#089","title":"0.8.9","text":"<ul> <li>Am\u00e9lioration du support Spatialite : import, recherche, export</li> <li>General - d\u00e9sactivation Spatialite si pyspatialite non pr\u00e9sent</li> </ul>"},{"location":"changelog/#088","title":"0.8.8","text":"<ul> <li>Import - ajout d'une option pour configurer le nombre de ligne INSERT max</li> <li>Propri\u00e9taires - debug affichage vide pour les personnes morales</li> <li>Recherche - ajout des stopwords pour les natvoi</li> <li>Indentification parcelle - textes en lecture seule + code section || dnupla</li> <li>Import majic - V\u00e9rfication unicit\u00e9 des lotslocaux</li> </ul>"},{"location":"changelog/#087","title":"0.8.7","text":"<ul> <li>Export - changement du calcul du revenu cadastral non bati + num\u00e9ro voirie</li> <li>Import - possibilit\u00e9 d'importer un fichier MAJIC seul</li> <li>Import - Ajout des contraintes \u00e0 la fin d'un import MAJIC seul</li> <li>Import - modification mineure nomenclature EDIGEO</li> <li>Import - Compatibilit\u00e9 avec les fichiers MAJIC 2013</li> <li>Import MAJIC - ajout de quelques colonnes (bati, nbat)</li> <li>Export - Calcul des sommes pour bati et nbat</li> <li>Recherche/export - ajout du lieu et date de naissance pour les propri\u00e9taires</li> <li>Chargement - Cr\u00e9ation d'un groupe 'Cadastre' et chargement des couches dans ce groupe</li> <li>Chargement - mise \u00e0 jour auto des listes d\u00e9roulantes suite \u00e0 un import</li> </ul>"},{"location":"changelog/#086","title":"0.8.6","text":"<ul> <li>Recherche/Export - Ajout ccocom dans comptecommunal (d\u00e9doublonnage)</li> <li>Import - MAJI : suppression des caract\u00e8res non imprimables et de contr\u00f4le</li> </ul>"},{"location":"changelog/#085","title":"0.8.5","text":"<ul> <li>Import - debug utilisation m\u00e9moire lors de la leture des fichiers majic volumineux</li> <li>Recherche - suppression du bug si ouverture panneau avec couches hors cadastre</li> <li>Recherche/Indenfitication - Correction du Zoom/Centrer si reprojection \u00e0 la vol\u00e9e</li> <li>Recherche - adaptation remplissage table voie pour g\u00e9rer le multi-commune</li> </ul>"},{"location":"changelog/#084","title":"0.8.4","text":"<ul> <li>Import - Modification dynamique de la projection des tables edigeo</li> <li>Recherche - Am\u00e9lioration recherche d'adresse via table voie (fantoir)</li> <li>Chargement - utilisation de Times New Roman pour les \u00e9tiquettes</li> </ul>"},{"location":"changelog/#083","title":"0.8.3","text":"<ul> <li>Import - majic: suppressions de caract\u00e8res \\x00</li> <li>Import - debug Windows sur chemins vers scripts contraintes</li> </ul>"},{"location":"changelog/#082","title":"0.8.2","text":"<ul> <li>Import - debug du nom du sch\u00e9ma \"a\" pr\u00e9c\u00e9demment \u00e9crit en dur (r\u00e9gression 0.8.1)</li> <li>Import - utilisation du serial pour geo_commune, geo_parcelle et geo_section : \u00e9vite les erreurs de r\u00e9tablissement des cl\u00e9s primaires</li> </ul>"},{"location":"changelog/#081","title":"0.8.1","text":"<ul> <li>Import - possibilit\u00e9 d'import vers une base de donn\u00e9es distante</li> <li>Import - possibilit\u00e9 d'importer en plusieurs passes</li> </ul>"},{"location":"contributing/","title":"Contribution","text":""},{"location":"contributing/#contribution","title":"Contribution","text":"<p>Le projet est h\u00e9berg\u00e9 sur GitHub</p> <p>Visiter GitHub</p>"},{"location":"contributing/#code","title":"Code","text":"<p>Les tests unitaires sont en cours.</p> <p> </p> <pre><code>pip install -r requirements/dev.txt\nflake8\n</code></pre> <p>La variable d'environnement <code>CI=true</code> permet d'\u00e9viter certaines QMessageBox.</p> <ul> <li>Run tests in Docker</li> </ul> <pre><code>make start_tests\nmake run_tests\n# Run a custom pattern\ncd .docker/ &amp;&amp; ./exec_tests.sh test_*.py\nmake stop_tests\n\n# All in one, but slower\nmake tests\n</code></pre> <ul> <li>In your QGIS Desktop itself</li> <li>Open the QGIS console</li> </ul> <pre><code>from qgis.utils import plugins\nplugins['cadastre'].run_tests()\n\n# Custom pattern\nplugins['cadastre'].run_tests('test_*.py')\n</code></pre> <ul> <li>In your IDE, with linked QGIS library<ul> <li>Setup your <code>QGIS_PREFIX_PATH</code> etc</li> <li>Right-click on a test and launch it</li> </ul> </li> </ul>"},{"location":"contributing/#documentation","title":"Documentation","text":"<p>La documentation utilise MkDocs avec Material :</p> <pre><code>pip install -r requirements/doc.txt\nmkdocs serve\n</code></pre>"},{"location":"extension-qgis/charger/","title":"Charger des donn\u00e9es","text":"<p>Une fois les donn\u00e9es import\u00e9es dans la base, vous pouvez les importer dans QGIS via le menu  Charger les donn\u00e9es.</p> <p></p>"},{"location":"extension-qgis/charger/#base-de-donnees-de-travail","title":"Base de donn\u00e9es de travail","text":"<p>Il faut d'abord indiquer au plugin o\u00f9 r\u00e9cup\u00e9rer les donn\u00e9es :</p> <ul> <li>Choisir le type de base de donn\u00e9es</li> <li>Choisir ensuite la connexion vers la base de donn\u00e9e dans lequel l'import a \u00e9t\u00e9 fait</li> <li>Si PostGIS, choisir le sch\u00e9ma contenant les donn\u00e9es</li> </ul>"},{"location":"extension-qgis/charger/#theme","title":"Th\u00e8me","text":"<p>Puis on peut choisir un th\u00e8me \u00e0 utiliser pour la symbologie des couches :</p> <ul> <li>Classique : un th\u00e8me proche du rendu de https://cadastre.gouv.fr</li> <li>Orthophoto : un th\u00e8me adapt\u00e9 \u00e0 un affichage par-dessus un fond orthophoto.</li> </ul>"},{"location":"extension-qgis/charger/#couches-et-filtres","title":"Couches et filtres","text":"<ul> <li> <p>En cochant la case Ajouter seulement Commune, sections, parcelles et b\u00e2ti, vous indiquez que vous    souhaitez ouvrir seulement ces couches dans QGIS (et pas les autres couches comme les bornes, les croix,    etc.)</p> </li> <li> <p>Filtrer par expression sur les communes : cette option vous permet de ne pas charger la totalit\u00e9 des    donn\u00e9es, mais seulement celles qui correspondent aux communes filtr\u00e9es via une expression. Vous devez    conna\u00eetre la structure de la table geo_commune pour pouvoir r\u00e9aliser ce filtre. Si l'expression est    invalide, alors le plugin chargera l'ensemble des donn\u00e9es.</p> </li> </ul> <p>Attention \u00e0 cette deuxi\u00e8me option, qui est exp\u00e9rimentale, et qui peut poser des soucis de performance. Pour  information, cette option ajoute un filtre \u00e0 chaque couche via une sous-requ\u00eate. Une fois les couches  charg\u00e9es, vous pouvez consulter ce filtre via l'onglet G\u00e9n\u00e9ral de la bo\u00eete de dialogue des propri\u00e9t\u00e9s de  chaque couche.</p> <p>Exemples d'expression :</p> <ul> <li><code>substr(\"geo_commune\", 5, 6) LIKE '54033%'</code> -&gt; les communes du d\u00e9partement 54, direction 0, dont le code   INSEE commence par 33</li> <li><code>\"tex2\" IN ('AMIENS', 'ALLONVILLE')</code> -&gt; le nom de la commune est AMIENS ou ALLONVILLE</li> </ul>"},{"location":"extension-qgis/charger/#notes","title":"Notes","text":"<p>Pensez \u00e0 enlever les donn\u00e9es cadastrales existantes dans votre projet QGIS : Le plugin ne sait pas g\u00e9rer  la recherche et l'interrogation de donn\u00e9es si on a plus qu'une version des couches parcelles, communes et  sections dans le projet QGIS.</p> <p>Enfin, cliquez sur le bouton Charger les donn\u00e9es pour lancer le chargement.</p>"},{"location":"extension-qgis/charger/#charger-une-couche-a-partir-dune-requete","title":"Charger une couche \u00e0 partir d'une requ\u00eate.","text":"<p>L'onglet Charger une requ\u00eate vous donne la possibilit\u00e9 d'utiliser une requ\u00eate SQL pour r\u00e9cup\u00e9rer des  donn\u00e9es de la base. Pour cela, il faut bien conna\u00eetre le mod\u00e8le de la base de donn\u00e9es et les sp\u00e9cificit\u00e9s des donn\u00e9es MAJIC. Cette fonctionnalit\u00e9 vise \u00e0 \u00e9voluer pour proposer une liste de requ\u00eates int\u00e9ressantes pour  l'exploitation des donn\u00e9es cadastrales.</p> <p></p> <p>Une fois la connexion choisie, vous pouvez \u00e9crire le texte SQL dans le champ texte.</p> <ul> <li>La requ\u00eate peut renvoyer des donn\u00e9es spatiales ou seulement des donn\u00e9es attributaires.</li> <li>Si un des champs retourn\u00e9s est une g\u00e9om\u00e9trie, vous devez sp\u00e9cifier son nom dans le champ texte d\u00e9di\u00e9.</li> <li>Si vous utilisez une connexion PostGIS, il faut pr\u00e9fixer les tables avec le nom du sch\u00e9ma. Par exemple    <code>cadastre.geo_parcelle</code>.</li> </ul> <p>La requ\u00eate suivante retourne par exemple pour chaque code de parcelle la date de l'acte (on suppose que le  sch\u00e9ma est cadastre). Vous pouvez ensuite utiliser une jointure QGIS pour faire le lien avec la couche  <code>Parcelles</code> :</p> <pre><code>SELECT p.parcelle, p.jdatat AS date_acte\nFROM cadastre.parcelle p\n</code></pre> <p>La requ\u00eate suivante renvoie toutes les parcelles appartenant \u00e0 des collectivit\u00e9s locales, avec la g\u00e9om\u00e9trie  et les noms des propri\u00e9taires</p> <pre><code>SELECT gp.geo_parcelle,\nstring_agg(\n   trim(\n      concat(\n         pr.dnuper || ' - ',\n         trim(pr.dqualp) || ' ',\n         trim(pr.ddenom)\n      )\n   ),'|'\n) AS proprietaire,\ngp.geom AS geom\nFROM cadastre.geo_parcelle gp\nJOIN cadastre.parcelle p ON gp.geo_parcelle = p.parcelle\nJOIN cadastre.proprietaire pr ON p.comptecommunal = pr.comptecommunal\nWHERE pr.dnatpr = 'CLL'\nGROUP BY gp.geo_parcelle, gp.geom\n</code></pre>"},{"location":"extension-qgis/configuration/","title":"Configuration","text":"<p>Avant d'importer les premi\u00e8res donn\u00e9es cadastrales dans la base de donn\u00e9es, vous pouvez si vous le souhaitez configurer l'extension :</p> <ul> <li>Menu Cadastre \u27a1 Configurer le plugin ou l'ic\u00f4ne outils de la barre d'outil Cadastre.</li> </ul> <p></p>"},{"location":"extension-qgis/configuration/#interface","title":"Interface","text":"<p>Les deux boutons Interface Cadastre et Interface QGIS permettent d'ouvrir une aide pour appliquer une interface simplifi\u00e9e adapt\u00e9e \u00e0 une utilisation de consultation du Cadastre.</p> <p>\u00c0 ce jour, QGIS ne permet pas de modifier dynamiquement l'interface via une extension. Nous incorporerons cette fonctionnalit\u00e9 lorsque ce sera possible. En attendant, il faut donc le faire manuellement, comme expliqu\u00e9 dans la fen\u00eatre d'aide.</p>"},{"location":"extension-qgis/configuration/#mots-cles-pour-trouver-les-fichiers-majic","title":"Mots-cl\u00e9s pour trouver les fichiers MAJIC","text":"<p>Cette partie permet de sp\u00e9cifier comment sont recherch\u00e9s les fichiers MAJIC sur votre poste de travail dans le r\u00e9pertoire que vous choisissez dans l'outil d'import.</p> <p>Pour chaque type de fichier (propri\u00e9t\u00e9s b\u00e2ties, non b\u00e2ties, propri\u00e9taires, etc.), un mot-cl\u00e9, ou une liste de mots-cl\u00e9s s\u00e9par\u00e9s par <code>|</code> permettent de trouver les fichiers s'ils respectent les conventions classiques de nommage.</p> <p>Par exemple, les fichiers contenant les propri\u00e9taires peuvent s'appeller <code>REVPROP.txt</code> ou <code>ART.DC21.W19132.PROP.A2019.N000688</code>. Dans ce cas, il seront bien trouv\u00e9s par le mot-cl\u00e9 <code>PROP</code>.</p> <p>A noter :</p> <ul> <li>la recherche est insensible \u00e0 la casse;</li> <li>les mots-cl\u00e9s sont en fait des expressions r\u00e9guli\u00e8res. Par exemple <code>LLOC|D166</code>, qui permet   de trouver les fichiers des locaux, trouve les fichiers contenant <code>LLOC</code> ou <code>D166</code>.</li> </ul> <p>Le plugin propose les mots-cl\u00e9s les plus courants. Vous pouvez les modifier si vos fichiers sont nomm\u00e9s diff\u00e9remment.</p> <p>Si l'extension ne trouve pas les fichiers MAJIC pendant l'import, alors que vous aviez sp\u00e9cifi\u00e9 le bon r\u00e9pertoire d'import, un message vous avertira et vous proposera d'annuler l'import.</p>"},{"location":"extension-qgis/configuration/#modele-de-mise-en-page-pour-lexport-de-la-vue-cartographique","title":"Mod\u00e8le de mise en page pour l'export de la vue cartographique","text":"<p>Vous pouvez choisir ici le mod\u00e8le de mise en page d'impression qui sera utilis\u00e9 dans la fonction Export la vue. Un mod\u00e8le est fourni dans le r\u00e9pertoire <code>composeur</code> de l'extension et sera utilis\u00e9 si vous ne proposez pas le v\u00f4tre.</p> <p>Pour l'instant, le mod\u00e8le g\u00e8re un bloc de carte, mais pas les blocs de table attributaire.</p>"},{"location":"extension-qgis/configuration/#repertoire-temporaire","title":"R\u00e9pertoire temporaire","text":"<p>Vous pouvez choisir le r\u00e9pertoire dans lequel les scripts seront copi\u00e9s et les fichiers d\u00e9compress\u00e9s.</p> <p>Choisissez un r\u00e9pertoire contenant assez de place pour stocker les fichiers temporaires, surtout si vous souhaitez charger des donn\u00e9es volumineuses.</p> <p>Ce r\u00e9pertoire est aussi celui dans lequel les relev\u00e9s parcellaires et les relev\u00e9s de propri\u00e9t\u00e9 seront export\u00e9s.</p>"},{"location":"extension-qgis/configuration/#performances","title":"Performances","text":"<p>Vous pouvez modifier dans ce groupe les options suivantes pour adapter l'extension aux performances de votre mat\u00e9riel :</p> <ul> <li> <p>Taille maximum des requ\u00eates INSERT : C'est le nombre total de requ\u00eates <code>INSERT</code> lanc\u00e9es dans un groupe de   modification (<code>BEGIN/COMMIT</code>). Vous pouvez baisser le chiffre jusqu'\u00e0 10000 si vous avez une machine l\u00e9g\u00e8re   et un gros volume de donn\u00e9es \u00e0 importer. Plus le chiffre est bas, plus l'import initial peut prendre du   temps.</p> </li> <li> <p>Stockage temporaire : Le mode MEMORY est plus rapide, mais n\u00e9cessite assez de m\u00e9moire vive pour   stocker les donn\u00e9es \u00e0 traiter. Le mode DEFAULT est plus lent et adapt\u00e9 \u00e0 des ordinateurs avec peu de   m\u00e9moire vive.</p> </li> </ul>"},{"location":"extension-qgis/donnees/","title":"Donn\u00e9es","text":""},{"location":"extension-qgis/donnees/#edigeo","title":"Edig\u00e9o","text":"<p>Les donn\u00e9es sont disponibles en t\u00e9l\u00e9chargement sur https://cadastre.data.gouv.fr. Elles ne comportent pas de donn\u00e9es sensibles.</p> <p>Il est possible de t\u00e9l\u00e9charger les donn\u00e9es \u00e0 l'\u00e9chelle d\u00e9partementale ou alors communale.</p> <p>Dans l'extension QGIS, il existe, dans la bo\u00eete \u00e0 outils Traitement, un t\u00e9l\u00e9chargeur pour les fichiers  Edigeo.</p> <p>Pour utiliser l'outil :</p> <ul> <li>Un code INSEE ou une liste de code INSEE, exemple <code>25047</code> ou <code>25047,25602</code>.</li> <li>Le filtre est optionnel. Il s'applique sur chacune des communes ci-dessus pour filtrer les feuilles :<ul> <li>S'il est vide, alors toutes les feuilles.</li> <li><code>AB,AD</code>, toutes les feuilles sur toutes les communes qui contiennent <code>AB</code> ou <code>AD</code>.</li> <li><code>256020000C,250470000D</code>, toutes les feuilles <code>0C</code> sur <code>25602</code> et <code>0D</code> sur <code>25047</code>.</li> <li><code>256020000C01,250470000D01</code>, uniquement les 2 feuilles.</li> <li><code>25602,25047000AB</code>, toutes les feuilles de <code>25602</code> et les feuilles <code>AB</code> sur <code>25047</code></li> </ul> </li> <li>La date est par d\u00e9faut <code>latest</code> ou alors une date disponible sur    https://cadastre.data.gouv.fr/datasets/plan-cadastral-informatise selon le format <code>AAAA-MM-JJ</code>.</li> </ul> <p></p>"},{"location":"extension-qgis/donnees/#magic","title":"Magic","text":"<p>Il faut y avoir un acc\u00e8s. Ce sont des donn\u00e9es sensibles.</p>"},{"location":"extension-qgis/donnees/#openmagic","title":"OpenMagic","text":"<p>Ces donn\u00e9es ne sont pas support\u00e9es par l'extension. N'h\u00e9sitez pas \u00e0 nous contacter.</p>"},{"location":"extension-qgis/import/","title":"Import des donn\u00e9es","text":"<p>Cette boite de dialogue permet de r\u00e9aliser un import de donn\u00e9es EDIGEO et MAJIC.</p> <p></p>"},{"location":"extension-qgis/import/#principe","title":"Principe","text":"<p>L'extension permet l'import de donn\u00e9es MAJIC de 2012 \u00e0 2025 et des donn\u00e9es EDIGEO. Il est possible d'importer des donn\u00e9es de mani\u00e8re incr\u00e9mentale, \u00e9tape par \u00e9tape, ou bien d'importer en une seule fois.</p> <p>L'extension utilise pour cela la notion de lot. Un lot regroupe un ensemble de donn\u00e9es coh\u00e9rent pour votre utilisation. Par exemple, le lot peut \u00eatre le code d'une commune ou l'acronyme d'une communaut\u00e9 de commune. C'est une cha\u00eene de 10 caract\u00e8res maximum. Vous pouvez utiliser des chiffres ou des lettres.</p> <p>Vous pouvez par exemple importer les donn\u00e9es dans cet ordre :</p> <ul> <li>donn\u00e9es EDIGEO de la commune A, lot \"com_a\"</li> <li>donn\u00e9es EDIGEO de la commune B, lot \"com_b\"</li> <li>donn\u00e9es MAJIC de la commune A, lot \"com_a\"</li> <li>donn\u00e9es EDIGEO de la commune A, lot \"com_a\" (r\u00e9-import et \u00e9crasement des donn\u00e9es pr\u00e9c\u00e9dentes)</li> <li>donn\u00e9es EDIGEO de la commune C, lot \"com_c\"</li> </ul> <p>Il est donc important de conserver une liste des lots d\u00e9finis pendant les imports successifs, pour savoir ensuite quel lot utiliser si on souhaite \u00e9craser des donn\u00e9es. Une version prochaine de l'extension pourra int\u00e9grer un tableau r\u00e9capitulatif des imports effectu\u00e9s dans une base de donn\u00e9es pour faciliter le suivi des imports r\u00e9alis\u00e9s.</p> <p>Tip</p> <p>Il est conseill\u00e9 d'importer des donn\u00e9es de mill\u00e9sime diff\u00e9rents dans des bases de donn\u00e9es ou des sch\u00e9mas PostgreSQL diff\u00e9rents, car la structure peut changer d'un mill\u00e9sime \u00e0 l'autre (ajout de colonnes, modification de longueur de champs, etc).</p>"},{"location":"extension-qgis/import/#bases-de-donnees","title":"Bases de donn\u00e9es","text":"<p>Deux Syst\u00e8mes de Gestion de Bases de Donn\u00e9es (SGBD) sont support\u00e9s par l'extension Cadastre :</p> <ul> <li>PostgreSQL et son extension spatiale PostGIS</li> <li>SQLite et son extension spatiale Spatialite</li> </ul> <p>Nous conseillons d'utiliser PostgreSQL pour des donn\u00e9es volumineuses et pour g\u00e9rer des multiples acc\u00e8s \u00e0 la base de donn\u00e9es.</p> <p>Pour les bases de donn\u00e9es PostGIS, il faut :</p> <ul> <li>avoir cr\u00e9\u00e9 une base de donn\u00e9es sur laquelle on a les droits en \u00e9criture et activer l'extension PostGIS.</li> <li>avoir cr\u00e9\u00e9 au pr\u00e9alable une connexion QGIS via le menu Couches &gt; Ajouter une couche PostGIS vers   cette base de donn\u00e9es</li> </ul> <p>Pour les bases de donn\u00e9es Spatialite, l'interface d'import permet de cr\u00e9er une base de donn\u00e9es vide et la connexion QGIS li\u00e9e si n\u00e9cessaire.</p>"},{"location":"extension-qgis/import/#remarque-sur-les-contraintes","title":"Remarque sur les contraintes","text":"<p>Il n'existe actuellement aucune contrainte de cl\u00e9s \u00e9trang\u00e8res sur les tables du sch\u00e9ma cadastre. Nous proposerons \u00e0 l'avenir un script qui permettra de les cr\u00e9er, lorsque les donn\u00e9es le permettent (ce qui n'est pas toujours le cas, comme des voies non r\u00e9f\u00e9renc\u00e9es dans <code>voie</code> mais r\u00e9f\u00e9renc\u00e9es dans <code>parcelle</code>).</p>"},{"location":"extension-qgis/import/#donnees","title":"Donn\u00e9es","text":""},{"location":"extension-qgis/import/#edigeo","title":"Edigeo","text":"<p>Vous pouvez utiliser le t\u00e9l\u00e9chargeur Edigeo dans la bo\u00eete \u00e0 outil Traitements de QGIS, dans l'extension Cadastre.</p>"},{"location":"extension-qgis/import/#fantoir","title":"FANTOIR","text":"<p>Le support des fichiers FANTOIR a \u00e9t\u00e9 abandonn\u00e9 d\u00e9but 2024 au profit du support des fichiers TOPO.</p>"},{"location":"extension-qgis/import/#topo","title":"TOPO","text":"<p>Si vous ne poss\u00e9dez pas les donn\u00e9es TOPO dans votre jeu de donn\u00e9es MAJIC, nous conseillons de les t\u00e9l\u00e9charger sur le site du CRAIG.</p> <p>Une fois le fichier TOPO r\u00e9cup\u00e9r\u00e9 (par exemple <code>TOPO_34.csv.gz</code>) d\u00e9compressez-le pour placer le CSV d\u00e9compress\u00e9 (par exemple <code>TOPO_34.csv</code>) au m\u00eame niveau que les autres fichiers MAJIC. Attention: Le fichier <code>.gz</code> n'est pas reconnu et peut \u00eatre supprim\u00e9 une fois d\u00e9compress\u00e9.</p> <p>Important :</p> <ul> <li>par d\u00e9faut, le plugin recherche les fichiers dont le nom contient <code>TOPO</code> (voir plus bas Configurer l'extension).</li> <li>il faut respecter l'ent\u00eate des fichiers CSV comme produits par le CRAIG. Les fichiers r\u00e9cup\u00e9r\u00e9s sur le site national n'ont pas la bonne ent\u00eate. Il faut remplacer notamment les espaces par des <code>_</code>.</li> <li>accept\u00e9 :     <code>code_topo;nature_de_voie;libelle;type_commune_actuel_r_ou_n;type_commune_fip_r_ou_nfip;rur_actuel;rur_fip;caractere_voie;annulation;date_annulation;date_creation_de_article;type_voie;mot_classant;date_derniere_transition</code></li> <li>non accept\u00e9 :     <code>code topo;nature de voie;libelle;type commune actuel (R ou N);type commune FIP (R ou NFIP);RUR actuel;RUR FIP;caractere voie;annulation;date annulation;date creation de article;type voie;mot classant;date derniere transition</code></li> </ul> <p></p>"},{"location":"extension-qgis/import/#les-etapes-dimportation","title":"Les \u00e9tapes d'importation","text":"<p>Pour lancer l'importation, il faut bien avoir au pr\u00e9alable configur\u00e9 les noms des fichiers MAJIC via le menu Configurer l'extension. Ensuite, on ouvre la boite de dialogue</p> <ul> <li>via la barre d'outil Cadastre, ic\u00f4ne base de donn\u00e9es</li> <li>via le menu Cadastre &gt; Importer des donn\u00e9es</li> </ul> <p>On configure ensuite les options :</p> <ul> <li>Choisir le type de base de donn\u00e9es : PostGIS ou Spatialite</li> <li> <p>Choisir la connexion</p> <ul> <li>Pour Postgis, on peut ensuite choisir un schema, ou en cr\u00e9er un nouveau</li> <li>Pour Spatialite, on peut cr\u00e9er une nouvelle base de donn\u00e9es</li> </ul> </li> <li> <p>Choisir le r\u00e9pertoire contenant les fichiers EDIGEO :</p> </li> <li> <p>On peut s\u00e9lectionner le r\u00e9pertoire parent qui contient l'ensemble des sous-r\u00e9pertoires vers les    communes : l'extension ira chercher les fichiers de mani\u00e8re r\u00e9cursive.</p> </li> <li> <p>Seuls les fichiers zip et tar.bz2 sont pour l'instant g\u00e9r\u00e9s</p> </li> <li> <p>Choisir la projection source des fichiers EDIGEO et la projection cible d\u00e9sir\u00e9e</p> </li> <li> <p>Choisir le num\u00e9ro du D\u00e9partement, par exemple :</p> <ul> <li><code>80</code> pour la Somme</li> <li><code>97</code> pour la Guadeloupe</li> </ul> </li> <li> <p>Choisir le num\u00e9ro de la Direction, par exemple :</p> <ul> <li><code>0</code></li> <li><code>1</code> pour la Guadeloupe</li> </ul> </li> <li> <p>Choisir le r\u00e9pertoire contenant les fichiers MAJIC</p> <ul> <li>Comme pour EDIGEO, l'extension ira chercher les fichiers dans les r\u00e9pertoires et les sous-r\u00e9pertoires et   importera l'ensemble des donn\u00e9es.</li> </ul> </li> <li> <p>Choisir la version du format en utilisant les fl\u00e8ches haut et bas</p> <ul> <li>Seuls les formats de 2012 \u00e0 2025 sont pris en compte</li> </ul> </li> <li> <p>Choisir le mill\u00e9sime des donn\u00e9es, par exemple 2025</p> </li> <li> <p>Choisir le Lot : utilisez par exemple le code INSEE de la commune.</p> </li> <li> <p>Activer ou d\u00e9sactiver la case \u00e0 cocher Corriger les g\u00e9om\u00e9tries invalides selon la qualit\u00e9 de votre jeu   de donn\u00e9es EDIGEO.</p> </li> <li> <p>Utiliser la barre de d\u00e9filement de la fen\u00eatre pour aller tout en bas et afficher tout le bloc texte de log   situ\u00e9 sous la barre de progression.</p> </li> <li> <p>Lancer l'import en cliquant sur le bouton Lancer l'import</p> </li> </ul> <p>Le d\u00e9roulement de l'import est \u00e9crit dans le bloc texte situ\u00e9 en bas de la fen\u00eatre.</p> <p>Tip</p> <p>Pendant l'import, il est conseill\u00e9 de ne pas d\u00e9placer ou cliquer dans la fen\u00eatre. Pour l'instant, l'extension n'int\u00e8gre pas de bouton pour annuler un import en cours.</p>"},{"location":"extension-qgis/import/#outre-mer","title":"Outre-mer","text":"<p>Pour l'import des communes en France d'outre-mer, il faut d\u00e9couper le code du d\u00e9partement pour avoir la direction. Par exemple, concernant le d\u00e9partement de la Guadeloupe, code INSEE <code>971</code>, dans l'extension Cadastre, le code du d\u00e9partement est <code>97</code> et la direction est <code>1</code>.</p> <p>La projection des donn\u00e9es EDIGEO peut se lire dans le fichier <code>*.GEO</code>.</p> <p>Pensez \u00e0 regarder si la projection est toujours la m\u00eame dans les fichiers EDIGEO.</p>"},{"location":"extension-qgis/import/#projections-ignf","title":"Projections IGNF","text":"<p>Si votre donn\u00e9e EDIGEO est en projection IGNF, par exemple pour la Guadeloupe, <code>IGNF:GUAD48UTM20</code> (Guadeloupe Ste Anne), et que vous souhaitez importer les donn\u00e9es dans PostgreSQL, il faut au pr\u00e9alable ajouter dans votre table <code>public.spatial_ref_sys</code> la d\u00e9finition de la projection IGNF, au format WKT. Si vous utilisez \u00e0 la place l'\u00e9quivalent EPSG (par exemple ici <code>EPSG:2970</code>), vous risquez un d\u00e9calage des donn\u00e9es lors de la reprojection.</p> <p>Vous pouvez ajouter dans votre base de donn\u00e9es la d\u00e9finition via une requ\u00eate, par exemple avec la requ\u00eate suivante pour <code>IGNF:GUAD48UTM20</code> avec la cha\u00eene WKT d\u00e9crivant la projection :</p> <pre><code>INSERT INTO spatial_ref_sys values (\n    998999,\n    'IGNF',\n    998999,\n    'PROJCS[\"Guadeloupe Ste Anne\",GEOGCS[\"Guadeloupe Ste Anne\",DATUM[\"Guadeloupe St Anne\",SPHEROID[\"International-Hayford 1909\",6378388.0000,297.0000000000000,AUTHORITY[\"IGNF\",\"ELG001\"]],TOWGS84[-472.2900,-5.6300,-304.1200,0.4362,-0.8374,0.2563,1.898400],AUTHORITY[\"IGNF\",\"REG425\"]],PRIMEM[\"Greenwich\",0.000000000,AUTHORITY[\"IGNF\",\"LGO01\"]],UNIT[\"degree\",0.01745329251994330],AXIS[\"Longitude\",EAST],AXIS[\"Latitude\",NORTH],AUTHORITY[\"IGNF\",\"GUAD48GEO\"]],PROJECTION[\"Transverse_Mercator\",AUTHORITY[\"IGNF\",\"PRC0220\"]],PARAMETER[\"semi_major\",6378388.0000],PARAMETER[\"semi_minor\",6356911.9461],PARAMETER[\"latitude_of_origin\",0.000000000],PARAMETER[\"central_meridian\",-63.000000000],PARAMETER[\"scale_factor\",0.99960000],PARAMETER[\"false_easting\",500000.000],PARAMETER[\"false_northing\",0.000],UNIT[\"metre\",1],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"IGNF\",\"GUAD48UTM20\"]]',\n    '+init=IGNF:GUAD48UTM20'\n);\n</code></pre> <p>Attention, il est important d'utiliser un code qui est \u2264 998999, car PostGIS place des contraintes sur le SRID. Nous avons utilis\u00e9 ici <code>998999</code>, qui est le maximum possible.</p> <p>Tip</p> <p>Pour trouver la cha\u00eene WKT d\u00e9crivant la projection, \u00e0 d\u00e9faut de la trouver sur internet pour le moment, nous pouvons utiliser l'API PyQGIS. Dans le menu Extensions \u2192 Console Python, \u00e9crire :</p> <p><pre><code>QgsCoordinateReferenceSystem('IGNF:GUAD48UTM20').toWkt()\n</code></pre> puis Enter</p> <p>Il existait auparavant une fichier SQL sur le site de l'IGN que l'on peut trouver sur la discussion Georezo suivante. Attention, il faut extraire de ce fichier la commande <code>INSERT</code> qui correspond \u00e0 votre code <code>IGNF</code>, et remplacer le SRID par <code>998999</code>.</p> <p>Ensuite, dans la projection source, vous pouvez utiliser <code>IGNF:GUAD48UTM20</code> au lieu du code EPSG correspondant.</p> <p>En appliquant l'astuce PyQGIS ci-dessus, notons que le code interne est propre \u00e0 votre base :</p> <pre><code>INSERT INTO spatial_ref_sys values (\n    CODE INTERNE \u00c0 VOUS COMME 998999,\n    'IGNF',\n    CODE INTERNE \u00c0 VOUS COMME 998999,\n    'RESULTAT DE LA LIGNE PyQGIS',\n    '+init=NOM DE LA PROJECTION COMME IGNF:GUAD48UTM20'\n);\n</code></pre> Guyane <ul> <li>Projection du fichier <code>.geo</code> : <code>IGNF:RGFG95UTM22</code> <pre><code>   INSERT INTO spatial_ref_sys values (\n   998995,\n   'IGNF',\n   998995,\n   'PROJCS[\"RGFG95 UTM Nord f.22\",GEOGCS[\"RGFG95 geographiques (dms)\",DATUM[\"Reseau_Geodesique_Francais_Guyane_1995\",SPHEROID[\"GRS 1980\",6378137,298.257222101,AUTHORITY[\"EPSG\",\"7019\"]],AUTHORITY[\"EPSG\",\"6624\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"IGNF\",\"RGFG95G\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-51],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"IGNF\",\"RGFG95UTM22\"]]',\n   '+init=IGNF:RGFG95UTM22'\n   );\n</code></pre></li> </ul> Mayotte <ul> <li>Projection du fichier <code>.geo</code> : <code>IGNF:RGM04</code> <pre><code>   INSERT INTO spatial_ref_sys values (\n   998997,\n   'IGNF',\n   998997,\n   'GEOCCS[\"RGM04 cartesiennes geocentriques\",DATUM[\"Reseau_Geodesique_de_Mayotte_2004\",SPHEROID[\"GRS 1980\",6378137,298.257222101,AUTHORITY[\"EPSG\",\"7019\"]],AUTHORITY[\"EPSG\",\"1036\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Geocentric X\",OTHER],AXIS[\"Geocentric Y\",OTHER],AXIS[\"Geocentric Z\",NORTH],AUTHORITY[\"IGNF\",\"RGM04\"]]',\n   '+init=IGNF:RGM04'\n   );\n</code></pre></li> </ul> R\u00e9union <ul> <li>Projection du fichier <code>.geo</code> : <code>IGNF:RGR92UTM40S</code> <pre><code>   INSERT INTO spatial_ref_sys values (\n   998996,\n   'IGNF',\n   998996,\n   'PROJCS[\"RGM04 UTM Sud fuseau 38\",GEOGCS[\"RGM04 geographiques (dms)\",DATUM[\"Reseau_Geodesique_de_Mayotte_2004\",SPHEROID[\"GRS 1980\",6378137,298.257222101,AUTHORITY[\"EPSG\",\"7019\"]],AUTHORITY[\"EPSG\",\"1036\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"IGNF\",\"RGM04G\"]],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",45],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",10000000],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"Easting\",EAST],AXIS[\"Northing\",NORTH],AUTHORITY[\"IGNF\",\"RGM04UTM38S\"]]',\n   '+init=IGNF:RGR92UTM40S'\n   );\n</code></pre></li> </ul>"},{"location":"extension-qgis/installation/","title":"Installation","text":"<p>L'extension Cadastre est dans les d\u00e9p\u00f4ts officiels du projet QGIS. Pour l'installer, il faut :</p> <ul> <li>Lancer QGIS</li> <li>Menu Extension &gt; Installer/G\u00e9rer les extensions</li> <li>Onglet Param\u00e8tres &gt; V\u00e9rifier que la case Afficher les extensions exp\u00e9rimentales est bien coch\u00e9e</li> <li>Onglet En obtenir plus : chercher le plugin cadastre, le s\u00e9lectionner et cliquer sur installer</li> </ul> <p>Une fois le plugin install\u00e9, un nouveau menu Cadastre appara\u00eet dans le menu Extensions de QGIS. Il  comporte les sous-menus suivants :</p> <ul> <li>Importer des donn\u00e9es</li> <li>Charger des donn\u00e9es</li> <li>Outils de recherche</li> <li>Exporter la vue</li> <li>Configurer le plugin</li> <li>\u00c0 propos</li> <li>Notes de version</li> <li>Aide</li> </ul> <p>Ces sous-menus sont d\u00e9taill\u00e9s dans les chapitres suivants.</p>"},{"location":"extension-qgis/interface/","title":"Interface","text":""},{"location":"extension-qgis/interface/#la-barre-doutil","title":"La barre d'outil","text":"<p>La barre d'outil peut s'afficher ou se masquer \u00e0 partir :</p> <ul> <li>du menu Vue &gt; Barres d'outils &gt; Cadastre</li> <li>d'un clic droit \u00e0 c\u00f4t\u00e9 d'une des barres d'outils de QGIS et s\u00e9lectionner Cadastre</li> </ul> <p>Elle contient :</p> <ul> <li>Un outil pour identifier une parcelle sur la carte</li> <li>Des boutons qui reprennent les sous-menus du plugin : Importer, Charger, Rechercher, Exporter la vue,   Configurer, \u00c0 propos</li> </ul> <p>Pour conna\u00eetre l'action d'une des ic\u00f4nes, il suffit de laisser la souris un moment au-dessus pour voir appara\u00eetre une bulle d'information.</p>"},{"location":"extension-qgis/interface/#identifier-une-parcelle","title":"Identifier une parcelle","text":"<p>Pour avoir des informations compl\u00e8tes sur une parcelle, il faut avoir au pr\u00e9alable import\u00e9 des donn\u00e9es MAJIC dans la base de donn\u00e9es. Sinon, seules les informations principales issues de l'EDIGEO seront affich\u00e9es et certains boutons d'action sont d\u00e9sactiv\u00e9s.</p> <p>Pour faire appara\u00eetre la fiche d'information d'une parcelle, il faut :</p> <ul> <li>activer l'outil Identifier une parcelle de la barre d'outil</li> <li>Zoomer \u00e0 une \u00e9chelle pour laquelle les parcelles sont visibles (\u00e0 partir de 1/20 000).</li> <li>Cliquer sur une des parcelles de la carte.</li> </ul> <p>La fen\u00eatre d'identification s'affiche alors,</p> <p></p> <p>Elle pr\u00e9sente plusieurs onglets :</p> <ul> <li>un onglet avec les informations g\u00e9n\u00e9rales de la parcelle</li> <li>un onglet avec les propri\u00e9taires de la parcelle</li> <li>un onglet avec les subdivisions fiscales</li> <li>un onglet avec les locaux et leurs informations d\u00e9taill\u00e9es</li> </ul> <p>Ainsi qu'une zone contenant des boutons d'action :</p> <ul> <li>2 boutons pour exporter au format PDF :</li> <li>le relev\u00e9 parcellaire</li> <li>le relev\u00e9 de propri\u00e9t\u00e9 avec une option pour r\u00e9aliser un export sur toutes les communes ou seulement \u00e0 la commune de la parcelle</li> <li>3 boutons pour interagir avec l'objet g\u00e9om\u00e9trique li\u00e9 \u00e0 la parcelle : centrer la carte sur la   parcelle, zoomer sur la parcelle ou s\u00e9lectionner l'objet dans la couche</li> <li>Un dernier bouton pour s\u00e9lectionner dans la couche toutes les parcelles du propri\u00e9taire</li> </ul> <p>Si vous n'avez pas import\u00e9 de donn\u00e9es TOPO, la commune de la parcelle ne sera pas affich\u00e9e dans la fen\u00eatre et l'adresse pourra \u00eatre tronqu\u00e9e (de m\u00eame pour les relev\u00e9s export\u00e9s)</p> <p>Si vous n'avez pas de donn\u00e9es MAJIC, seule les informations sur la parcelle (1er onglet) seront pr\u00e9sent\u00e9es.</p>"},{"location":"extension-qgis/interface/#exporter-la-vue","title":"Exporter la vue","text":"<p>Dans la barre d'outil Cadastre, ainsi que dans le menu, vous pouvez exporter la vue courante de la carte en PDF via le menu Exporter la vue.</p> <p>Cette fonctionnalit\u00e9 s'appuie sur un mod\u00e8le de composeur d'impression, configurable dans les options du plugin (voir ci-dessus). Si vous n'avez pas configur\u00e9 de composeur personnalis\u00e9, celui install\u00e9 par le plugin est utilis\u00e9.</p> <p>Cette fonctionnalit\u00e9 est basique, et ne g\u00e8re pas pour l'instant les composeurs complexes, avec des tables attributaires et des configurations d'atlas.</p>"},{"location":"extension-qgis/interface/#le-panneau-de-recherche","title":"Le panneau de recherche","text":""},{"location":"extension-qgis/interface/#principe","title":"Principe","text":"<p>Le panneau de recherche propose des outils pour rechercher des parcelles via 3 entr\u00e9es principales</p> <ul> <li>une recherche par objet g\u00e9ographique : commune, section, adresse et parcelles</li> <li>une recherche par propri\u00e9taire</li> </ul> <p>Les diff\u00e9rentes recherches seront d\u00e9taill\u00e9es dans les sous-chapitres suivants.</p> <p>Pour afficher le panneau de recherche:</p> <ul> <li>Utiliser le menu Cadastre &gt; Outils de recherche ou cliquer sur l'ic\u00f4ne loupe de la barre d'outils</li> </ul> <p>Une bulle d'information affiche la fonction des boutons au survol de la souris.</p> <p>Si la base de donn\u00e9es ne contient aucune donn\u00e9e MAJIC, alors les recherches par adresse et par propri\u00e9taire sont d\u00e9sactiv\u00e9s.</p>"},{"location":"extension-qgis/interface/#recherche-de-lieux","title":"Recherche de lieux","text":"<p>L'outil pr\u00e9sente 3 listes d\u00e9roulantes :</p> <ul> <li>Commune</li> <li>Section</li> <li>Adresses</li> <li>Parcelles</li> </ul> <p>Il est possible de s\u00e9lectionner une entit\u00e9 dans les listes :</p> <ul> <li>soit \u00e0 la souris en cliquant sur la fl\u00e8che pour ouvrir la liste d\u00e9roulante puis s\u00e9lectionner un item.</li> <li>soit en tapant les premi\u00e8res lettres et en s\u00e9lectionnant l'item choisi dans la liste d'autocompl\u00e9tion qui   s'affiche alors. Il faut avoir au pr\u00e9alable vider le contenu de la liste d\u00e9roulante.</li> </ul> <p>Les listes d\u00e9roulantes sont hi\u00e9rarchiques :</p> <ul> <li>Lorsqu'on choisit une commune, la liste des sections est rafra\u00eechie et ne montre que les sections de la   commune choisie. La recherche d'adresse est aussi filtr\u00e9e sur cette commune.</li> <li>lorsqu'on choisit une section, la liste des parcelles est rafra\u00eechie et montre les parcelles sur la section.</li> </ul> <p>Des boutons d'actions sont positionn\u00e9s sous les 3 listes d\u00e9roulantes et permettent de lancer l'action choisie sur le dernier objet s\u00e9lectionn\u00e9 dans les 3 listes :</p> <ul> <li>Centrer sur l'objet : la carte est d\u00e9plac\u00e9e vers l'objet s\u00e9lectionn\u00e9, mais l'\u00e9chelle est conserv\u00e9e</li> <li>Zoomer sur l'objet : la carte est d\u00e9plac\u00e9e et mise \u00e0 l'\u00e9chelle pour afficher l'objet s\u00e9lectionn\u00e9</li> <li>S\u00e9lectionner l'objet : l'objet est s\u00e9lectionn\u00e9 dans la couche de donn\u00e9es correspondante (Communes,   Sections ou Parcelles)</li> </ul> <p>\u00c0 c\u00f4t\u00e9 des listes, un bouton croix rouge permet de remettre la liste \u00e0 son \u00e9tat initial, c'est-\u00e0-dire sans objet s\u00e9lectionn\u00e9. Par exemple, si on avait s\u00e9lectionn\u00e9 une commune dans la premi\u00e8re liste et une section dans la seconde, on peut cliquer sur la croix rouge \u00e0 c\u00f4t\u00e9 de la section pour d\u00e9s\u00e9lectionner la section dans la liste. Ainsi si on utilise le bouton de Zoom, on zoomera sur la commune et non sur la section qui \u00e9tait pr\u00e9c\u00e9demment s\u00e9lectionn\u00e9e</p> <p>Si une parcelle a \u00e9t\u00e9 s\u00e9lectionn\u00e9e dans la liste Parcelles, il est possible d'exporter le relev\u00e9 parcellaire en cliquant sur le bouton ic\u00f4ne PDF situ\u00e9 en bas \u00e0 droite du bloc de recherche de lieux. Le PDF est g\u00e9n\u00e9r\u00e9 et ouvert avec le lecteur PDF par d\u00e9faut du syst\u00e8me.</p>"},{"location":"extension-qgis/interface/#recherche-dadresse","title":"Recherche d'adresse","text":"<p>Pour l'instant, cet outil ne fonctionne que si des donn\u00e9es MAJIC sont dans la base, et si les donn\u00e9es TOPO ont \u00e9t\u00e9 import\u00e9es. Si vous ne poss\u00e9dez pas de donn\u00e9es TOPO dans votre lot de donn\u00e9es MAJIC, vous pouvez le t\u00e9l\u00e9charger pour votre d\u00e9partement ici (et relancer l'import Majic) : https://drive.opendata.craig.fr/s/opendata?path=%2Fadresse%2Ftopo</p> <p>Pour lancer une recherche de parcelles par adresse, il suffit :</p> <ul> <li>d'entrer l'adresse cherch\u00e9e, sans le num\u00e9ro de rue dans la liste Adresse.</li> <li>de cliquer sur le bouton loupe situ\u00e9 \u00e0 c\u00f4t\u00e9 de la liste, ou d'appuyer sur la touche entr\u00e9e</li> </ul> <p>La recherche est effectu\u00e9e et la liste d\u00e9roulante o\u00f9 vous avez tap\u00e9 l'adresse \u00e0 chercher est maintenant rafra\u00eechie et contient l'ensemble des r\u00e9sultats trouv\u00e9s. Si une commune \u00e9tait s\u00e9lectionn\u00e9e dans la liste des communes, la recherche d'adresse ne renvoie que les voies de cette commune.</p> <p>Si des r\u00e9sultats ont \u00e9t\u00e9 trouv\u00e9s, on peut ensuite :</p> <ul> <li>S\u00e9lectionner une adresse dans la liste d\u00e9roulante via la souris. Cela rafra\u00eechit la liste des   parcelles situ\u00e9e en dessous.</li> <li>cliquer sur les boutons de centrage, zoom et s\u00e9lection. Chaque action est lanc\u00e9e sur l'ensemble des   parcelles correspondantes \u00e0 l'adresse choisie</li> <li>S\u00e9lectionner une des parcelles dans la liste d\u00e9roulante Parcelles et r\u00e9utiliser les boutons d'action.</li> <li>Si une parcelle est s\u00e9lectionn\u00e9e, le bouton avec une ic\u00f4ne PDF permet d'exporter le relev\u00e9 parcellaire   pour cette parcelle</li> </ul> <p>Vous pouvez cliquer sur la croix rouge \u00e0 c\u00f4t\u00e9 de la recherche d'adresse pour d\u00e9s\u00e9lectionner l'adresse choisie.</p>"},{"location":"extension-qgis/interface/#recherche-de-proprietaires","title":"Recherche de propri\u00e9taires","text":"<p>Ce bloc de recherche ne fonctionne pas si aucune donn\u00e9e MAJIC n'est pr\u00e9sente dans la base</p> <p>Le principe et le fonctionnement sont le m\u00eame que pour la recherche par adresse, avec les diff\u00e9rences suivantes :</p> <ul> <li>Un bouton est ajout\u00e9 \u00e0 c\u00f4t\u00e9 de la liste des propri\u00e9taires pour exporter le relev\u00e9 de propri\u00e9t\u00e9 du   propri\u00e9taire s\u00e9lectionn\u00e9 dans la liste</li> <li>Le bouton d'export du relev\u00e9 parcellaire est plac\u00e9 \u00e0 c\u00f4t\u00e9 de la liste Parcelles</li> </ul> <p>Il est possible d'exporter le relev\u00e9 de propri\u00e9t\u00e9 pour les personnes qui ne poss\u00e8dent pas de propri\u00e9t\u00e9 non b\u00e2tie.</p>"},{"location":"extension-qgis/interface/#utilisation-du-plugin-quickfinder-pour-chercher-les-parcelles","title":"Utilisation du plugin QuickFinder pour chercher les parcelles","text":"<p>Vous pouvez installer le plugin QuickFinder pour pr\u00e9parer et utiliser des recherches sur diff\u00e9rentes couches cadastrales. Exemple de configuration int\u00e9ressante :</p> <ul> <li>Ouvrir la bo\u00eete de dialogue de configuration du plugin : Menu Extension / QuickFinder / Settings</li> <li>Aller \u00e0 l'onglet Project Search</li> <li>Cocher la case Search in project layers</li> <li>\u00c0 c\u00f4t\u00e9 du champ QuickFinder file, cliquer sur le bouton avec une ic\u00f4ne \"page\" pour cr\u00e9er un nouveau   fichier (en anglais, au survol du bouton : Create a new QuickFinder file). Enregistrer le fichier dans le   r\u00e9pertoire du projet QGIS, et lui donner le m\u00eame nom de fichier (par exemple <code>cadastre.qfts</code> pour un projet   QGIS \"cadastre.qgs\")</li> <li>Cliquer sur le bouton \"+\" en vert pour ajouter une nouvelle recherche : cela ouvre une boite de dialogue   project search. Configurer une recherche pour les parcelles :</li> <li>Search name : Parcelles</li> <li>Layer: Parcelles</li> <li>Field : vous pouvez utiliser un champ, ou mieux une expression QGIS pour concat\u00e9ner des informations,     en cliquant sur le bouton \"epsilon\", par exemple :   <pre><code>Concat(\n  'COM ', \"codecommune\", ' / ',\n  'SEC ', substr(\"idu\", 7, 2), ' / ',\n  'PAR ', substr(\"idu\", 9, 4), ' / ',\n  'ADR ', \"adresse\", ' / ',\n  '', \"proprietaire\",\n  ' @@', \"codecommune\"\n)\n</code></pre>   (la partie avec @@ et le codecommune \u00e0 la fin sont utiles si vous publiez le cadastre sur internet vers   l'application Lizmap. Cela permet de filtrer les donn\u00e9es)</li> <li>Geometry storage : wkt</li> <li>Priority : 1</li> <li>record entries : laisser coch\u00e9, cela va lancer la cr\u00e9ation des donn\u00e9es de recherche et leur stockage     dans le fichier QuickFinder</li> </ul> <p>Une fois cette configuration effectu\u00e9e, vous pouvez fermer les fen\u00eatres QuickFinder, puis utiliser la barre d'outil QuickFinder pour chercher des parcelles via leur code, le code commune, le code de section, ou bien le nom des propri\u00e9taires.</p>"},{"location":"extension-qgis/interface/#a-propos","title":"\u00c0 propos","text":"<p>Le menu Cadastre &gt; \u00c0 propos ouvre une fen\u00eatre d'information sur le plugin Cadastre : financeurs, auteur, licence, d\u00e9p\u00f4t de sources, etc.</p> <p>Cette fen\u00eatre est automatiquement affich\u00e9e lors de la premi\u00e8re utilisation du plugin, mais pas les fois suivantes.</p>"},{"location":"extension-qgis/interface/#notes-de-version","title":"Notes de version","text":"<p>Le menu Cadastre &gt; Notes de version ouvre une fen\u00eatre qui montre les changements effectu\u00e9s sur le plugin Cadastre entre la version install\u00e9e et la version pr\u00e9c\u00e9dente. Cette fen\u00eatre est affich\u00e9e automatiquement une premi\u00e8re fois lors de la mont\u00e9e de version.</p>"},{"location":"extension-qgis/interface/#les-parcelles","title":"Les parcelles","text":"<p>Dans le mod\u00e8le, plusieurs tables contiennent des informations sur les parcelles</p> <ul> <li> <p>geo_parcelle : contient les parcelles EDIGEO</p> </li> <li> <p>parcelle : contient les donn\u00e9es MAJIC li\u00e9es aux parcelles cadastrales</p> </li> <li> <p>parcelle_info : contient une version consolid\u00e9e des parcelles EDIGEO et MAJIC : la g\u00e9om\u00e9trie EDIGEO, et   les informations r\u00e9sum\u00e9es de la parcelle, dont les propri\u00e9taires (information s\u00e9par\u00e9e par la barre   verticale | si la parcelle a plusieurs propri\u00e9taires)</p> </li> </ul> <p>Les champs parcelle.parcelle et geo_parcelle.geo_parcelle peuvent \u00eatre utilis\u00e9s pour les jointures entre la table parcelle et la table geo_parcelle</p> <p>L'identifiant geo_parcelle (ou parcelle) est unique et constitu\u00e9 comme suit : Ann\u00e9e (4) + D\u00e9partement (2) + Direction (1) + Commune (3) + Pr\u00e9fixe (3) + Secteur (2) + Num\u00e9ro de plan (4) soit 19 caract\u00e8res</p> <p></p>"},{"location":"extension-qgis/videos/","title":"Vid\u00e9os","text":"<p>Pour faciliter la prise en main, vous pouvez consulter les vid\u00e9os en ligne :</p> <ul> <li>Import et chargement : https://vimeo.com/75004889</li> <li>Recherche : https://vimeo.com/74807532</li> </ul>"},{"location":"module-lizmap/","title":"Module Lizmap","text":"<p>Il est possible d'exploiter les donn\u00e9es cadastrales dans l'interface web de Lizmap.</p> <p>Pour cela, il faut :</p> <ul> <li>installer le module sur le serveur Lizmap</li> <li>configurer le projet QGIS</li> </ul> <p></p>"},{"location":"module-lizmap/configuration/","title":"Configuration","text":""},{"location":"module-lizmap/configuration/#dans-qgis","title":"Dans QGIS","text":""},{"location":"module-lizmap/configuration/#configurer-le-projet-qgis","title":"Configurer le projet QGIS","text":"<p>Pour utiliser le module cadastre dans Lizmap Web Client il vous faut d'abord configurer un projet QGIS :</p> <ul> <li> <p>Vous aurez besoin d'installer l'extension QGIS Cadastre sur votre QGIS Bureautique via le gestionnaire d'extensions, ainsi que sur votre serveur QGIS Serveur dans un dossier nomm\u00e9 <code>cadastre</code>.</p> </li> <li> <p>Il faut ensuite cr\u00e9er un projet QGIS contenant les donn\u00e9es cadastrales, et le configurer avec l'extension Cadastre :</p> <ul> <li>Utilisez l'outil de chargement des couches, il configurera notamment les variables dans le projet   ainsi que les couches requises. Sinon, il faut utiliser l'algorithme de QGIS dans le menu Traitements pour   configurer le projet.</li> </ul> <p></p> <ul> <li>Dans les propri\u00e9t\u00e9s du projet, onglet <code>QGIS Serveur</code>, il faut publier en WFS les couches   <code>Communes</code>, <code>Parcelles</code> et <code>Sections</code>.</li> </ul> <p></p> </li> </ul> Liste des variables qui doivent \u00eatre dans les propri\u00e9t\u00e9s du projet <p>Ces variables sont obligatoires dans les propri\u00e9t\u00e9s du projet pour avoir le module Cadastre fonctionnel sur le projet en question :</p> <ul> <li><code>cadastre_commune_layer_id</code></li> <li><code>cadastre_commune_unique_field</code></li> <li><code>cadastre_section_layer_id</code></li> <li><code>cadastre_section_unique_field</code></li> <li><code>cadastre_parcelle_layer_id</code></li> <li><code>cadastre_parcelle_unique_field</code></li> </ul>"},{"location":"module-lizmap/configuration/#configurer-la-publication-avec-lextension-lizmap","title":"Configurer la publication avec l'extension Lizmap","text":"<p>Vous devez maintenant cr\u00e9er ou modifier la configuration lizmap via l'extension Lizmap pour QGIS :</p> <ul> <li> <p>Il faut obligatoirement ajouter la couche <code>Parcelles</code> dans l'onglet table attributaire.</p> <ul> <li>Pour les performances, pensez \u00e0 cocher la case Limiter les donn\u00e9es \u00e0 l'emprise courante en bas de la fen\u00eatre   pour l'onglet table attributaire</li> </ul> </li> </ul> <p></p> <p>Tip</p> <p>Pour les performances, vous pouvez aussi cocher Masquer la couche dans la liste pour la configuration de la couche <code>Parcelles</code>. La fonction de s\u00e9lection sera active, mais la couche <code>Parcelles</code> n'appara\u00eetra pas dans la liste des tables attributaires disponibles.</p> <p></p> <ul> <li> <p>La couche <code>Parcelles</code> ne doit pas \u00eatre dans un groupe qui a l'option <code>Groupe comme une couche</code> activ\u00e9e dans l'onglet <code>Couches</code> de Lizmap.</p> </li> <li> <p>Vous devez activer la popup pour la couche des <code>Parcelles</code>, via l'onglet <code>Couches</code> de l'extension Lizmap.</p> </li> </ul> <p>Warning</p> <p>Selon le public vis\u00e9, vous devrez adapter les champs visibles dans la popup de Lizmap, notamment les champs <code>proprietaire</code> et <code>proprietaire_infos</code> qui contiennent des donn\u00e9es sensibles issues des fichiers MAJIC.</p> <ul> <li> <p>Si vous utilisez la popup Automatique de Lizmap, d\u00e9sactiver le WMS pour les champs souhait\u00e9s dans l'onglet <code>Champs</code> des propri\u00e9t\u00e9s de la couche (tout \u00e0 droite du tableau)</p> </li> <li> <p>Si vous utilisez la popup Infobulle QGIS, adaptez la configuration en supprimant le contenu HTML non souhait\u00e9, visible dans l'onglet <code>Affichage</code> (ou <code>Infobulle</code>) des propri\u00e9t\u00e9s de la couche, groupe <code>Infobulle HTML</code></p> </li> </ul> <ul> <li>\u00c0 noter que depuis la version 1.6.0 du module Cadastre, lorsque l'utilisateur a le droit de voir les donn\u00e9es de propri\u00e9taires, le contenu d\u00e9taill\u00e9 des informations de la parcelle est affich\u00e9 sous le contenu de la popup. Les onglets correspondent \u00e0 ceux visibles dans QGIS lorsqu'on affiche le d\u00e9tail d'une parcelle : Parcelle, Propri\u00e9taires, Subdivisions fiscales, Locaux, Locaux : informations d\u00e9taill\u00e9es. Vous pouvez donc afficher moins d'information dans la popup, par exemple seulement le code de la parcelle et la commune</li> </ul>"},{"location":"module-lizmap/configuration/#dans-lizmap-web-client","title":"Dans Lizmap Web Client","text":"<p>Maintenant, vous devez configurer les droits d'acc\u00e8s \u00e0 l'outil via l'interface d'administration. Le module a cr\u00e9\u00e9 :</p> <ul> <li>un groupe d'utilisateurs <code>Cadastre Lizmap</code> (identifiant <code>cadastre_lizmap</code>)</li> <li>2 sujets de droit : <code>Acc\u00e9der aux donn\u00e9es de propri\u00e9taires</code> et <code>Utiliser le panneau de recherche</code></li> </ul> <p>Vous pouvez mettre certains utilisateurs dans ce groupe <code>Cadastre Lizmap</code>. Ils auront alors acc\u00e8s au panneau de recherche par localisation ET par nom de propri\u00e9taires. Vous devez bien faire attention de n'accorder le droit <code>Acc\u00e9der aux donn\u00e9es de propri\u00e9taires</code> qu'aux personnes habilit\u00e9es !.</p> <p>Vous pouvez modifier plus finement les droits via le bouton <code>Changer les droits des groupes</code> situ\u00e9s dans le menu <code>Groupes d'utilisateurs pour les droits</code> de l'interface d'administration de Lizmap Web Client.</p> <p>Warning</p> <p>Cette page modifie fortement les droits par d\u00e9faut des groupes d'utilisateurs. Nous conseillons de ne pas toucher aux droits li\u00e9s \u00e0 Lizmap ici, sauf si vous ma\u00eetrisez ce que vous faites.</p>"},{"location":"module-lizmap/installation/","title":"Installation du module","text":"<p>Une fois que Lizmap Web Client est install\u00e9 et fonctionnel, vous pouvez installer le module cadastre et l'extension QGIS Serveur cadastre.</p> <p>Depuis la version 1.5.2 du module, il est souhaitable de l'installer avec Composer, le syst\u00e8me de paquet pour PHP. Si vous ne pouvez pas, ou si vous utilisez lizmap 3.3 ou inf\u00e9rieur, passez \u00e0 la section sur l'installation manuelle.</p>"},{"location":"module-lizmap/installation/#extension-qgis-serveur","title":"Extension QGIS Serveur","text":"<p>Pour que le module soit fonctionnel, il faut installer l'extension QGIS Serveur Cadastre. Il s'agit de la m\u00eame extension que celle sur QGIS Bureautique. Veuillez regarder la documentation QGIS sur l'utilisation des extensions c\u00f4t\u00e9 serveur.</p> <p>Nous recommandons l'usage de QGIS-Plugin-Manager pour l'installation et la mise \u00e0 jour des extensions c\u00f4t\u00e9 serveur.</p>"},{"location":"module-lizmap/installation/#le-module","title":"Le module","text":""},{"location":"module-lizmap/installation/#installation-automatique-avec-composer-et-lizmap-34-ou-plus","title":"Installation automatique avec Composer et lizmap 3.4 ou plus","text":"<ul> <li>dans <code>lizmap/my-packages</code>, cr\u00e9er le fichier <code>composer.json</code> s'il n'existe pas   d\u00e9j\u00e0, en copiant le fichier <code>composer.json.dist</code>, qui s'y trouve.</li> </ul> <pre><code>cd lizmap/my-packages/\ncp -n composer.json.dist composer.json\n</code></pre> <ul> <li>en ligne de commande, dans le r\u00e9pertoire <code>lizmap/my-packages/</code>, tapez :</li> </ul> <pre><code>composer require \"lizmap/lizmap-cadastre-module\"\n</code></pre> <ul> <li>puis dans le r\u00e9pertoire <code>lizmap/install/</code> :</li> </ul> <p>Si vous utilisez Lizmap 3.6 ou plus, lancez d'abord les commandes :</p> <pre><code>php configurator.php cadastre\n</code></pre> <p>Enfin pour Lizmap 3.4 \u00e0 3.6 et plus, lancez les scripts d'installation :</p> <pre><code>cd ../install\nphp installer.php\n./clean_vartmp.sh\n./set_rights.sh\n</code></pre>"},{"location":"module-lizmap/installation/#installation-manuelle-dans-lizmap-33-ou-34-sans-composer","title":"Installation manuelle dans lizmap 3.3 ou 3.4 sans Composer","text":"<ul> <li>T\u00e9l\u00e9charger l'archive ZIP de la derni\u00e8re version du module cadastre dans   la page des releases de Github.</li> <li>Extraire l'archive et copier le r\u00e9pertoire <code>cadastre</code> dans le r\u00e9pertoire <code>lizmap/lizmap-modules/</code> de l'application   Lizmap Web Client.</li> <li>\u00c9diter le fichier <code>lizmap/var/config/localconfig.ini.php</code> et modifier la section <code>[modules]</code> en ajoutant la ligne   <code>cadastre.access=2</code> sous la section :</li> </ul> <pre><code>[modules]\ncadastre.access=2\n</code></pre> <ul> <li>puis dans le r\u00e9pertoire <code>lizmap/install/</code>, lancer les commandes suivantes :</li> </ul> <pre><code>php installer.php\n./clean_vartmp.sh\n./set_rights.sh\n</code></pre>"},{"location":"processing/","title":"Processing","text":""},{"location":"processing/#_1","title":"Processing","text":""},{"location":"processing/#configuration-du-projet","title":"Configuration du projet","text":"<p>Ce traitement permet de configurer un projet QGIS pour de la publication sur le web avec Lizmap https://github.com/3liz/lizmap-web-client/ et son module Cadastre https://github.com/3liz/lizmap-cadastre-module</p> <p></p>"},{"location":"processing/#parameters","title":"Parameters","text":"ID Description Type Info Required Advanced Option COMMUNE_LAYER La couche communes VectorLayer \u2713 Default: Communes  Type: TypeVectorPolygon  COMMUNE_UNIQUE_FIELD Champs identifiant les communes Field \u2713 Default: geo_commune  SECTION_LAYER La couche sections VectorLayer \u2713 Type: TypeVectorPolygon  SECTION_UNIQUE_FIELD Champs identifiant les sections Field \u2713 Default: geo_section  PARCELLE_LAYER La couche parcelles VectorLayer \u2713 Type: TypeVectorPolygon  PARCELLE_UNIQUE_FIELD Champs identifiant les parcelles Field \u2713 Default: geo_parcelle"},{"location":"processing/#outputs","title":"Outputs","text":"ID Description Type Info SUCCESS Succ\u00e8s Number"},{"location":"processing/#telechargeur-edigeo-communal","title":"T\u00e9l\u00e9chargeur \u00c9dig\u00e9o communal","text":"<p>Ce traitement permet de t\u00e9l\u00e9charger toutes les feuilles Edig\u00e9o sur plusieurs communes. La date peut-\u00eatre \"latest\" ou alors une date disponible sur https://cadastre.data.gouv.fr/datasets/plan-cadastral-informatise L'URL ne doit pas \u00eatre chang\u00e9, sauf si l'API de cadastre.gouv.fr change.</p> <p></p>"},{"location":"processing/#parameters_1","title":"Parameters","text":"ID Description Type Info Required Advanced Option LISTE_CODE_INSEE Liste des code INSEE \u00e0 t\u00e9l\u00e9charger String s\u00e9par\u00e9s par \",\" \u2713 FILTRE Filtre sur les feuilles String s\u00e9par\u00e9s par \",\", peut-\u00eatre \"050170000C03,AB\" qui t\u00e9l\u00e9chargent toutes les feuilles AB et 050170000C03 DOSSIER Dossier de destination FolderDestination Dossier de destination pour les fichiers Edigeo \u2713 DATE Date, disponible sur le site cadastre.data.gouv.fr (exemple \"2021-02-01\") String Par d\u00e9faut \"latest\" \u2713 Default: latest  URL_TEMPLATE URL mod\u00e8le, avec {date}, {departement}, {commune} String \u00c0 ne changer que si l'URL change \u2713 \u2713 Default: https://cadastre.data.gouv.fr/data/dgfip-pci-vecteur/{date}/edigeo/feuilles/{departement}/{commune}/"},{"location":"processing/#outputs_1","title":"Outputs","text":"ID Description Type Info DOSSIER Dossier de destination Folder NB_COMMUNES Nombre de communes Number NB_FEUILLES Nombre de feuilles Number DEPARTEMENTS D\u00e9partements, s\u00e9par\u00e9s par \",\" String"}]}